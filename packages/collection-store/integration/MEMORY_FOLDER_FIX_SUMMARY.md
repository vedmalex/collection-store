# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´ –° –°–û–ó–î–ê–ù–ò–ï–ú –ü–ê–ü–ö–ò `:memory:` - –ò–¢–û–ì–û–í–´–ô –û–¢–ß–ï–¢

## üìã –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ `bun test` –≤ collection-store —Å–æ–∑–¥–∞–≤–∞–ª–∞—Å—å —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è –ø–∞–ø–∫–∞ `:memory:` –≤ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ, —Ö–æ—Ç—è —ç—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ç–æ–ª—å–∫–æ in-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

### üö® –ü—Ä–æ–±–ª–µ–º–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:
```bash
# –ü–æ—Å–ª–µ bun test —Å–æ–∑–¥–∞–≤–∞–ª–∞—Å—å –ø–∞–ø–∫–∞
packages/collection-store/:memory:/
‚îú‚îÄ‚îÄ db1-9.json
‚îú‚îÄ‚îÄ db2-9.json
‚îú‚îÄ‚îÄ memory-convention-8.json
‚îú‚îÄ‚îÄ memory-convention-new-8.json
‚îú‚îÄ‚îÄ multi-collection-test-4.json
‚îú‚îÄ‚îÄ test-memory-db-1.json
‚îî‚îÄ‚îÄ test-memory-operations-3.json
```

**–ü—Ä–∏—á–∏–Ω–∞:** CSDatabase –ø—ã—Ç–∞–ª—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ñ–∞–π–ª—ã –¥–∞–∂–µ –¥–ª—è in-memory –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö.

## üîß –†–µ—à–µ–Ω–∏–µ

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã –≤ CSDatabase.ts:

1. **`writeSchema()`** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `if (this.root === ':memory:') return`
2. **`load()`** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `if (this.root === ':memory:') return`
3. **`persist()`** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `if (this.root === ':memory:') return Promise.resolve([])`

### üìù –ö–æ–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

```typescript
private async writeSchema() {
  // ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ù–µ —Å–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª—ã –¥–ª—è in-memory –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
  if (this.root === ':memory:') {
    return // Skip file operations for in-memory databases
  }
  // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
}

async load() {
  // ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ù–µ –∑–∞–≥—Ä—É–∂–∞–µ–º —Ñ–∞–π–ª—ã –¥–ª—è in-memory –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
  if (this.root === ':memory:') {
    return // Skip file operations for in-memory databases
  }
  // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
}

async persist() {
  // ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ù–µ —Å–æ—Ö—Ä–∞–Ω—è–µ–º in-memory –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –Ω–∞ –¥–∏—Å–∫
  if (this.root === ':memory:') {
    return Promise.resolve([]) // Skip persistence for in-memory databases
  }
  // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
}
```

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢

### üéØ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

1. **–£–¥–∞–ª–µ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ø–∞–ø–∫–∞ `:memory:`** - ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û
2. **–ó–∞–ø—É—â–µ–Ω—ã —Ç–µ—Å—Ç—ã memory adapter** - ‚úÖ 9/9 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç
3. **–ó–∞–ø—É—â–µ–Ω –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤** - ‚úÖ 692/692 —Ç–µ—Å—Ç–∞ –ø—Ä–æ—Ö–æ–¥—è—Ç
4. **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–∞–ø–∫–∏ `:memory:`** - ‚úÖ –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–û

### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ—Å—Ç–æ–≤:
- **‚úÖ 692 —Ç–µ—Å—Ç–∞ –ø—Ä–æ—Ö–æ–¥—è—Ç** (100% success rate)
- **‚úÖ 2325 expect() –≤—ã–∑–æ–≤–æ–≤** - –≤—Å–µ —É—Å–ø–µ—à–Ω—ã
- **‚úÖ –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 899ms
- **‚úÖ –ü–∞–ø–∫–∞ `:memory:` –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è**

## üéØ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ MikroORM —Å–æ–≥–ª–∞—à–µ–Ω–∏—è–º

–¢–µ–ø–µ—Ä—å collection-store –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–ª–µ–¥—É–µ—Ç MikroORM —Å–æ–≥–ª–∞—à–µ–Ω–∏—é:
- `dbName: ':memory:'` ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ –ø–∞–º—è—Ç—å, –Ω–µ —Å–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª—ã
- `dbName: 'path/to/db'` ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

## ‚úÖ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞!**

- ‚úÖ In-memory –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –±–æ–ª—å—à–µ –Ω–µ —Å–æ–∑–¥–∞—é—Ç —Ñ–∞–π–ª—ã
- ‚úÖ –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚úÖ –ù–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è memory adapter –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –°–æ–±–ª—é–¥–∞–µ—Ç—Å—è MikroORM —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ –¥–ª—è `dbName: ':memory:'`

---
*–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–∞–≤–∏–ª–∞–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ DEVELOPMENT_RULES.md*