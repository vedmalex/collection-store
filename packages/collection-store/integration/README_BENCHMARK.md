# üöÄ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –±–µ–Ω—á–º–∞—Ä–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ Query Systems

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### ‚ö° –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ë–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç —Å 1000 –∑–∞–ø–∏—Å–µ–π
bun src/benchmark/simple_performance_test.ts

# –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç (—Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã)
BENCH_QUICK=true bun src/benchmark/simple_performance_test.ts

# –¢–µ—Å—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
BENCH_CATEGORY=logical bun src/benchmark/simple_performance_test.ts

# –¢–µ—Å—Ç —Å –±–æ–ª—å—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞
BENCH_DATA_SIZE=10000 bun src/benchmark/simple_performance_test.ts
```

### üîß Vitest –±–µ–Ω—á–º–∞—Ä–∫

```bash
# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å vitest
bun vitest bench src/benchmark/build_query.bench.ts --run

# –° –≤—ã–±–æ—Ä–æ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
BENCH_CATEGORY=basic bun vitest bench src/benchmark/build_query.bench.ts --run
```

## üìà –í–ø–µ—á–∞—Ç–ª—è—é—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### üèÜ –õ—É—á—à–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

- **–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏—Ä–æ—Å—Ç**: **7.56x –±—ã—Å—Ç—Ä–µ–µ** (–Ω–∞ 10,000 –∑–∞–ø–∏—Å–µ–π)
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏—Ä–æ—Å—Ç**: **–¥–æ 57.83x –±—ã—Å—Ç—Ä–µ–µ** (numericRange –∑–∞–ø—Ä–æ—Å—ã)
- **–°—Ç–∞–±–∏–ª—å–Ω—ã–π –ø—Ä–∏—Ä–æ—Å—Ç**: –Ω–∞ –≤—Å–µ—Ö —Ç–∏–ø–∞—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —Ä–∞–∑–º–µ—Ä–∞—Ö –¥–∞–Ω–Ω—ã—Ö
- **100% —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–µ–∂–¥—É —Å–∏—Å—Ç–µ–º–∞–º–∏

### üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏—Ä–æ—Å—Ç | –õ—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-----------------|------------------|----------|
| **fieldAccess** | **15.38x** | 57.83x | –î–æ—Å—Ç—É–ø –∫ –ø–æ–ª—è–º –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è |
| **logical** | **12.66x** | 18.98x | –°–ª–æ–∂–Ω—ã–µ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ |
| **specialized** | **3.85x** | 12.45x | –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ |
| **basic** | **1.87x** | 2.56x | –ë–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ |
| **arrayOps** | **1.86x** | 1.86x | –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –º–∞—Å—Å–∏–≤–∞–º–∏ |

## üéØ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

### üìã Basic (–ë–∞–∑–æ–≤—ã–µ)
- **baseline** - –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Å $or, $in, $gt
- **array** - –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –º–∞—Å—Å–∏–≤–∞–º–∏ ($size, $all, $elemMatch)
- **bitwise** - –±–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ ($bitsAllSet, $bitsAnySet)
- **evaluation** - regex –∏ –º–æ–¥—É–ª—å ($regex, $mod)

### üß† Logical (–õ–æ–≥–∏—á–µ—Å–∫–∏–µ)
- **complexLogical** - —Å–ª–æ–∂–Ω—ã–µ $and/$or –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏
- **mixedComplex** - —Å–º–µ—à–∞–Ω–Ω—ã–µ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- **performanceStress** - —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### üîç FieldAccess (–î–æ—Å—Ç—É–ø –∫ –ø–æ–ª—è–º)
- **deepNested** - –≥–ª—É–±–æ–∫–æ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–æ–ª—è
- **textSearch** - —Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –∏ regex
- **numericRange** - —á–∏—Å–ª–æ–≤—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã
- **simpleField** - –ø—Ä–æ—Å—Ç—ã–µ –ø–æ–ª—è
- **comparison** - –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

### üìö ArrayOps (–û–ø–µ—Ä–∞—Ü–∏–∏ —Å –º–∞—Å—Å–∏–≤–∞–º–∏)
- **arrayOperations** - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –º–∞—Å—Å–∏–≤–∞–º–∏
- **array** - –±–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –º–∞—Å—Å–∏–≤–∞–º–∏

### ‚öôÔ∏è Specialized (–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)
- **dateTime** - –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –¥–∞—Ç–∞–º–∏
- **typeCheck** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
- **existence** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø–æ–ª–µ–π
- **advancedBitwise** - –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –±–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- **regexVariations** - —Ä–∞–∑–ª–∏—á–Ω—ã–µ regex –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- **whereClause** - $where —Ñ—É–Ω–∫—Ü–∏–∏
- **stringOperations** - –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏

## üõ†Ô∏è –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö

| –†–∞–∑–º–µ—Ä | –ó–∞–ø–∏—Å–µ–π | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|--------|---------|--------------|
| `100` | 100 | –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |
| `1000` | 1,000 | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
| `10000` | 10,000 | **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è** –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ |
| `100000` | 100,000 | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç |
| `1000000` | 1,000,000 | –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ –Ω–∞–≥—Ä—É–∑–∫–∏ |

## üéÆ –†–µ–∂–∏–º—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º
```bash
BENCH_QUICK=true bun src/benchmark/simple_performance_test.ts
```
–¢–µ—Å—Ç–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ 4 –±–∞–∑–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏.

### üìÇ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
```bash
# –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–ª—É—á—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)
BENCH_CATEGORY=logical bun src/benchmark/simple_performance_test.ts

# –î–æ—Å—Ç—É–ø –∫ –ø–æ–ª—è–º (–º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏—Ä–æ—Å—Ç)
BENCH_CATEGORY=fieldAccess bun src/benchmark/simple_performance_test.ts

# –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
BENCH_CATEGORY=specialized bun src/benchmark/simple_performance_test.ts
```

### üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
```bash
# –ë–æ–ª—å—à–µ –∏—Ç–µ—Ä–∞—Ü–∏–π –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏
BENCH_ITERATIONS=20 bun src/benchmark/simple_performance_test.ts

# –ë–æ–ª—å—à–µ –ø—Ä–æ–≥—Ä–µ–≤–∞ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
BENCH_WARMUP=5 bun src/benchmark/simple_performance_test.ts

# –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
BENCH_DATA_SIZE=10000 BENCH_CATEGORY=logical BENCH_ITERATIONS=15 bun src/benchmark/simple_performance_test.ts
```

## üìä –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### üèÜ –õ—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (57.83x –±—ã—Å—Ç—Ä–µ–µ)
```javascript
// numericRange - —á–∏—Å–ª–æ–≤—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã
{
  rating: { $gte: 3.5, $lte: 4.8 },
  'stats.loginCount': { $gt: 50 },
  'stats.totalSpent': { $gte: 100.0 },
  score: { $mod: [10, 0] }
}
```

### üß† –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ (18.98x –±—ã—Å—Ç—Ä–µ–µ)
```javascript
// complexLogical - —Å–ª–æ–∂–Ω—ã–µ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
{
  $and: [
    { age: { $gte: 25, $lte: 45 } },
    {
      $or: [
        { category: 'premium' },
        { rating: { $gte: 4.0 } }
      ]
    }
  ],
  status: { $ne: 'suspended' },
  'profile.settings.notifications': { $ne: false }
}
```

### üîç –ì–ª—É–±–æ–∫–∏–µ –ø–æ–ª—è (6.43x –±—ã—Å—Ç—Ä–µ–µ)
```javascript
// deepNested - –¥–æ—Å—Ç—É–ø –∫ –≤–ª–æ–∂–µ–Ω–Ω—ã–º –ø–æ–ª—è–º
{
  'nested.deep.level': { $gt: 5 },
  'nested.deep.active': true,
  'profile.settings.theme': { $in: ['dark', 'auto'] },
  'location.coordinates.lat': { $gte: 0 },
  'metadata.version': { $ne: 1 }
}
```

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Compiled Query –∫–æ–≥–¥–∞:
- –†–∞–±–æ—Ç–∞–µ—Ç–µ —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–º–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö (1000+ –∑–∞–ø–∏—Å–µ–π)
- –í—ã–ø–æ–ª–Ω—è–µ—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ
- –ù—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Å–ª–æ–∂–Ω—ã–µ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- –†–∞–±–æ—Ç–∞–µ—Ç–µ —Å —á–∏—Å–ª–æ–≤—ã–º–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º–∏
- –û–±—Ä–∞—â–∞–µ—Ç–µ—Å—å –∫ –≥–ª—É–±–æ–∫–æ –≤–ª–æ–∂–µ–Ω–Ω—ã–º –ø–æ–ª—è–º

### üìà –û–∂–∏–¥–∞–µ–º—ã–π –ø—Ä–∏—Ä–æ—Å—Ç –ø–æ —Ç–∏–ø–∞–º:
- **–ß–∏—Å–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**: 10-57x –±—ã—Å—Ç—Ä–µ–µ
- **–õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**: 5-19x –±—ã—Å—Ç—Ä–µ–µ
- **–ë–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**: 2-3x –±—ã—Å—Ç—Ä–µ–µ
- **–û–ø–µ—Ä–∞—Ü–∏–∏ —Å –º–∞—Å—Å–∏–≤–∞–º–∏**: 1.5-2x –±—ã—Å—Ç—Ä–µ–µ
- **Regex –æ–ø–µ—Ä–∞—Ü–∏–∏**: 1.5-2.5x –±—ã—Å—Ç—Ä–µ–µ

## üîÑ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Å–µ—Ö —Ä–∞–∑–º–µ—Ä–æ–≤
bun src/benchmark/generate_data.ts

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
bun src/benchmark/generate_data.ts 50000 custom_data.json
```

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

–ù–æ–≤–∞—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–∫–ª—é—á–∞–µ—Ç:
- **–ë–∞–∑–æ–≤—ã–µ –ø–æ–ª—è**: id, name, age, tags, status, score
- **–í–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã**: nested.deep, profile.settings, location
- **–ú–∞—Å—Å–∏–≤—ã**: items, values, scores, permissions
- **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**: created, updated, version
- **–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–æ–ª—è**: email, rating, features, stats

## üìö –û—Ç—á–µ—Ç—ã

- `PERFORMANCE_BENCHMARK_REPORT.md` - –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- `BENCHMARK_FINAL_SUMMARY.md` - –∏—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç
- –≠—Ç–æ—Ç —Ñ–∞–π–ª - –∫—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

---

**üéâ Compiled Query –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –≤–ø–µ—á–∞—Ç–ª—è—é—â–∏–π –ø—Ä–∏—Ä–æ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–æ 57x –±—ã—Å—Ç—Ä–µ–µ!**