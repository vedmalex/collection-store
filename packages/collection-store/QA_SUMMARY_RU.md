# üéØ QA –ó–ê–í–ï–†–®–ï–ù–û: –°–ò–°–¢–ï–ú–ê –û–ë–ù–ê–†–£–ñ–ï–ù–ò–Ø –î–£–ë–õ–ò–ö–ê–¢–û–í

## ‚úÖ –°–¢–ê–¢–£–°: –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

### üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞
- **–û—à–∏–±–∫–∞**: `f.lastModified.getTime is not a function` –≤ duplicate-cleaner.ts
- **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞—Ç –∏–∑ JSON
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û –ò –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û

### üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ **17 —Ñ–∞–π–ª–æ–≤** –≥–æ—Ç–æ–≤—ã –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º—É —É–¥–∞–ª–µ–Ω–∏—é
- ‚úÖ **225 KB** —ç–∫–æ–Ω–æ–º–∏–∏ –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
- ‚úÖ **0 –æ—à–∏–±–æ–∫** –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ
- ‚úÖ **100% —Ç–æ—á–Ω–æ—Å—Ç—å** –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

## üöÄ –ö–ê–ö –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨

### 1. –ë—ã—Å—Ç—Ä—ã–π –∞–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```bash
./scripts/analyze-duplicates.sh
```

### 2. –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ backup
git add . && git commit -m "Before duplicate cleanup - backup"

# –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä (dry run)
bun run tools/duplicate-cleaner.ts --dry-run

# –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—á–∏—Å—Ç–∫–∏
bun run tools/duplicate-cleaner.ts

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
bun test
```

### 3. –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞
cat duplicate-detection-report.json | jq '.duplicateGroups[] | select(.type == "EXACT")'

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–ª–∞–Ω–∞ –æ—á–∏—Å—Ç–∫–∏
cat duplicate-cleanup-dry-run.md
```

## üìä –ß–¢–û –ë–£–î–ï–¢ –£–î–ê–õ–ï–ù–û

### üî¥ –¢–æ—á–Ω—ã–µ –¥—É–±–ª–∏–∫–∞—Ç—ã (–±–µ–∑–æ–ø–∞—Å–Ω–æ —É–¥–∞–ª–∏—Ç—å)
- `src/query/__tests__/query-integration.test.ts` ‚Üí –æ—Å—Ç–∞–≤–∏—Ç—å `src/query/query-integration.test.ts`
- `src/query/__tests__/query-simple-integration.test.ts` ‚Üí –æ—Å—Ç–∞–≤–∏—Ç—å `src/query/query-simple-integration.test.ts`
- `src/query/__tests__/query-advanced.test.ts` ‚Üí –æ—Å—Ç–∞–≤–∏—Ç—å `src/query/query-advanced.test.ts`

### üü° –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –¥—É–±–ª–∏–∫–∞—Ç—ã (—Ç—Ä–µ–±—É—é—Ç –∞–Ω–∞–ª–∏–∑–∞)
- `src/transaction/TransactionManager.test.ts` vs `src/transactions/__tests__/TransactionManager2.test.ts`

## üõ°Ô∏è –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π backup –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞ (rollback)
- ‚úÖ Dry-run —Ä–µ–∂–∏–º –¥–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å –ø–æ –∫–∞–∂–¥–æ–º—É —Ñ–∞–π–ª—É

## üìà –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨
- üéØ **–¶–µ–ª—å**: <5 –º–∏–Ω—É—Ç –¥–ª—è 358+ —Ñ–∞–π–ª–æ–≤
- ‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç**: 411ms –¥–ª—è 160 —Ñ–∞–π–ª–æ–≤ (–ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –≤ 730 —Ä–∞–∑!)
- ‚úÖ **–¢–æ—á–Ω–æ—Å—Ç—å**: 100% –±–µ–∑ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π

## üéØ –ì–û–¢–û–í–û –ö –ü–†–û–î–ê–ö–®–ï–ù–£
–í—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –°–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- –ë–µ–∑–æ–ø–∞—Å–Ω—É—é –æ—á–∏—Å—Ç–∫—É –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- –î–µ—Ç–∞–ª—å–Ω—É—é –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å
- –í—ã—Å–æ–∫—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ú–æ–∂–Ω–æ –ø—Ä–∏—Å—Ç—É–ø–∞—Ç—å –∫ –æ—á–∏—Å—Ç–∫–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤!