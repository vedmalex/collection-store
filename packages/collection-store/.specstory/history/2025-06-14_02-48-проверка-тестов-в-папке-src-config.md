<!-- Generated by SpecStory -->

# Проверка тестов в папке src/config (2025-06-14 05:48:22)

_**User**_

давай проверим тесты в папке src/config

---

_**Assistant**_



---

Хорошо, давайте запустим тесты в папке `src/config`. Я использую `bun` в качестве тестового раннера, как указано в ваших правилах.


---

Model provided invalid arguments to terminal tool.

---



---

Я извиняюсь, я допустил ошибку в предыдущей команде, пропустив обязательный параметр. Давайте повторим и запустим тесты в папке `src/config`, убедившись, что команда выполняется на переднем плане.


---

```bash
bun test src/config
```

```
bun test v1.2.16 (631e6748)

src/config/__test__/QuotaManager.test.ts:
✓ QuotaManager > getQuotas > should return the quota config if it exists [0.85ms
]
✓ QuotaManager > getQuotas > should return null if no quota config exists [0.04m
s]
✓ QuotaManager > isStorageExceeded > should return false if usage is below the q
uota [1.05ms]
✓ QuotaManager > isStorageExceeded > should return true if usage is above the qu
ota [0.07ms]
✓ QuotaManager > isStorageExceeded > should return false if no storage quota is
set [0.04ms]
✓ QuotaManager > isStorageExceeded > should correctly parse different byte units
 [0.04ms]
✓ QuotaManager > isStorageExceeded > should throw an error for invalid byte stri
ngs [0.12ms]

src/config/__test__/ConfigurationManager.test.ts:
24 |    * @throws {Error} If the file is not found, cannot be parsed, or is inva
lid.
25 |    */
26 |   public static loadFromFile(filePath: string, enableHotReload: boolean = f
alse): CollectionStoreConfig
 {
                            27 |     const absolutePath = path.resolve(filePath)
;
28 |     if (!fs.existsSync(absolutePath)) {
29 |       throw new Error(`Configuration file not found at: ${absolutePath}`);
                                                                             ^
error: Configuration file not found at: /Users/vedmalex/work/collection-store/pa
ckages/collection-store/test
-data/config/valid.yml
                                  at loadFromFile (/Users/vedmalex/work/collecti
on-store/packages/collection-store/src/config/Configurat
ionManager.ts:29:73)
                                  at <anonymous> (/Users/vedmalex/work/collectio
n-store/packages/collection-store/src/config/__test__/Co
nfigurationManager.test.ts:21:43)
                            ✗ ConfigurationManager > loadFromFile > should load
and validate a correct YAML configuration file [0.26ms]
24 |    * @throws {Error} If the file is not found, cannot be parsed, or is inva
lid.
25 |    */
26 |   public static loadFromFile(filePath: string, enableHotReload: boolean = f
alse): CollectionStoreConfig
 {
                            27 |     const absolutePath = path.resolve(filePath)
;
28 |     if (!fs.existsSync(absolutePath)) {
29 |       throw new Error(`Configuration file not found at: ${absolutePath}`);
                                                                             ^
error: Configuration file not found at: /Users/vedmalex/work/collection-store/pa
ckages/collection-store/test
-data/config/valid.json
                                  at loadFromFile (/Users/vedmalex/work/collecti
on-store/packages/collection-store/src/config/Configurat
ionManager.ts:29:73)
                                  at <anonymous> (/Users/vedmalex/work/collectio
n-store/packages/collection-store/src/config/__test__/Co
nfigurationManager.test.ts:29:43)
                            ✗ ConfigurationManager > loadFromFile > should load
and validate a correct JSON configuration file [0.11ms]
✓ ConfigurationManager > loadFromFile > should throw an error if the file does n
ot exist [0.07ms]
39 |     });
40 | 
41 |     it('should throw an error for a file with invalid syntax', () => {
42 |       expect(() => {
43 |         ConfigurationManager.loadFromFile(invalidSyntaxPath);
44 |       }).toThrow(/Failed to parse configuration file/);
              ^
error: expect(received).toThrow(expected)

Expected pattern: /Failed to parse configuration file/
Received message: "Configuration file not found at: /Users/vedmalex/work/collect
ion-store/packages/collectio
n-store/test-data/config/invalid-syntax.yml"
                            
      at <anonymous> (/Users/vedmalex/work/collection-store/packages/collection-
store/src/config/__test__/Co
nfigurationManager.test.ts:44:10)
                            ✗ ConfigurationManager > loadFromFile > should throw
 an error for a file with invalid syntax [0.09ms]
45 |     });
46 | 
47 |     it('should throw a validation error for a file with invalid structure',
 () => {
48 |       expect(() => {
49 |         ConfigurationManager.loadFromFile(invalidStructurePath);
50 |       }).toThrow(/Configuration validation failed/);
              ^
error: expect(received).toThrow(expected)

Expected pattern: /Configuration validation failed/
Received message: "Configuration file not found at: /Users/vedmalex/work/collect
ion-store/packages/collectio
n-store/test-data/config/invalid-structure.yml"
                            
      at <anonymous> (/Users/vedmalex/work/collection-store/packages/collection-
store/src/config/__test__/Co
nfigurationManager.test.ts:50:10)
                            ✗ ConfigurationManager > loadFromFile > should throw
 a validation error for a file with invalid structure [0
.06ms]
                            50 |       }).toThrow(/Configuration validation fail
ed/);
51 |     });
52 | 
53 |     it('should throw an error for unsupported file formats', () => {
54 |       const unsupportedPath = path.join(import.meta.dir, '../../../test-dat
a/config/valid.yml').replace
('.yml', '.txt');
                            55 |       require('fs').copyFileSync(validYamlPath,
 unsupportedPath);
                         ^
error: ENOENT: no such file or directory, copyfile '/Users/vedmalex/work/collect
ion-store/packages/collectio
n-store/test-data/config/valid.yml' -> '/Users/vedmalex/work/collection-store/pa
ckages/collection-store/test-data/config/valid.txt'
                                                              at <anonymous> (/U
sers/vedmalex/work/collection-store/packages/collection-store/src/config/__test_
_/Co
nfigurationManager.test.ts:55:21)
                            ✗ ConfigurationManager > loadFromFile > should throw
 an error for unsupported file formats [0.23ms]
24 |    * @throws {Error} If the file is not found, cannot be parsed, or is inva
lid.
25 |    */
26 |   public static loadFromFile(filePath: string, enableHotReload: boolean = f
alse): CollectionStoreConfig
 {
                            27 |     const absolutePath = path.resolve(filePath)
;
28 |     if (!fs.existsSync(absolutePath)) {
29 |       throw new Error(`Configuration file not found at: ${absolutePath}`);
                                                                             ^
error: Configuration file not found at: /Users/vedmalex/work/collection-store/pa
ckages/collection-store/test
-data/config/valid.yml
                                  at loadFromFile (/Users/vedmalex/work/collecti
on-store/packages/collection-store/src/config/Configurat
ionManager.ts:29:73)
                                  at <anonymous> (/Users/vedmalex/work/collectio
n-store/packages/collection-store/src/config/__test__/Co
nfigurationManager.test.ts:67:28)
                            ✗ ConfigurationManager > getConfig > should return t
he loaded configuration [0.37ms]
✓ ConfigurationManager > getConfig > should throw an error if getConfig is calle
d before loadFromFile [0.07m
s]
                            
src/config/__test__/ConfigurationManager.hotreload.test.ts:
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g4000
0gn/T/config-test-ZPYrIY/tes
t-config.yaml
                            Hot reload enabled for configuration file: /var/fold
ers/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-ZPYr
IY/test-config.yaml
                            ✓ ConfigurationManager Hot Reload > Basic Hot Reload
 Functionality > should load configuration with hot relo
ad enabled [4.51ms]
                            Stopped watching configuration file: /var/folders/_y
/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-ZPYrIY/tes
t-config.yaml
                            Hot reload disabled
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should load
 configuration without hot r
eload by default [0.85ms]
                            Started watching configuration file: /var/folders/_y
/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-M5vx0q/tes
t-config.yaml
                            Hot reload enabled for configuration file: /var/fold
ers/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-M5vx
0q/test-config.yaml
                            ✓ ConfigurationManager Hot Reload > Basic Hot Reload
 Functionality > should enable hot reload after loading 
[1.35ms]
                            Stopped watching configuration file: /var/folders/_y
/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-M5vx0q/tes
t-config.yaml
                            Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g4000
0gn/T/config-test-GCK27e/tes
t-config.yaml
                            Hot reload enabled for configuration file: /var/fold
ers/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-GCK2
7e/test-config.yaml
                            Stopped watching configuration file: /var/folders/_y
/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-GCK27e/tes
t-config.yaml
                            Hot reload disabled
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should disa
ble hot reload [0.55ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g4000
0gn/T/config-test-v840FH/tes
t-config.yaml
                            Hot reload enabled for configuration file: /var/fold
ers/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-v840
FH/test-config.yaml
                            Configuration file changed: /var/folders/_y/w32ykyg5
3_d0kw28dq82k8g40000gn/T/config-test-v840FH/test-config.
yaml. Reloading...
                            ✓ ConfigurationManager Hot Reload > Configuration Ch
ange Detection > should detect file changes and reload c
onfiguration [303.35ms]
                            Stopped watching configuration file: /var/folders/_y
/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-v840FH/tes
t-config.yaml
                            Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g4000
0gn/T/config-test-k48xEE/tes
t-config.yaml
                            Hot reload enabled for configuration file: /var/fold
ers/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-k48x
EE/test-config.yaml
                            Configuration file changed: /var/folders/_y/w32ykyg5
3_d0kw28dq82k8g40000gn/T/config-test-k48xEE/test-config.
yaml. Reloading...
                            ✓ ConfigurationManager Hot Reload > Configuration Ch
ange Detection > should handle multiple change callbacks
 [303.12ms]
                            Stopped watching configuration file: /var/folders/_y
/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-k48xEE/tes
t-config.yaml
                            Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g4000
0gn/T/config-test-Ry9Xih/tes
t-config.yaml
                            Hot reload enabled for configuration file: /var/fold
ers/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-Ry9X
ih/test-config.yaml
                            Configuration file changed: /var/folders/_y/w32ykyg5
3_d0kw28dq82k8g40000gn/T/config-test-Ry9Xih/test-config.
yaml. Reloading...
                            ✓ ConfigurationManager Hot Reload > Configuration Ch
ange Detection > should remove specific callbacks [303.0
0ms]
                            Stopped watching configuration file: /var/folders/_y
/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-Ry9Xih/tes
t-config.yaml
                            Hot reload disabled
✓ ConfigurationManager Hot Reload > Manual Reload > should manually reload confi
guration [0.63ms]
✓ ConfigurationManager Hot Reload > Manual Reload > should trigger callbacks on
manual reload [0.29ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g4000
0gn/T/config-test-REEyjJ/tes
t-config.yaml
                            Hot reload enabled for configuration file: /var/fold
ers/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-REEy
jJ/test-config.yaml
                            Configuration file changed: /var/folders/_y/w32ykyg5
3_d0kw28dq82k8g40000gn/T/config-test-REEyjJ/test-config.
yaml. Reloading...
                            ✓ ConfigurationManager Hot Reload > Error Handling >
 should handle invalid configuration during hot reload [
301.94ms]
                            Stopped watching configuration file: /var/folders/_y
/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-REEyjJ/tes
t-config.yaml
                            Hot reload disabled
✓ ConfigurationManager Hot Reload > Error Handling > should throw error when ena
bling hot reload without loa
ded config [0.23ms]
                            ✓ ConfigurationManager Hot Reload > Error Handling >
 should throw error when manually reloading without load
ed config [0.11ms]
                            Started watching configuration file: /var/folders/_y
/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-uTLQYk/tes
t-config.yaml
                            Hot reload enabled for configuration file: /var/fold
ers/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-uTLQ
Yk/test-config.yaml
                            Configuration file changed: /var/folders/_y/w32ykyg5
3_d0kw28dq82k8g40000gn/T/config-test-uTLQYk/test-config.
yaml. Reloading...
                            ✓ ConfigurationManager Hot Reload > Environment Conf
iguration Integration > should handle environment-specif
ic configuration changes [303.65ms]
                            Stopped watching configuration file: /var/folders/_y
/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-uTLQYk/tes
t-config.yaml
                            Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g4000
0gn/T/config-test-hDFB6A/tes
t-config.yaml
                            Hot reload enabled for configuration file: /var/fold
ers/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-hDFB
6A/test-config.yaml
                            Configuration file changed: /var/folders/_y/w32ykyg5
3_d0kw28dq82k8g40000gn/T/config-test-hDFB6A/test-config.
yaml. Reloading...
                            ✓ ConfigurationManager Hot Reload > IndexManager Int
egration > should handle IndexManager configuration chan
ges [303.78ms]
                            Stopped watching configuration file: /var/folders/_y
/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-hDFB6A/tes
t-config.yaml
                            Hot reload disabled

src/config/__test__/NodeRoleManager.test.ts:
✓ NodeRoleManager > should return the correct role for a configured node [0.26ms
]
✓ NodeRoleManager > should throw an error if the node ID does not match the one
in the config [0.16ms]
✓ NodeRoleManager > should throw an error if no configuration is loaded [0.04ms]

src/config/__test__/ConfigWatcher.test.ts:
Started watching configuration file: /Users/vedmalex/work/collection-store/packa
ges/collection-store/src/con
fig/__test__/temp/test-config.yml
                            Configuration file changed: /Users/vedmalex/work/col
lection-store/packages/collection-store/src/config/__tes
t__/temp/test-config.yml. Reloading...
                            ✓ ConfigWatcher > should call the callback with the
new config when the file changes [104.72ms]
Stopped watching configuration file: /Users/vedmalex/work/collection-store/packa
ges/collection-store/src/con
fig/__test__/temp/test-config.yml
                            Started watching configuration file: /Users/vedmalex
/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
                            Stopped watching configuration file: /Users/vedmalex
/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
                            ✓ ConfigWatcher > should stop watching a file with u
nwatch() [303.33ms]
Started watching configuration file: /Users/vedmalex/work/collection-store/packa
ges/collection-store/src/con
fig/__test__/temp/test-config.yml
                            Configuration file changed: /Users/vedmalex/work/col
lection-store/packages/collection-store/src/config/__tes
t__/temp/test-config.yml. Reloading...
                            ✓ ConfigWatcher > should handle errors gracefully if
 the updated file is invalid [203.81ms]
Stopped watching configuration file: /Users/vedmalex/work/collection-store/packa
ges/collection-store/src/con
fig/__test__/temp/test-config.yml
                            
src/config/__test__/ConfigurationIntegration.test.ts:
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g4000
0gn/T/config-integration-tes
t-sSVc8e/integration-config.json
                            Hot reload enabled for configuration file: /var/fold
ers/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integrati
on-test-sSVc8e/integration-config.json
                            Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
✓ Configuration-Driven Architecture Integration > Full System Integration > shou
ld initialize complete confi
guration-driven architecture [1.78ms]
                            Stopped watching configuration file: /var/folders/_y
/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-sSVc8e/integration-config.json
                            Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g4000
0gn/T/config-integration-tes
t-Pn4HO0/integration-config.json
                            Hot reload enabled for configuration file: /var/fold
ers/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integrati
on-test-Pn4HO0/integration-config.json
                            Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/con
fig-integration-test-Pn4HO0/
integration-config.json. Reloading...
                            Configuration change detected, updating role from PR
IMARY to SECONDARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database configuration updated from config change
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database configuration updated from config change
✓ Configuration-Driven Architecture Integration > Full System Integration > shou
ld handle configuration chan
ges across all components [403.43ms]
                            Stopped watching configuration file: /var/folders/_y
/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-Pn4HO0/integration-config.json
                            Hot reload disabled
Node initialized: test-node-integration as PRIMARY
Node demoted from PRIMARY to SECONDARY
Invalid role transition from SECONDARY to BROWSER
Node promoted from SECONDARY to PRIMARY
✓ Configuration-Driven Architecture Integration > Full System Integration > shou
ld support node role transit
ions with capability updates [1.38ms]
                            Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Cross-database transaction started: tx-mbvn0sjh-hip1pa
Transaction prepared: tx-mbvn0sjh-hip1pa
Transaction committed: tx-mbvn0sjh-hip1pa
✓ Configuration-Driven Architecture Integration > Full System Integration > shou
ld manage cross-database tra
nsactions with 2PC [2.26ms]
                            Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Cross-database transaction started: tx-mbvn0sjj-rp1qqd
Transaction aborted: tx-mbvn0sjj-rp1qqd
✓ Configuration-Driven Architecture Integration > Full System Integration > shou
ld handle transaction failur
es and rollback [0.94ms]
                            ✓ Configuration-Driven Architecture Integration > Fu
ll System Integration > should validate environment-spec
ific configurations [0.35ms]
                            Node initialized: test-node-integration as PRIMARY
Node registered: secondary-node-1 as SECONDARY
Node registered: client-node-1 as CLIENT
✓ Configuration-Driven Architecture Integration > Full System Integration > shou
ld support cluster health mo
nitoring [0.91ms]
                            Started watching configuration file: /var/folders/_y
/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-MvWjcd/integration-config.json
                            Hot reload enabled for configuration file: /var/fold
ers/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integrati
on-test-MvWjcd/integration-config.json
                            Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g4000
0gn/T/config-integration-tes
t-MvWjcd/integration-config.json
                            Hot reload disabled
✓ Configuration-Driven Architecture Integration > Full System Integration > shou
ld cleanup all components pr
operly [0.79ms]
                            ✓ Configuration-Driven Architecture Integration > Er
ror Handling and Edge Cases > should handle missing conf
iguration gracefully [0.45ms]
                            ✓ Configuration-Driven Architecture Integration > Er
ror Handling and Edge Cases > should handle invalid node
 operations [0.28ms]
                            Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
✓ Configuration-Driven Architecture Integration > Error Handling and Edge Cases
> should handle invalid tran
saction operations [0.49ms]
                            
src/config/database/__test__/DatabaseInheritanceManager.test.ts:
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Initialization > should initialize with default c
onfiguration [0.29ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Initialization > should initialize with custom co
nfiguration [0.12ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should set an
d get database configuration
 [0.54ms]
                            Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should return
 null for non-existent datab
ase [0.01ms]
                            Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should get al
l database configurations [0
.18ms]
                            Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should valida
te database configuration [0
.05ms]
                            Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should add colle
ction override
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should remove co
llection override [0.10ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should get all c
ollection overrides for data
base [0.09ms]
                            Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should reject ov
erride for non-existent data
base [0.04ms]
                            Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should resolve databas
e-level configuration [0.51m
s]
                            Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should resolve collect
ion-level configuration with
 overrides [0.14ms]
                            Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should get specific co
nfiguration value [0.05ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should return undefine
d for non-existent config pa
th [0.05ms]
                            Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Inheritance Rules > should add custom inheritance
 rule [0.07ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Inheritance Rules > should remove inheritance rul
e [0.03ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Inheritance Rules > should apply inheritance rule
s during resolution [0.34ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Validation > should validate inheritance successf
ully [0.40ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Validation > should detect validation errors [0.1
5ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Statistics and Monitoring > should provide accura
te statistics [0.17ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Statistics and Monitoring > should track cache us
age [0.07ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Event System > should emit events for configurati
on changes [0.15ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Event System > should allow unsubscribing from ev
ents [0.14ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Import/Export > should export configurations [0.2
2ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Import/Export > should import configurations [0.7
1ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Import/Export > should merge configurations durin
g import [0.17ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Bulk Operations > should bulk update database con
figurations [0.31ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Bulk Operations > should bulk update collection o
verrides [0.15ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Hierarchy > should provide configur
ation hierarchy for debuggin
g [0.02ms]
                            Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Cache Management > should clear resolution cache
[0.03ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Cache Management > should refresh all configurati
ons [0.19ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Starting DatabaseInheritanceManager
Component database-inheritance-manager started successfully
Stopping DatabaseInheritanceManager
Component database-inheritance-manager stopped successfully
✓ DatabaseInheritanceManager > Health Monitoring > should report healthy status
with databases configured [0
.63ms]
                            Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Starting DatabaseInheritanceManager
Component database-inheritance-manager started successfully
Stopping DatabaseInheritanceManager
Component database-inheritance-manager stopped successfully
✓ DatabaseInheritanceManager > Health Monitoring > should report warning status
with no databases [0.17ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed

src/config/features/__test__/FeatureToggleManager.test.ts:
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Cache cleared
Component feature-toggle-manager cleanup completed
✓ FeatureToggleManager > Initialization > should initialize with default configu
ration [0.22ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Initializing FeatureToggleManager
Cache cleared for feature test-feature
Feature test-feature configuration updated
FeatureToggleManager initialized with 1 features
Component feature-toggle-manager initialized successfully
Cache cleared
Component feature-toggle-manager cleanup completed
✓ FeatureToggleManager > Initialization > should load features from configuratio
n [0.54ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Feature Management > should create and manage features
[0.26ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Feature Management > should prevent duplicate feature c
reation [0.13ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Feature Management > should enable and disable features
 [0.39ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Feature Management > should toggle feature state [0.16m
s]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature removed
✓ FeatureToggleManager > Feature Management > should remove features [0.17ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Cache cleared for feature feature3
Feature feature3 configuration updated
Feature feature3 created
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Cache cleared for feature feature3
Feature feature3 configuration updated
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Cache cleared for feature feature3
Feature feature3 configuration updated
✓ FeatureToggleManager > Feature Management > should handle bulk operations [0.4
8ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature percentage-feature
Feature percentage-feature configuration updated
Feature percentage-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate percentage rollout
 [0.67ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature group-feature
Feature group-feature configuration updated
Feature group-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate user groups [0.28m
s]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature time-feature
Feature time-feature configuration updated
Feature time-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate time windows [0.18
ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature env-feature
Feature env-feature configuration updated
Feature env-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate environment restri
ctions [0.09ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature dependency-feature
Feature dependency-feature configuration updated
Feature dependency-feature created
Cache cleared for feature dependent-feature
Feature dependent-feature configuration updated
Feature dependent-feature created
Cache cleared for feature dependency-feature
Feature dependency-feature configuration updated
Cache cleared for feature dependent-feature
✓ FeatureToggleManager > Feature Conditions > should evaluate feature dependenci
es [0.12ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Feature Evaluation > should provide detailed evaluation
 results [0.10ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
✓ FeatureToggleManager > Feature Evaluation > should handle non-existent feature
s [0.04ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature enabled-feature
Feature enabled-feature configuration updated
Feature enabled-feature created
Cache cleared for feature disabled-feature
Feature disabled-feature configuration updated
Feature disabled-feature created
✓ FeatureToggleManager > Statistics > should track feature statistics [0.08ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Statistics > should track evaluation count [0.09ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Event System > should emit feature change events [0.16m
s]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Event System > should allow unsubscribing from events
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Bulk updated 2 features
Imported 2 features (merge: true)
Cache cleared
Component feature-toggle-manager cleanup completed
✓ FeatureToggleManager > Configuration Management > should export and import con
figuration [1.07ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Cache cleared for feature feature3
Feature feature3 configuration updated
Bulk updated 3 features
✓ FeatureToggleManager > Configuration Management > should handle bulk updates [
0.13ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Health Monitoring > should report healthy status with f
eatures [0.12ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
✓ FeatureToggleManager > Health Monitoring > should report warning status with n
o features [0.05ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Cache Management > should cache evaluation results [0.0
8ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Cache cleared for feature feature1
✓ FeatureToggleManager > Cache Management > should clear cache for specific feat
ures [0.08ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Cache cleared
✓ FeatureToggleManager > Cache Management > should clear all cache [0.08ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Updating FeatureToggleManager configuration
Cache cleared for feature initial-feature
Feature initial-feature configuration updated
FeatureToggleManager configuration updated successfully
Component feature-toggle-manager configuration updated successfully
Updating FeatureToggleManager configuration
Cache cleared for feature initial-feature
Feature initial-feature configuration updated
Cache cleared for feature new-feature
Feature new-feature configuration updated
Cache cleared
FeatureToggleManager configuration updated successfully
Component feature-toggle-manager configuration updated successfully
✓ FeatureToggleManager > Configuration Updates > should handle configuration upd
ates [0.38ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed

src/config/conflicts/__test__/ConflictResolutionManager.test.ts:
Component ConflictResolutionManager initialized successfully
Component ConflictResolutionManager initialized successfully
Component ConflictResolutionManager is not running, skipping stop
✓ ConflictResolutionManager > Lifecycle Management > should initialize with defa
ult configuration [0.18ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
Component ConflictResolutionManager started successfully
Component ConflictResolutionManager stopped successfully
✓ ConflictResolutionManager > Lifecycle Management > should start and stop succe
ssfully [0.16ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Lifecycle Management > should report healthy statu
s with no conflicts [0.15ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Lifecycle Management > should update configuration
 [0.07ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should detect value conflicts
 between configurations [0.4
6ms]
                            Component ConflictResolutionManager is not running,
skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should detect type conflicts
between configurations [0.09
ms]
                            Component ConflictResolutionManager is not running,
skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should detect conflicts in sp
ecific path [0.22ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should validate configuration
 against existing conflicts 
[0.14ms]
                            Component ConflictResolutionManager is not running,
skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should scan for existing conf
licts [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get conflict by ID [0
.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get all conflicts [0.
02ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get conflicts by type
 [0.11ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get conflicts by seve
rity [0.04ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should remove specific confl
ict [0.07ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should clear all conflicts [
0.04ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should add resolutio
n rule [0.09ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should update resolu
tion rule [0.10ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should remove resolu
tion rule [0.06ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should get all resol
ution rules [0.03ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should enable and di
sable resolution rules [0.10
ms]
                            Component ConflictResolutionManager is not running,
skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should validate reso
lution rule [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve conflict with
 merge strategy [1.93ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve conflict with
 override strategy [1.20ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve multiple conf
licts [3.83ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve all conflicts
 [3.65ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should auto-resolve conflict
s [1.30ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should merge configuration
s deeply [0.53ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should merge configuration
s shallowly [0.18ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should select configuratio
n by priority [0.07ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should prompt user for res
olution [0.09ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Statistics and Monitoring > should track statistic
s [1.25ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Statistics and Monitoring > should reset statistic
s [0.10ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Statistics and Monitoring > should export statisti
cs [0.14ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Event System > should emit conflict detected event
 [0.11ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Event System > should emit conflict resolved event
 [1.28ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Utility Methods > should compare configurations [0
.07ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Utility Methods > should generate conflict report
[0.22ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Utility Methods > should simulate resolution [0.12
ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Bulk Operations > should add multiple resolution r
ules [0.13ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Bulk Operations > should update multiple resolutio
n rules [0.15ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Bulk Operations > should remove multiple resolutio
n rules [0.07ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should export configuration [0.09m
s]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should import configuration [0.27m
s]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should export conflict history [0.
21ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should import conflict history [0.
10ms]
Component ConflictResolutionManager is not running, skipping stop

src/config/adapters/__test__/AdapterFactoryManager.test.ts:
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Initialization > should initialize successfully with v
alid configuration [22.69ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Built-in adapter types would be registered here
Failed to create adapter 'adapter1': Failed to create adapter 'adapter1': Adapte
r type 'mock' is not registe
red
                            ✓ AdapterFactoryManager > Initialization > should fa
il initialization with unregistered adapter type [0.32ms
]
                            All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Built-in adapter types would be registered here
AdapterFactoryManager initialized with 0 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Initialization > should handle empty adapter configura
tion [0.11ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
✓ AdapterFactoryManager > Adapter Type Registration > should register adapter ty
pes successfully [0.05ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
✓ AdapterFactoryManager > Adapter Type Registration > should prevent duplicate a
dapter type registration [0.
02ms]
                            All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Adapter type 'mock' unregistered successfully
✓ AdapterFactoryManager > Adapter Type Registration > should unregister adapter
types when no instances exis
t [0.08ms]
                            All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Adapter Type Registration > should prevent unregisteri
ng adapter types with active
 instances [21.41ms]
                            All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 10ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 21ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Adapter Lifecycle > should start all adapters successf
ully [21.44ms]
All adapters stopped in 21ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
All adapters stopped in 21ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
✓ AdapterFactoryManager > Adapter Lifecycle > should stop all adapters successfu
lly [44.20ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 21ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Adapter Lifecycle > should start adapters in priority
order [21.92ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter3' of type 'mock' created successfully in 11ms
✓ AdapterFactoryManager > Adapter Management > should create new adapters [11.45
ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 10ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Adapter Management > should get adapters by type [0.14
ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 20ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
Adapter 'adapter1' restarted successfully
✓ AdapterFactoryManager > Adapter Management > should restart specific adapters
[43.09ms]
All adapters stopped in 23ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 12ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter1' removed successfully
✓ AdapterFactoryManager > Adapter Management > should remove adapters [6.12ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter1' configuration updated successfully
✓ AdapterFactoryManager > Adapter Management > should update adapter configurati
on [6.20ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Health Monitoring > should get health status of specif
ic adapter [0.19ms]
All adapters stopped in 21ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 10ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Health Monitoring > should get health status of all ad
apters [0.35ms]
All adapters stopped in 21ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 12ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Health Monitoring > should report overall factory heal
th [0.43ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'failing' registered successfully
Built-in adapter types would be registered here
Adapter 'failing-adapter' of type 'failing' created successfully in 11ms
AdapterFactoryManager initialized with 1 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Error Handling > should handle adapter start failures
[10.95ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
✓ AdapterFactoryManager > Error Handling > should handle missing adapter operati
ons gracefully [0.12ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Statistics > should track factory statistics [0.25ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 10ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter3' of type 'mock' created successfully in 10ms
Adapter 'adapter3' removed successfully
✓ AdapterFactoryManager > Statistics > should update statistics after operations
 [16.45ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter3' of type 'mock' created successfully in 10ms
AdapterFactoryManager configuration updated
Component test-factory configuration updated successfully
✓ AdapterFactoryManager > Configuration Updates > should update factory configur
ation [22.81ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed

src/config/browser/__test__/BrowserFallbackManager.test.ts:
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Initialization and Lifecycle > should initialize succ
essfully [0.07ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Starting BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager started
Component browser-fallback-test started successfully
Stopping BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager stopped
Component browser-fallback-test stopped successfully
✓ BrowserFallbackManager > Initialization and Lifecycle > should start and stop
successfully [0.84ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Starting BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager started
Component browser-fallback-test started successfully
✓ BrowserFallbackManager > Initialization and Lifecycle > should get health stat
us [0.22ms]
Stopping BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager stopped
Component browser-fallback-test stopped successfully
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Configuration Management > should get default configu
ration [0.04ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Configuration Management > should update configuratio
n [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Quota Monitoring > should check quota status for all
storage types [0.06ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Quota Monitoring > should get quota status for specif
ic storage type [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Quota Monitoring > should start and stop quota monito
ring [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should add fallback rule
[0.07ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should update fallback ru
le [0.04ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should remove fallback ru
le [0.09ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should enable and disable
 fallback rules [0.12ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should get all fallback r
ules [0.03ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should validate fallback
rules [0.09ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should trigger manual fallback [
0.42ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should execute fallback rule [0.
04ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should get active and historical
 executions [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should handle execution errors g
racefully [0.06ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute memory-only
fallback [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute reduced cach
e fallback [0.03ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute external sto
rage fallback [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute compression
fallback [0.03ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute selective cl
eanup fallback
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute graceful deg
radation fallback [0.12ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Statistics and Monitoring > should track statistics [
0.21ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Statistics and Monitoring > should reset statistics [
0.08ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Statistics and Monitoring > should export statistics
[0.10ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Event System > should emit and handle events [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Event System > should remove event handlers [0.03ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Utility Methods > should estimate quota usage [0.05ms
]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Utility Methods > should simulate fallback strategies
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Bulk Operations > should add multiple fallback rules
[0.32ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Bulk Operations > should update multiple fallback rul
es [0.13ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Bulk Operations > should remove multiple fallback rul
es [0.08ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Initializing BrowserFallbackManager: browser-fallback-import-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-import-test initialized successfully
✓ BrowserFallbackManager > Import/Export > should export and import configuratio
n [0.25ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Initializing BrowserFallbackManager: browser-fallback-history-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-history-test initialized successfully
✓ BrowserFallbackManager > Import/Export > should export and import fallback his
tory [0.25ms]

src/config/registry/__test__/ComponentRegistry.test.ts:
Component 'test-1' registered successfully in 0ms
✓ ComponentRegistry > Component Registration > should register a component succe
ssfully [0.36ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
✓ ComponentRegistry > Component Registration > should throw error when registeri
ng duplicate component [0.10
ms]
                            Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-1' unregistered successfully in 0ms
✓ ComponentRegistry > Component Registration > should unregister a component suc
cessfully [0.18ms]
Cleaning up registry...
✓ ComponentRegistry > Component Registration > should throw error when unregiste
ring non-existent component 
[0.07ms]
                            Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 22ms
✓ ComponentRegistry > Component Lifecycle > should initialize all components [22
.10ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 22ms
Component test-1 started successfully
Component test-2 started successfully
All components started successfully in 22ms
✓ ComponentRegistry > Component Lifecycle > should start all components after in
itialization [43.58ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 21ms
Component test-1 started successfully
Component test-2 started successfully
All components started successfully in 22ms
Component test-2 stopped successfully
Component test-1 stopped successfully
All components stopped in 22ms
✓ ComponentRegistry > Component Lifecycle > should stop all components [66.46ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
✓ ComponentRegistry > Component Queries > should get components by type [0.23ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
✓ ComponentRegistry > Component Queries > should get all components [0.11ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
✓ ComponentRegistry > Component Queries > should get registry statistics [0.11ms
]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 22ms
Component test-1 started successfully
Component test-2 started successfully
All components started successfully in 22ms
✓ ComponentRegistry > Health Monitoring > should get health status of all compon
ents [43.79ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component test-1 initialized successfully
All components initialized successfully in 11ms
Component test-1 started successfully
All components started successfully in 11ms
✓ ComponentRegistry > Health Monitoring > should get health status of specific c
omponent [22.22ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 22ms
Component test-1 configuration updated successfully
Component test-2 configuration updated successfully
✓ ComponentRegistry > Configuration Updates > should update configuration for al
l components [33.64ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component test-1 initialized successfully
All components initialized successfully in 11ms
Component test-1 configuration updated successfully
✓ ComponentRegistry > Configuration Updates > should update configuration for sp
ecific component [16.63ms]
Cleaning up registry...
Component 'failing-1' registered successfully in 0ms
✓ ComponentRegistry > Error Handling > should handle component initialization fa
ilure [0.80ms]
Cleaning up registry...
Component 'failing-1' registered successfully in 0ms
Component failing-1 initialized successfully
All components initialized successfully in 10ms
✓ ComponentRegistry > Error Handling > should handle component startup failure [
11.68ms]
Cleaning up registry...

src/config/collections/__test__/ReadOnlyCollectionManager.test.ts:
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Component readonly-collection-manager cleanup completed
✓ ReadOnlyCollectionManager > Initialization > should initialize with default co
nfiguration [0.22ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 1 read-only collections
Component readonly-collection-manager initialized successfully
Component readonly-collection-manager cleanup completed
✓ ReadOnlyCollectionManager > Initialization > should load read-only collections
 from configuration [0.21ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should mark coll
ection as read-only [0.15ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
Collection test-collection marked as writable
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should mark coll
ection as writable [0.10ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should get all r
ead-only collections [0.07ms
]
                            Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with WARNING protection
Protection level for test-collection updated to STRICT
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should update pr
otection level [0.10ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should throw err
or when updating non-existen
t collection [0.08ms]
                            Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should allow operatio
ns on non-read-only collecti
ons [0.13ms]
                            Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should block operatio
ns on strict read-only colle
ctions [0.16ms]
                            Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should allow with war
ning on warning-level collec
tions [0.07ms]
                            Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should allow operatio
ns on disabled protection co
llections [0.06ms]
                            Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
Collection custom-collection marked as read-only with CUSTOM protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should handle custom
protection level with allowe
d operations [0.17ms]
                            Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
Collection custom-collection marked as read-only with CUSTOM protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should handle custom
protection level with blocke
d operations [0.08ms]
                            Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should have default detecti
on rules [0.05ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'custom-test-rule' added
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should add custom detection
 rule [0.08ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'removable-rule' added
Detection rule 'removable-rule' removed
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should remove detection rul
e [0.14ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should test default detecti
on rules [0.12ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Event System > should emit write operation events
[0.12ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Event System > should allow unsubscribing from eve
nts [0.09ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with WARNING protection
Collection collection2 marked as read-only with STRICT protection
Bulk updated 2 read-only collection configurations
✓ ReadOnlyCollectionManager > Bulk Operations > should handle bulk configuration
 updates [0.20ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Imported 2 read-only collection configurations (merge: true)
Component readonly-collection-manager cleanup completed
✓ ReadOnlyCollectionManager > Bulk Operations > should export and import configu
rations [0.28ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
Cleared 2 read-only collection configurations
✓ ReadOnlyCollectionManager > Bulk Operations > should clear all configurations
[0.10ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
Collection collection3 marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Statistics > should track collection statistics [0
.08ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Statistics > should track blocked operations [0.07
ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with WARNING protection
✓ ReadOnlyCollectionManager > Statistics > should track warning operations [0.04
ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Health Monitoring > should report healthy status w
ith normal operations [0.09m
s]
                            Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Health Monitoring > should report warning status w
ith high blocked operations 
[0.12ms]
                            Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
ReadOnlyCollectionManager configuration updated successfully
Component readonly-collection-manager configuration updated successfully
Collection test-collection marked as read-only with WARNING protection
✓ ReadOnlyCollectionManager > Configuration Updates > should handle configuratio
n updates [0.14ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed

6 tests failed:
✗ ConfigurationManager > loadFromFile > should load and validate a correct YAML
configuration file [0.26ms]
✗ ConfigurationManager > loadFromFile > should load and validate a correct JSON
configuration file [0.11ms]
✗ ConfigurationManager > loadFromFile > should throw an error for a file with in
valid syntax [0.09ms]
✗ ConfigurationManager > loadFromFile > should throw a validation error for a fi
le with invalid structure [0
.06ms]
                            ✗ ConfigurationManager > loadFromFile > should throw
 an error for unsupported file formats [0.23ms]
✗ ConfigurationManager > getConfig > should return the loaded configuration [0.3
7ms]

 248 pass
 6 fail
 718 expect() calls
Ran 254 tests across 13 files. [4.32s]

```

---



---

Тесты в папке `src/config` были выполнены, но 6 из них завершились неудачей. Все они связаны с `ConfigurationManager.test.ts` и, похоже, вызваны тем, что тестовые файлы конфигурации не найдены. Это указывает на проблему с путями к файлам или отсутствием самих файлов в папке `test-data/config/`.

Я собираюсь изучить `ConfigurationManager.test.ts`, чтобы понять, как он строит пути к файлам, а затем проверю, существуют ли каталог `test-data` и его содержимое в ожидаемом месте.

Сначала я выведу список содержимого каталога `test-data`, чтобы подтвердить его существование и структуру.

---

Tool call timed out after 5s (list files)

---



---

Команда `list_dir` не сработала по таймауту. Возможно, каталог не существует или путь указан неверно. Учитывая ошибки в тестах, связанные с отсутствием файлов конфигурации, скорее всего, каталог `test-data` или его содержимое отсутствуют или находятся не в том месте.

Сейчас я попробую вывести содержимое корневого каталога рабочей области, чтобы проверить, существует ли там `test-data` или он находится в другом месте.

---

Tool call timed out after 5s (list files)

---



---

Команда `list_dir` снова завершилась по таймауту. Вероятно, каталог `test-data` находится не там, где ожидают тесты, или его вовсе нет. Чтобы это выяснить, я прочитаю файл `ConfigurationManager.test.ts` целиком, чтобы понять, как он формирует пути к тестовым данным. Это поможет мне определить правильное расположение файлов.

---

Tool call timed out after 10s (read file)

---



---

Команда `read_file` также не сработала по таймауту. Похоже, есть проблема с прямым доступом к файлам, либо сам путь к файлу неверен. Учитывая, что предыдущие команды `list_dir` также завершались по таймауту, возможно, операции с файловой системой в целом медленные или сталкиваются с какой-то проблемой.

Самая важная информация, которая сейчас нужна, это содержимое `ConfigurationManager.test.ts`, чтобы понять, как строятся пути к тестовым данным. Поскольку прямое чтение файла не удается, я попробую использовать `grep_search`, чтобы найти строки, где `test-data` упоминается в `ConfigurationManager.test.ts`. Это может дать мне подсказку об ожидаемом пути без чтения всего файла.

---

<details>
            <summary>Grep search for "test-data" • **1** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///Users/vedmalex/work/collection-store/packages/collection-store/src/config/__test__/ConfigurationManager.test.ts` | L5 | `const validYamlPath = path.join(import.meta.dir, '../../../test-data/config/valid.yml');` |
| `file:///Users/vedmalex/work/collection-store/packages/collection-store/src/config/__test__/ConfigurationManager.test.ts` | L6 | `const validJsonPath = path.join(import.meta.dir, '../../../test-data/config/valid.json');` |
| `file:///Users/vedmalex/work/collection-store/packages/collection-store/src/config/__test__/ConfigurationManager.test.ts` | L7 | `const invalidStructurePath = path.join(import.meta.dir, '../../../test-data/config/invalid-structure.yml');` |
| `file:///Users/vedmalex/work/collection-store/packages/collection-store/src/config/__test__/ConfigurationManager.test.ts` | L8 | `const invalidSyntaxPath = path.join(import.meta.dir, '../../../test-data/config/invalid-syntax.yml');` |
| `file:///Users/vedmalex/work/collection-store/packages/collection-store/src/config/__test__/ConfigurationManager.test.ts` | L9 | `const nonExistentPath = path.join(import.meta.dir, '../../../test-data/config/non-existent.yml');` |
| `file:///Users/vedmalex/work/collection-store/packages/collection-store/src/config/__test__/ConfigurationManager.test.ts` | L53 | `const unsupportedPath = path.join(import.meta.dir, '../../../test-data/config/valid.yml').replace('.yml', '.txt');` |

</details>

---



---

Итак, `grep_search` показал, что тестовые файлы конфигурации ожидаются в каталоге `test-data/config`, который должен находиться на три уровня выше `src/config/__test__/`, то есть в корневой директории `collection-store/packages/collection-store`. Ошибки тестов подтверждают, что эти файлы не найдены.

Я создам каталог `test-data/config`, а затем и необходимые тестовые файлы-заполнители внутри него: `valid.yml`, `valid.json`, `invalid-structure.yml` и `invalid-syntax.yml`.

Начну с создания каталога `test-data/config`.

---

```bash
mkdir -p test-data/config
```

```
?➜  collection-store git:(master) ?✗ 

```

---



---

Отлично, каталог `test-data/config` успешно создан. Теперь я создам необходимые тестовые файлы внутри него:

1.  `valid.yml`
2.  `valid.json`
3.  `invalid-structure.yml`
4.  `invalid-syntax.yml`

Начну с `valid.yml`.

---

```diff
- 
+ # valid.yml
+ app:
+   name: "TestApp"
+   version: "1.0.0"
+ environment:
+   mode: "development" 
```

---



---

Отлично, `valid.yml` создан. Теперь создам `valid.json`.

---

```diff
- 
+ {
+   "app": {
+     "name": "TestAppJson",
+     "version": "1.0.0"
+   },
+   "environment": {
+     "mode": "production"
+   }
+ } 
```

---



---

`valid.json` создан. Теперь я создам `invalid-structure.yml`. Этот файл должен иметь правильный синтаксис YAML, но неверную структуру для проверки менеджером конфигурации.

---

```diff
- 
+ # invalid-structure.yml
+ app:
+   name: "TestApp"
+   version: "1.0.0"
+ environment: "development" # This is an invalid structure, 'environment' should be an object 
```

---



---

`invalid-structure.yml` создан. Теперь мне нужно создать `invalid-syntax.yml`. Этот файл будет содержать намеренно неверный YAML-синтаксис, чтобы тест мог выявить ошибку парсинга.

---

```diff
- 
+ # invalid-syntax.yml
+ app:
+   name: "TestApp"
+   version: "1.0.0"
+ environment: 
+   mode: "development"
+   - This line has invalid YAML syntax 
```

---



---

Я создал `invalid-syntax.yml` с намеренно неправильным синтаксисом, что привело к ошибкам линтера. Это ожидаемое поведение, поскольку этот файл предназначен для проверки обработки ошибок синтаксиса в тестах. Я не буду исправлять эти ошибки.

Теперь, когда все необходимые тестовые файлы созданы, я перезапущу тесты в папке `src/config`, чтобы убедиться, что ошибки, связанные с отсутствием файлов, устранены.

---

```bash
bun test src/config
```

```
?➜  collection-store git:(master) ?✗ bun test src/config
bun test v1.2.16 (631e6748)

src/config/__test__/QuotaManager.test.ts:
✓ QuotaManager > getQuotas > should return the quota config if it exists [1.40ms]
✓ QuotaManager > getQuotas > should return null if no quota config exists [0.04ms]
✓ QuotaManager > isStorageExceeded > should return false if usage is below the quota [0.32ms]
✓ QuotaManager > isStorageExceeded > should return true if usage is above the quota [0.03ms]
✓ QuotaManager > isStorageExceeded > should return false if no storage quota is set [0.02ms]
✓ QuotaManager > isStorageExceeded > should correctly parse different byte units [0.03ms]
✓ QuotaManager > isStorageExceeded > should throw an error for invalid byte strings [0.07ms]

src/config/__test__/ConfigurationManager.test.ts:
48 | 
49 |     const validationResult = CollectionStoreConfigSchema.safeParse(parsedConfig);
50 | 
51 |     if (!validationResult.success) {
52 |       const validationError = fromZodError(validationResult.error);
53 |       throw new Error(`Configuration validation failed: ${validationError.message}`);
                                                                                        ^
error: Configuration validation failed: Validation error: Required at "core"; Required at "adapters"; Requir
ed at "features"; Required at "environment.environment"
      at loadFromFile (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/Configurat
ionManager.ts:53:84)
      at <anonymous> (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/__test__/Co
nfigurationManager.test.ts:21:43)
✗ ConfigurationManager > loadFromFile > should load and validate a correct YAML configuration file [4.47ms]
48 | 
49 |     const validationResult = CollectionStoreConfigSchema.safeParse(parsedConfig);
50 | 
51 |     if (!validationResult.success) {
52 |       const validationError = fromZodError(validationResult.error);
53 |       throw new Error(`Configuration validation failed: ${validationError.message}`);
                                                                                        ^
error: Configuration validation failed: Validation error: Required at "core"; Required at "adapters"; Requir
ed at "features"; Required at "environment.environment"
      at loadFromFile (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/Configurat
ionManager.ts:53:84)
      at <anonymous> (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/__test__/Co
nfigurationManager.test.ts:29:43)
✗ ConfigurationManager > loadFromFile > should load and validate a correct JSON configuration file [0.44ms]
✓ ConfigurationManager > loadFromFile > should throw an error if the file does not exist
✓ ConfigurationManager > loadFromFile > should throw an error for a file with invalid syntax [1.49ms]
✓ ConfigurationManager > loadFromFile > should throw a validation error for a file with invalid structure [0
.52ms]
✓ ConfigurationManager > loadFromFile > should throw an error for unsupported file formats [0.89ms]
48 | 
49 |     const validationResult = CollectionStoreConfigSchema.safeParse(parsedConfig);
50 | 
51 |     if (!validationResult.success) {
52 |       const validationError = fromZodError(validationResult.error);
53 |       throw new Error(`Configuration validation failed: ${validationError.message}`);
                                                                                        ^
error: Configuration validation failed: Validation error: Required at "core"; Required at "adapters"; Requir
ed at "features"; Required at "environment.environment"
      at loadFromFile (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/Configurat
ionManager.ts:53:84)
      at <anonymous> (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/__test__/Co
nfigurationManager.test.ts:67:28)
✗ ConfigurationManager > getConfig > should return the loaded configuration [0.37ms]
✓ ConfigurationManager > getConfig > should throw an error if getConfig is called before loadFromFile [0.04m
s]

src/config/__test__/ConfigurationManager.hotreload.test.ts:
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-sZ9sbX/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-sZ9s
bX/test-config.yaml
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should load configuration with hot relo
ad enabled [1.35ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-sZ9sbX/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should load configuration without hot r
eload by default [0.40ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-z21EpK/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-z21E
pK/test-config.yaml
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should enable hot reload after loading 
[0.49ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-z21EpK/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-ADLdWk/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-ADLd
Wk/test-config.yaml
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-ADLdWk/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should disable hot reload [0.22ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-dObBcg/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-dObB
cg/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-dObBcg/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Configuration Change Detection > should detect file changes and reload c
onfiguration [316.62ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-dObBcg/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-01Fjeu/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-01Fj
eu/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-01Fjeu/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Configuration Change Detection > should handle multiple change callbacks
 [349.57ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-01Fjeu/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-ispQ1P/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-ispQ
1P/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-ispQ1P/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Configuration Change Detection > should remove specific callbacks [303.1
0ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-ispQ1P/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Manual Reload > should manually reload configuration [0.73ms]
✓ ConfigurationManager Hot Reload > Manual Reload > should trigger callbacks on manual reload [0.31ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-fRJKc1/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-fRJK
c1/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-fRJKc1/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Error Handling > should handle invalid configuration during hot reload [
302.20ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-fRJKc1/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Error Handling > should throw error when enabling hot reload without loa
ded config [0.09ms]
✓ ConfigurationManager Hot Reload > Error Handling > should throw error when manually reloading without load
ed config [0.06ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-ubzvTg/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-ubzv
Tg/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-ubzvTg/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Environment Configuration Integration > should handle environment-specif
ic configuration changes [302.17ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-ubzvTg/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-T3kky8/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-T3kk
y8/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-T3kky8/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > IndexManager Integration > should handle IndexManager configuration chan
ges [302.92ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-T3kky8/tes
t-config.yaml
Hot reload disabled

src/config/__test__/NodeRoleManager.test.ts:
✓ NodeRoleManager > should return the correct role for a configured node [0.01ms]
✓ NodeRoleManager > should throw an error if the node ID does not match the one in the config [0.11ms]
✓ NodeRoleManager > should throw an error if no configuration is loaded [0.01ms]

src/config/__test__/ConfigWatcher.test.ts:
Started watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Configuration file changed: /Users/vedmalex/work/collection-store/packages/collection-store/src/config/__tes
t__/temp/test-config.yml. Reloading...
✓ ConfigWatcher > should call the callback with the new config when the file changes [102.26ms]
Stopped watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Started watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Stopped watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
✓ ConfigWatcher > should stop watching a file with unwatch() [301.69ms]
Started watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Configuration file changed: /Users/vedmalex/work/collection-store/packages/collection-store/src/config/__tes
t__/temp/test-config.yml. Reloading...
✓ ConfigWatcher > should handle errors gracefully if the updated file is invalid [202.65ms]
Stopped watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml

src/config/__test__/ConfigurationIntegration.test.ts:
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-K641T7/integration-config.json
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integrati
on-test-K641T7/integration-config.json
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
✓ Configuration-Driven Architecture Integration > Full System Integration > should initialize complete confi
guration-driven architecture [1.12ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-K641T7/integration-config.json
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-XVUBIP/integration-config.json
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integrati
on-test-XVUBIP/integration-config.json
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-test-XVUBIP/
integration-config.json. Reloading...
Configuration change detected, updating role from PRIMARY to SECONDARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database configuration updated from config change
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database configuration updated from config change
✓ Configuration-Driven Architecture Integration > Full System Integration > should handle configuration chan
ges across all components [402.99ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-XVUBIP/integration-config.json
Hot reload disabled
Node initialized: test-node-integration as PRIMARY
Node demoted from PRIMARY to SECONDARY
Invalid role transition from SECONDARY to BROWSER
Node promoted from SECONDARY to PRIMARY
✓ Configuration-Driven Architecture Integration > Full System Integration > should support node role transit
ions with capability updates [0.78ms]
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Cross-database transaction started: tx-mbvn2nfu-bud4np
Transaction prepared: tx-mbvn2nfu-bud4np
Transaction committed: tx-mbvn2nfu-bud4np
✓ Configuration-Driven Architecture Integration > Full System Integration > should manage cross-database tra
nsactions with 2PC [1.41ms]
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Cross-database transaction started: tx-mbvn2nfw-hjbnsu
Transaction aborted: tx-mbvn2nfw-hjbnsu
✓ Configuration-Driven Architecture Integration > Full System Integration > should handle transaction failur
es and rollback [1.16ms]
✓ Configuration-Driven Architecture Integration > Full System Integration > should validate environment-spec
ific configurations [0.45ms]
Node initialized: test-node-integration as PRIMARY
Node registered: secondary-node-1 as SECONDARY
Node registered: client-node-1 as CLIENT
✓ Configuration-Driven Architecture Integration > Full System Integration > should support cluster health mo
nitoring [0.66ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-gcVo9b/integration-config.json
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integrati
on-test-gcVo9b/integration-config.json
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-gcVo9b/integration-config.json
Hot reload disabled
✓ Configuration-Driven Architecture Integration > Full System Integration > should cleanup all components pr
operly [0.44ms]
✓ Configuration-Driven Architecture Integration > Error Handling and Edge Cases > should handle missing conf
iguration gracefully [0.11ms]
✓ Configuration-Driven Architecture Integration > Error Handling and Edge Cases > should handle invalid node
 operations [0.27ms]
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
✓ Configuration-Driven Architecture Integration > Error Handling and Edge Cases > should handle invalid tran
saction operations [0.31ms]

src/config/database/__test__/DatabaseInheritanceManager.test.ts:
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Initialization > should initialize with default configuration [0.26ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Initialization > should initialize with custom configuration [0.07ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should set and get database configuration
 [0.47ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should return null for non-existent datab
ase [0.02ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should get all database configurations [0
.09ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should validate database configuration [0
.06ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should add collection override
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should remove collection override [0.02ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should get all collection overrides for data
base [0.03ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should reject override for non-existent data
base
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should resolve database-level configuration [0.60m
s]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should resolve collection-level configuration with
 overrides [0.26ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should get specific configuration value [0.18ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should return undefined for non-existent config pa
th [0.05ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Inheritance Rules > should add custom inheritance rule [0.13ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Inheritance Rules > should remove inheritance rule [0.13ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Inheritance Rules > should apply inheritance rules during resolution [0.19ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Validation > should validate inheritance successfully [0.33ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Validation > should detect validation errors [0.05ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Statistics and Monitoring > should provide accurate statistics [0.24ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Statistics and Monitoring > should track cache usage [0.06ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Event System > should emit events for configuration changes [0.15ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Event System > should allow unsubscribing from events [0.16ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Import/Export > should export configurations [0.02ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Import/Export > should import configurations [0.39ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Import/Export > should merge configurations during import [0.17ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Bulk Operations > should bulk update database configurations [0.17ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Bulk Operations > should bulk update collection overrides [0.16ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Hierarchy > should provide configuration hierarchy for debuggin
g [0.11ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Cache Management > should clear resolution cache [0.06ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Cache Management > should refresh all configurations [0.15ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Starting DatabaseInheritanceManager
Component database-inheritance-manager started successfully
Stopping DatabaseInheritanceManager
Component database-inheritance-manager stopped successfully
✓ DatabaseInheritanceManager > Health Monitoring > should report healthy status with databases configured [0
.52ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Starting DatabaseInheritanceManager
Component database-inheritance-manager started successfully
Stopping DatabaseInheritanceManager
Component database-inheritance-manager stopped successfully
✓ DatabaseInheritanceManager > Health Monitoring > should report warning status with no databases [0.10ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed

src/config/features/__test__/FeatureToggleManager.test.ts:
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Cache cleared
Component feature-toggle-manager cleanup completed
✓ FeatureToggleManager > Initialization > should initialize with default configuration [0.16ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Initializing FeatureToggleManager
Cache cleared for feature test-feature
Feature test-feature configuration updated
FeatureToggleManager initialized with 1 features
Component feature-toggle-manager initialized successfully
Cache cleared
Component feature-toggle-manager cleanup completed
✓ FeatureToggleManager > Initialization > should load features from configuration [0.46ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Feature Management > should create and manage features [0.27ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Feature Management > should prevent duplicate feature creation [0.12ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Feature Management > should enable and disable features [0.30ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Feature Management > should toggle feature state [0.14ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature removed
✓ FeatureToggleManager > Feature Management > should remove features [0.14ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Cache cleared for feature feature3
Feature feature3 configuration updated
Feature feature3 created
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Cache cleared for feature feature3
Feature feature3 configuration updated
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Cache cleared for feature feature3
Feature feature3 configuration updated
✓ FeatureToggleManager > Feature Management > should handle bulk operations [0.37ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature percentage-feature
Feature percentage-feature configuration updated
Feature percentage-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate percentage rollout [0.19ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature group-feature
Feature group-feature configuration updated
Feature group-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate user groups [0.13ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature time-feature
Feature time-feature configuration updated
Feature time-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate time windows [0.13ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature env-feature
Feature env-feature configuration updated
Feature env-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate environment restrictions [0.07ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature dependency-feature
Feature dependency-feature configuration updated
Feature dependency-feature created
Cache cleared for feature dependent-feature
Feature dependent-feature configuration updated
Feature dependent-feature created
Cache cleared for feature dependency-feature
Feature dependency-feature configuration updated
Cache cleared for feature dependent-feature
✓ FeatureToggleManager > Feature Conditions > should evaluate feature dependencies [0.12ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Feature Evaluation > should provide detailed evaluation results [0.09ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
✓ FeatureToggleManager > Feature Evaluation > should handle non-existent features [0.07ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature enabled-feature
Feature enabled-feature configuration updated
Feature enabled-feature created
Cache cleared for feature disabled-feature
Feature disabled-feature configuration updated
Feature disabled-feature created
✓ FeatureToggleManager > Statistics > should track feature statistics [0.09ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Statistics > should track evaluation count [0.09ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Event System > should emit feature change events [0.15ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Event System > should allow unsubscribing from events [0.13ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Bulk updated 2 features
Imported 2 features (merge: true)
Cache cleared
Component feature-toggle-manager cleanup completed
✓ FeatureToggleManager > Configuration Management > should export and import configuration [0.67ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Cache cleared for feature feature3
Feature feature3 configuration updated
Bulk updated 3 features
✓ FeatureToggleManager > Configuration Management > should handle bulk updates [0.19ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Health Monitoring > should report healthy status with features [0.17ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
✓ FeatureToggleManager > Health Monitoring > should report warning status with no features [0.04ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Cache Management > should cache evaluation results [0.06ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Cache cleared for feature feature1
✓ FeatureToggleManager > Cache Management > should clear cache for specific features
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Cache cleared
✓ FeatureToggleManager > Cache Management > should clear all cache [0.08ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Updating FeatureToggleManager configuration
Cache cleared for feature initial-feature
Feature initial-feature configuration updated
FeatureToggleManager configuration updated successfully
Component feature-toggle-manager configuration updated successfully
Updating FeatureToggleManager configuration
Cache cleared for feature initial-feature
Feature initial-feature configuration updated
Cache cleared for feature new-feature
Feature new-feature configuration updated
Cache cleared
FeatureToggleManager configuration updated successfully
Component feature-toggle-manager configuration updated successfully
✓ FeatureToggleManager > Configuration Updates > should handle configuration updates [0.33ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed

src/config/conflicts/__test__/ConflictResolutionManager.test.ts:
Component ConflictResolutionManager initialized successfully
Component ConflictResolutionManager initialized successfully
Component ConflictResolutionManager is not running, skipping stop
✓ ConflictResolutionManager > Lifecycle Management > should initialize with default configuration [0.17ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
Component ConflictResolutionManager started successfully
Component ConflictResolutionManager stopped successfully
✓ ConflictResolutionManager > Lifecycle Management > should start and stop successfully [0.15ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Lifecycle Management > should report healthy status with no conflicts [0.12ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Lifecycle Management > should update configuration [0.08ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should detect value conflicts between configurations [0.4
3ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should detect type conflicts between configurations [0.09
ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should detect conflicts in specific path [0.20ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should validate configuration against existing conflicts 
[0.15ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should scan for existing conflicts [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get conflict by ID
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get all conflicts [0.03ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get conflicts by type [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get conflicts by severity [0.04ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should remove specific conflict [0.06ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should clear all conflicts [0.04ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should add resolution rule [0.04ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should update resolution rule [0.08ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should remove resolution rule [0.12ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should get all resolution rules [0.03ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should enable and disable resolution rules [0.05
ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should validate resolution rule [0.04ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve conflict with merge strategy [1.45ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve conflict with override strategy [1.25ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve multiple conflicts [3.94ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve all conflicts [3.57ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should auto-resolve conflicts [1.24ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should merge configurations deeply [0.20ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should merge configurations shallowly [0.07ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should select configuration by priority [0.09ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should prompt user for resolution [0.09ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Statistics and Monitoring > should track statistics [1.22ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Statistics and Monitoring > should reset statistics [0.06ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Statistics and Monitoring > should export statistics [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Event System > should emit conflict detected event [0.09ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Event System > should emit conflict resolved event [1.63ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Utility Methods > should compare configurations [0.09ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Utility Methods > should generate conflict report [0.12ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Utility Methods > should simulate resolution [0.19ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Bulk Operations > should add multiple resolution rules
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Bulk Operations > should update multiple resolution rules [0.14ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Bulk Operations > should remove multiple resolution rules [0.13ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should export configuration [0.12ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should import configuration [0.15ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should export conflict history [0.10ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should import conflict history [0.05ms]
Component ConflictResolutionManager is not running, skipping stop

src/config/adapters/__test__/AdapterFactoryManager.test.ts:
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Initialization > should initialize successfully with valid configuration [21.99ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Built-in adapter types would be registered here
Failed to create adapter 'adapter1': Failed to create adapter 'adapter1': Adapter type 'mock' is not registe
red
✓ AdapterFactoryManager > Initialization > should fail initialization with unregistered adapter type [0.26ms
]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Built-in adapter types would be registered here
AdapterFactoryManager initialized with 0 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Initialization > should handle empty adapter configuration [0.06ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
✓ AdapterFactoryManager > Adapter Type Registration > should register adapter types successfully [0.04ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
✓ AdapterFactoryManager > Adapter Type Registration > should prevent duplicate adapter type registration [0.
03ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Adapter type 'mock' unregistered successfully
✓ AdapterFactoryManager > Adapter Type Registration > should unregister adapter types when no instances exis
t [0.06ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Adapter Type Registration > should prevent unregistering adapter types with active
 instances [21.98ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Adapter Lifecycle > should start all adapters successfully [22.18ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 21ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
All adapters stopped in 21ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
✓ AdapterFactoryManager > Adapter Lifecycle > should stop all adapters successfully [43.41ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 21ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Adapter Lifecycle > should start adapters in priority order [21.93ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter3' of type 'mock' created successfully in 11ms
✓ AdapterFactoryManager > Adapter Management > should create new adapters [11.33ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 12ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Adapter Management > should get adapters by type [0.13ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
Adapter 'adapter1' restarted successfully
✓ AdapterFactoryManager > Adapter Management > should restart specific adapters [43.92ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter1' removed successfully
✓ AdapterFactoryManager > Adapter Management > should remove adapters [5.98ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter1' configuration updated successfully
✓ AdapterFactoryManager > Adapter Management > should update adapter configuration [5.93ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Health Monitoring > should get health status of specific adapter [0.31ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Health Monitoring > should get health status of all adapters [0.22ms]
All adapters stopped in 21ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Health Monitoring > should report overall factory health [0.41ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'failing' registered successfully
Built-in adapter types would be registered here
Adapter 'failing-adapter' of type 'failing' created successfully in 11ms
AdapterFactoryManager initialized with 1 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Error Handling > should handle adapter start failures [11.87ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
✓ AdapterFactoryManager > Error Handling > should handle missing adapter operations gracefully [0.30ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Statistics > should track factory statistics [0.15ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter3' of type 'mock' created successfully in 10ms
Adapter 'adapter3' removed successfully
✓ AdapterFactoryManager > Statistics > should update statistics after operations [16.00ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter3' of type 'mock' created successfully in 11ms
AdapterFactoryManager configuration updated
Component test-factory configuration updated successfully
✓ AdapterFactoryManager > Configuration Updates > should update factory configuration [22.86ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed

src/config/browser/__test__/BrowserFallbackManager.test.ts:
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Initialization and Lifecycle > should initialize successfully [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Starting BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager started
Component browser-fallback-test started successfully
Stopping BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager stopped
Component browser-fallback-test stopped successfully
✓ BrowserFallbackManager > Initialization and Lifecycle > should start and stop successfully [0.61ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Starting BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager started
Component browser-fallback-test started successfully
✓ BrowserFallbackManager > Initialization and Lifecycle > should get health status [0.11ms]
Stopping BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager stopped
Component browser-fallback-test stopped successfully
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Configuration Management > should get default configuration [0.02ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Configuration Management > should update configuration [0.04ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Quota Monitoring > should check quota status for all storage types [0.04ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Quota Monitoring > should get quota status for specific storage type [0.04ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Quota Monitoring > should start and stop quota monitoring [0.04ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should add fallback rule [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should update fallback rule [0.08ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should remove fallback rule [0.07ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should enable and disable fallback rules [0.04ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should get all fallback rules [0.01ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should validate fallback rules [0.06ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should trigger manual fallback [0.36ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should execute fallback rule [0.11ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should get active and historical executions [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should handle execution errors gracefully [0.07ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute memory-only fallback [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute reduced cache fallback [0.04ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute external storage fallback [0.04ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute compression fallback [0.03ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute selective cleanup fallback [0.03ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute graceful degradation fallback [0.10ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Statistics and Monitoring > should track statistics [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Statistics and Monitoring > should reset statistics [0.06ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Statistics and Monitoring > should export statistics [0.09ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Event System > should emit and handle events [0.08ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Event System > should remove event handlers [0.03ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Utility Methods > should estimate quota usage [0.07ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Utility Methods > should simulate fallback strategies [0.10ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Bulk Operations > should add multiple fallback rules [0.13ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Bulk Operations > should update multiple fallback rules [0.19ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Bulk Operations > should remove multiple fallback rules [0.10ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Initializing BrowserFallbackManager: browser-fallback-import-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-import-test initialized successfully
✓ BrowserFallbackManager > Import/Export > should export and import configuration [0.31ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Initializing BrowserFallbackManager: browser-fallback-history-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-history-test initialized successfully
✓ BrowserFallbackManager > Import/Export > should export and import fallback history [0.25ms]

src/config/registry/__test__/ComponentRegistry.test.ts:
Component 'test-1' registered successfully in 0ms
✓ ComponentRegistry > Component Registration > should register a component successfully [0.46ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
✓ ComponentRegistry > Component Registration > should throw error when registering duplicate component [0.15
ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-1' unregistered successfully in 0ms
✓ ComponentRegistry > Component Registration > should unregister a component successfully [0.19ms]
Cleaning up registry...
✓ ComponentRegistry > Component Registration > should throw error when unregistering non-existent component 
[0.04ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 23ms
✓ ComponentRegistry > Component Lifecycle > should initialize all components [22.51ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 21ms
Component test-1 started successfully
Component test-2 started successfully
All components started successfully in 22ms
✓ ComponentRegistry > Component Lifecycle > should start all components after initialization [43.36ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 22ms
Component test-1 started successfully
Component test-2 started successfully
All components started successfully in 21ms
Component test-2 stopped successfully
Component test-1 stopped successfully
All components stopped in 23ms
✓ ComponentRegistry > Component Lifecycle > should stop all components [66.09ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
✓ ComponentRegistry > Component Queries > should get components by type [0.19ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
✓ ComponentRegistry > Component Queries > should get all components [0.09ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
✓ ComponentRegistry > Component Queries > should get registry statistics [0.10ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 21ms
Component test-1 started successfully
Component test-2 started successfully
All components started successfully in 22ms
✓ ComponentRegistry > Health Monitoring > should get health status of all components [43.75ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component test-1 initialized successfully
All components initialized successfully in 12ms
Component test-1 started successfully
All components started successfully in 10ms
✓ ComponentRegistry > Health Monitoring > should get health status of specific component [21.95ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 22ms
Component test-1 configuration updated successfully
Component test-2 configuration updated successfully
✓ ComponentRegistry > Configuration Updates > should update configuration for all components [33.15ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component test-1 initialized successfully
All components initialized successfully in 11ms
Component test-1 configuration updated successfully
✓ ComponentRegistry > Configuration Updates > should update configuration for specific component [17.13ms]
Cleaning up registry...
Component 'failing-1' registered successfully in 0ms
✓ ComponentRegistry > Error Handling > should handle component initialization failure [0.85ms]
Cleaning up registry...
Component 'failing-1' registered successfully in 0ms
Component failing-1 initialized successfully
All components initialized successfully in 11ms
✓ ComponentRegistry > Error Handling > should handle component startup failure [10.97ms]
Cleaning up registry...

src/config/collections/__test__/ReadOnlyCollectionManager.test.ts:
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Component readonly-collection-manager cleanup completed
✓ ReadOnlyCollectionManager > Initialization > should initialize with default configuration [0.14ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 1 read-only collections
Component readonly-collection-manager initialized successfully
Component readonly-collection-manager cleanup completed
✓ ReadOnlyCollectionManager > Initialization > should load read-only collections from configuration [0.19ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should mark collection as read-only [0.15ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
Collection test-collection marked as writable
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should mark collection as writable [0.10ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should get all read-only collections [0.09ms
]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with WARNING protection
Protection level for test-collection updated to STRICT
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should update protection level [0.11ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should throw error when updating non-existen
t collection [0.10ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should allow operations on non-read-only collecti
ons [0.05ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should block operations on strict read-only colle
ctions [0.04ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should allow with warning on warning-level collec
tions [0.03ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should allow operations on disabled protection co
llections [0.04ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
Collection custom-collection marked as read-only with CUSTOM protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should handle custom protection level with allowe
d operations [0.13ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
Collection custom-collection marked as read-only with CUSTOM protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should handle custom protection level with blocke
d operations [0.10ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should have default detection rules [0.07ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'custom-test-rule' added
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should add custom detection rule [0.05ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'removable-rule' added
Detection rule 'removable-rule' removed
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should remove detection rule [0.07ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should test default detection rules [0.08ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Event System > should emit write operation events [0.11ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Event System > should allow unsubscribing from events [0.09ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with WARNING protection
Collection collection2 marked as read-only with STRICT protection
Bulk updated 2 read-only collection configurations
✓ ReadOnlyCollectionManager > Bulk Operations > should handle bulk configuration updates [0.17ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Imported 2 read-only collection configurations (merge: true)
Component readonly-collection-manager cleanup completed
✓ ReadOnlyCollectionManager > Bulk Operations > should export and import configurations [0.17ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
Cleared 2 read-only collection configurations
✓ ReadOnlyCollectionManager > Bulk Operations > should clear all configurations [0.09ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
Collection collection3 marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Statistics > should track collection statistics [0.07ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Statistics > should track blocked operations [0.05ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with WARNING protection
✓ ReadOnlyCollectionManager > Statistics > should track warning operations [0.03ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Health Monitoring > should report healthy status with normal operations [0.03m
s]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Health Monitoring > should report warning status with high blocked operations
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
ReadOnlyCollectionManager configuration updated successfully
Component readonly-collection-manager configuration updated successfully
Collection test-collection marked as read-only with WARNING protection
✓ ReadOnlyCollectionManager > Configuration Updates > should handle configuration updates [0.12ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed

3 tests failed:
✗ ConfigurationManager > loadFromFile > should load and validate a correct YAML configuration file [4.47ms]
✗ ConfigurationManager > loadFromFile > should load and validate a correct JSON configuration file [0.44ms]
✗ ConfigurationManager > getConfig > should return the loaded configuration [0.37ms]

 251 pass
 3 fail
 719 expect() calls
Ran 254 tests across 13 files. [4.33s]
➜  collection-store git:(master) ✗
```

---



---

Тесты прошли повторно, и количество ошибок уменьшилось с 6 до 3. Это говорит о том, что создание тестовых файлов помогло.

Оставшиеся 3 ошибки:
- `ConfigurationManager > loadFromFile > should load and validate a correct YAML configuration file`
- `ConfigurationManager > loadFromFile > should load and validate a correct JSON configuration file`
- `ConfigurationManager > getConfig > should return the loaded configuration`

Сообщение об ошибке для этих сбоев:
`Configuration validation failed: Validation error: Required at "core"; Required at "adapters"; Required at "features"; Required at "environment.environment"`

Эта ошибка ясно указывает на то, что схема `CollectionStoreConfigSchema` ожидает больше полей, чем в настоящее время присутствует в моих файлах-заполнителях `valid.yml` и `valid.json`. Мне нужно добавить отсутствующие разделы `core`, `adapters`, `features` и `environment.environment` в эти файлы, чтобы они соответствовали схеме.

Я начну с изменения `valid.yml`, чтобы включить эти обязательные поля с некоторыми значениями-заполнителями. Затем я аналогичным образом изменю `valid.json`. После этого я снова запущу тесты.


---

```diff
  environment:
    mode: "development"
+   environment: "test"
+ core:
+   clientId: "test-client-id"
+   clientSecret: "test-client-secret"
+ adapters:
+   - name: "test-adapter"
+     type: "mock"
+ features:
+   - name: "test-feature"
+     enabled: true
```

---



---

`valid.yml` обновлен. Теперь мне нужно обновить `valid.json` с теми же обязательными полями.

---

```diff
    },
    "environment": {
-     "mode": "production"
+     "mode": "production",
+     "environment": "test" 
+   },
+   "core": {
+     "clientId": "test-client-id-json",
+     "clientSecret": "test-client-secret-json"
+   },
+   "adapters": [
+     {
+       "name": "test-adapter-json",
+       "type": "mock"
+     }
+   ],
+   "features": [
+     {
+       "name": "test-feature-json",
+       "enabled": true
      }
+   ]
  }
```

---



---

`valid.yml` и `valid.json` обновлены. Теперь, когда файлы конфигурации для тестов содержат все необходимые поля, я снова запущу тесты, чтобы убедиться, что остальные 3 ошибки исправлены.

---

```bash
bun test src/config
```

```
bun test v1.2.16 (631e6748)

src/config/__test__/QuotaManager.test.ts:
✓ QuotaManager > getQuotas > should return the quota config if it exists [0.93ms]
✓ QuotaManager > getQuotas > should return null if no quota config exists [0.23ms]
✓ QuotaManager > isStorageExceeded > should return false if usage is below the quota [1.25ms]
✓ QuotaManager > isStorageExceeded > should return true if usage is above the quota [0.01ms]
✓ QuotaManager > isStorageExceeded > should return false if no storage quota is set [0.12ms]
✓ QuotaManager > isStorageExceeded > should correctly parse different byte units [0.10ms]
✓ QuotaManager > isStorageExceeded > should throw an error for invalid byte strings [0.13ms]

src/config/__test__/ConfigurationManager.test.ts:
48 | 
49 |     const validationResult = CollectionStoreConfigSchema.safeParse(parsedConfig);
50 | 
51 |     if (!validationResult.success) {
52 |       const validationError = fromZodError(validationResult.error);
53 |       throw new Error(`Configuration validation failed: ${validationError.message}`);
                                                                                        ^
error: Configuration validation failed: Validation error: Required at "core.name"; Required at "core.version
"; Required at "core.environment"; Expected object, received array at "adapters"; Expected object, received
array at "features"; Invalid enum value. Expected 'development' | 'staging' | 'production', received 'test'
at "environment.environment"
      at loadFromFile (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/Configurat
ionManager.ts:53:84)
      at <anonymous> (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/__test__/Co
nfigurationManager.test.ts:21:43)
✗ ConfigurationManager > loadFromFile > should load and validate a correct YAML configuration file [3.71ms]
48 | 
49 |     const validationResult = CollectionStoreConfigSchema.safeParse(parsedConfig);
50 | 
51 |     if (!validationResult.success) {
52 |       const validationError = fromZodError(validationResult.error);
53 |       throw new Error(`Configuration validation failed: ${validationError.message}`);
                                                                                        ^
error: Configuration validation failed: Validation error: Required at "core.name"; Required at "core.version
"; Required at "core.environment"; Expected object, received array at "adapters"; Expected object, received
array at "features"; Invalid enum value. Expected 'development' | 'staging' | 'production', received 'test'
at "environment.environment"
      at loadFromFile (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/Configurat
ionManager.ts:53:84)
      at <anonymous> (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/__test__/Co
nfigurationManager.test.ts:29:43)
✗ ConfigurationManager > loadFromFile > should load and validate a correct JSON configuration file [0.42ms]
✓ ConfigurationManager > loadFromFile > should throw an error if the file does not exist [0.12ms]
✓ ConfigurationManager > loadFromFile > should throw an error for a file with invalid syntax [0.67ms]
✓ ConfigurationManager > loadFromFile > should throw a validation error for a file with invalid structure [0
.34ms]
✓ ConfigurationManager > loadFromFile > should throw an error for unsupported file formats [0.84ms]
48 | 
49 |     const validationResult = CollectionStoreConfigSchema.safeParse(parsedConfig);
50 | 
51 |     if (!validationResult.success) {
52 |       const validationError = fromZodError(validationResult.error);
53 |       throw new Error(`Configuration validation failed: ${validationError.message}`);
                                                                                        ^
error: Configuration validation failed: Validation error: Required at "core.name"; Required at "core.version
"; Required at "core.environment"; Expected object, received array at "adapters"; Expected object, received
array at "features"; Invalid enum value. Expected 'development' | 'staging' | 'production', received 'test'
at "environment.environment"
      at loadFromFile (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/Configurat
ionManager.ts:53:84)
      at <anonymous> (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/__test__/Co
nfigurationManager.test.ts:67:28)
✗ ConfigurationManager > getConfig > should return the loaded configuration [0.71ms]
✓ ConfigurationManager > getConfig > should throw an error if getConfig is called before loadFromFile [0.09m
s]

src/config/__test__/ConfigurationManager.hotreload.test.ts:
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-U7VxvU/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-U7Vx
vU/test-config.yaml
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should load configuration with hot relo
ad enabled [2.06ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-U7VxvU/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should load configuration without hot r
eload by default [0.31ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-usBkWi/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-usBk
Wi/test-config.yaml
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should enable hot reload after loading 
[0.30ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-usBkWi/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-8UnGXy/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-8UnG
Xy/test-config.yaml
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-8UnGXy/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should disable hot reload [0.64ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-xUoOfk/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-xUoO
fk/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-xUoOfk/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Configuration Change Detection > should detect file changes and reload c
onfiguration [306.60ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-xUoOfk/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-WRBCmB/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-WRBC
mB/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-WRBCmB/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Configuration Change Detection > should handle multiple change callbacks
 [302.71ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-WRBCmB/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-AI89OK/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-AI89
OK/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-AI89OK/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Configuration Change Detection > should remove specific callbacks [303.0
9ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-AI89OK/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Manual Reload > should manually reload configuration [0.96ms]
✓ ConfigurationManager Hot Reload > Manual Reload > should trigger callbacks on manual reload [0.44ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-xUP8VV/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-xUP8
VV/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-xUP8VV/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Error Handling > should handle invalid configuration during hot reload [
302.57ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-xUP8VV/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Error Handling > should throw error when enabling hot reload without loa
ded config [0.14ms]
✓ ConfigurationManager Hot Reload > Error Handling > should throw error when manually reloading without load
ed config [0.25ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-ZrbzJK/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-Zrbz
JK/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-ZrbzJK/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Environment Configuration Integration > should handle environment-specif
ic configuration changes [309.19ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-ZrbzJK/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-fDq4F5/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-fDq4
F5/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-fDq4F5/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > IndexManager Integration > should handle IndexManager configuration chan
ges [303.36ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-fDq4F5/tes
t-config.yaml
Hot reload disabled

src/config/__test__/NodeRoleManager.test.ts:
✓ NodeRoleManager > should return the correct role for a configured node [0.02ms]
✓ NodeRoleManager > should throw an error if the node ID does not match the one in the config [0.14ms]
✓ NodeRoleManager > should throw an error if no configuration is loaded [0.11ms]

src/config/__test__/ConfigWatcher.test.ts:
Started watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Configuration file changed: /Users/vedmalex/work/collection-store/packages/collection-store/src/config/__tes
t__/temp/test-config.yml. Reloading...
✓ ConfigWatcher > should call the callback with the new config when the file changes [110.52ms]
Stopped watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Started watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Stopped watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
✓ ConfigWatcher > should stop watching a file with unwatch() [314.44ms]
Started watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Configuration file changed: /Users/vedmalex/work/collection-store/packages/collection-store/src/config/__tes
t__/temp/test-config.yml. Reloading...
✓ ConfigWatcher > should handle errors gracefully if the updated file is invalid [203.73ms]
Stopped watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml

src/config/__test__/ConfigurationIntegration.test.ts:
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-hxFaQk/integration-config.json
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integrati
on-test-hxFaQk/integration-config.json
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
✓ Configuration-Driven Architecture Integration > Full System Integration > should initialize complete confi
guration-driven architecture [1.54ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-hxFaQk/integration-config.json
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-zRioDM/integration-config.json
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integrati
on-test-zRioDM/integration-config.json
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-test-zRioDM/
integration-config.json. Reloading...
Configuration change detected, updating role from PRIMARY to SECONDARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database configuration updated from config change
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database configuration updated from config change
✓ Configuration-Driven Architecture Integration > Full System Integration > should handle configuration chan
ges across all components [403.37ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-zRioDM/integration-config.json
Hot reload disabled
Node initialized: test-node-integration as PRIMARY
Node demoted from PRIMARY to SECONDARY
Invalid role transition from SECONDARY to BROWSER
Node promoted from SECONDARY to PRIMARY
✓ Configuration-Driven Architecture Integration > Full System Integration > should support node role transit
ions with capability updates [0.86ms]
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Cross-database transaction started: tx-mbvn38ye-yst91k
Transaction prepared: tx-mbvn38ye-yst91k
Transaction committed: tx-mbvn38ye-yst91k
✓ Configuration-Driven Architecture Integration > Full System Integration > should manage cross-database tra
nsactions with 2PC [1.05ms]
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Cross-database transaction started: tx-mbvn38yf-hn30ui
Transaction aborted: tx-mbvn38yf-hn30ui
✓ Configuration-Driven Architecture Integration > Full System Integration > should handle transaction failur
es and rollback [0.43ms]
✓ Configuration-Driven Architecture Integration > Full System Integration > should validate environment-spec
ific configurations [0.21ms]
Node initialized: test-node-integration as PRIMARY
Node registered: secondary-node-1 as SECONDARY
Node registered: client-node-1 as CLIENT
✓ Configuration-Driven Architecture Integration > Full System Integration > should support cluster health mo
nitoring [0.24ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-zZHLEd/integration-config.json
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integrati
on-test-zZHLEd/integration-config.json
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-zZHLEd/integration-config.json
Hot reload disabled
✓ Configuration-Driven Architecture Integration > Full System Integration > should cleanup all components pr
operly [0.36ms]
✓ Configuration-Driven Architecture Integration > Error Handling and Edge Cases > should handle missing conf
iguration gracefully [0.08ms]
✓ Configuration-Driven Architecture Integration > Error Handling and Edge Cases > should handle invalid node
 operations [0.21ms]
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
✓ Configuration-Driven Architecture Integration > Error Handling and Edge Cases > should handle invalid tran
saction operations [0.23ms]

src/config/database/__test__/DatabaseInheritanceManager.test.ts:
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Initialization > should initialize with default configuration [0.40ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Initialization > should initialize with custom configuration [0.10ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should set and get database configuration
 [0.36ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should return null for non-existent datab
ase [0.04ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should get all database configurations [0
.07ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should validate database configuration [0
.09ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should add collection override [0.23ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should remove collection override [0.09ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should get all collection overrides for data
base [0.10ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should reject override for non-existent data
base [0.05ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should resolve database-level configuration [0.77m
s]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should resolve collection-level configuration with
 overrides [0.09ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should get specific configuration value [0.03ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should return undefined for non-existent config pa
th [0.02ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Inheritance Rules > should add custom inheritance rule [0.04ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Inheritance Rules > should remove inheritance rule [0.08ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Inheritance Rules > should apply inheritance rules during resolution [0.08ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Validation > should validate inheritance successfully [0.31ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Validation > should detect validation errors [0.17ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Statistics and Monitoring > should provide accurate statistics [0.15ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Statistics and Monitoring > should track cache usage [0.14ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Event System > should emit events for configuration changes [0.06ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Event System > should allow unsubscribing from events
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Import/Export > should export configurations [0.01ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Import/Export > should import configurations [0.28ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Import/Export > should merge configurations during import [0.11ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Bulk Operations > should bulk update database configurations [0.13ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Bulk Operations > should bulk update collection overrides [0.09ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Hierarchy > should provide configuration hierarchy for debuggin
g [0.05ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Cache Management > should clear resolution cache [0.07ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Cache Management > should refresh all configurations [0.10ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Starting DatabaseInheritanceManager
Component database-inheritance-manager started successfully
Stopping DatabaseInheritanceManager
Component database-inheritance-manager stopped successfully
✓ DatabaseInheritanceManager > Health Monitoring > should report healthy status with databases configured [0
.45ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Starting DatabaseInheritanceManager
Component database-inheritance-manager started successfully
Stopping DatabaseInheritanceManager
Component database-inheritance-manager stopped successfully
✓ DatabaseInheritanceManager > Health Monitoring > should report warning status with no databases [0.10ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed

src/config/features/__test__/FeatureToggleManager.test.ts:
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Cache cleared
Component feature-toggle-manager cleanup completed
✓ FeatureToggleManager > Initialization > should initialize with default configuration [0.13ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Initializing FeatureToggleManager
Cache cleared for feature test-feature
Feature test-feature configuration updated
FeatureToggleManager initialized with 1 features
Component feature-toggle-manager initialized successfully
Cache cleared
Component feature-toggle-manager cleanup completed
✓ FeatureToggleManager > Initialization > should load features from configuration [0.34ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Feature Management > should create and manage features [0.11ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Feature Management > should prevent duplicate feature creation [0.06ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Feature Management > should enable and disable features [0.21ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Feature Management > should toggle feature state [0.10ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature removed
✓ FeatureToggleManager > Feature Management > should remove features [0.09ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Cache cleared for feature feature3
Feature feature3 configuration updated
Feature feature3 created
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Cache cleared for feature feature3
Feature feature3 configuration updated
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Cache cleared for feature feature3
Feature feature3 configuration updated
✓ FeatureToggleManager > Feature Management > should handle bulk operations [0.30ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature percentage-feature
Feature percentage-feature configuration updated
Feature percentage-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate percentage rollout [0.10ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature group-feature
Feature group-feature configuration updated
Feature group-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate user groups [0.10ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature time-feature
Feature time-feature configuration updated
Feature time-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate time windows [0.11ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature env-feature
Feature env-feature configuration updated
Feature env-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate environment restrictions [0.06ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature dependency-feature
Feature dependency-feature configuration updated
Feature dependency-feature created
Cache cleared for feature dependent-feature
Feature dependent-feature configuration updated
Feature dependent-feature created
Cache cleared for feature dependency-feature
Feature dependency-feature configuration updated
Cache cleared for feature dependent-feature
✓ FeatureToggleManager > Feature Conditions > should evaluate feature dependencies [0.07ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Feature Evaluation > should provide detailed evaluation results [0.06ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
✓ FeatureToggleManager > Feature Evaluation > should handle non-existent features [0.02ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature enabled-feature
Feature enabled-feature configuration updated
Feature enabled-feature created
Cache cleared for feature disabled-feature
Feature disabled-feature configuration updated
Feature disabled-feature created
✓ FeatureToggleManager > Statistics > should track feature statistics [0.06ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Statistics > should track evaluation count [0.06ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Event System > should emit feature change events [0.12ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Event System > should allow unsubscribing from events [0.09ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Bulk updated 2 features
Imported 2 features (merge: true)
Cache cleared
Component feature-toggle-manager cleanup completed
✓ FeatureToggleManager > Configuration Management > should export and import configuration [0.31ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Cache cleared for feature feature3
Feature feature3 configuration updated
Bulk updated 3 features
✓ FeatureToggleManager > Configuration Management > should handle bulk updates [0.07ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Health Monitoring > should report healthy status with features [0.09ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
✓ FeatureToggleManager > Health Monitoring > should report warning status with no features [0.05ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Cache Management > should cache evaluation results [0.05ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Cache cleared for feature feature1
✓ FeatureToggleManager > Cache Management > should clear cache for specific features [0.05ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Cache cleared
✓ FeatureToggleManager > Cache Management > should clear all cache [0.05ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Updating FeatureToggleManager configuration
Cache cleared for feature initial-feature
Feature initial-feature configuration updated
FeatureToggleManager configuration updated successfully
Component feature-toggle-manager configuration updated successfully
Updating FeatureToggleManager configuration
Cache cleared for feature initial-feature
Feature initial-feature configuration updated
Cache cleared for feature new-feature
Feature new-feature configuration updated
Cache cleared
FeatureToggleManager configuration updated successfully
Component feature-toggle-manager configuration updated successfully
✓ FeatureToggleManager > Configuration Updates > should handle configuration updates [0.21ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed

src/config/conflicts/__test__/ConflictResolutionManager.test.ts:
Component ConflictResolutionManager initialized successfully
Component ConflictResolutionManager initialized successfully
Component ConflictResolutionManager is not running, skipping stop
✓ ConflictResolutionManager > Lifecycle Management > should initialize with default configuration [0.32ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
Component ConflictResolutionManager started successfully
Component ConflictResolutionManager stopped successfully
✓ ConflictResolutionManager > Lifecycle Management > should start and stop successfully [0.10ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Lifecycle Management > should report healthy status with no conflicts [0.09ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Lifecycle Management > should update configuration [0.04ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should detect value conflicts between configurations [0.3
4ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should detect type conflicts between configurations [0.05
ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should detect conflicts in specific path [0.12ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should validate configuration against existing conflicts 
[0.08ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should scan for existing conflicts [0.04ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get conflict by ID [0.02ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get all conflicts [0.02ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get conflicts by type [0.03ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get conflicts by severity [0.02ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should remove specific conflict [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should clear all conflicts [0.02ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should add resolution rule [0.03ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should update resolution rule [0.03ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should remove resolution rule [0.03ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should get all resolution rules [0.02ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should enable and disable resolution rules [0.04
ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should validate resolution rule [0.03ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve conflict with merge strategy [1.44ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve conflict with override strategy [1.25ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve multiple conflicts [3.85ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve all conflicts [3.65ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should auto-resolve conflicts [1.54ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should merge configurations deeply [0.10ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should merge configurations shallowly [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should select configuration by priority [0.11ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should prompt user for resolution [0.12ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Statistics and Monitoring > should track statistics [1.36ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Statistics and Monitoring > should reset statistics [0.09ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Statistics and Monitoring > should export statistics [0.24ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Event System > should emit conflict detected event [0.32ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Event System > should emit conflict resolved event [1.38ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Utility Methods > should compare configurations [0.08ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Utility Methods > should generate conflict report [0.20ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Utility Methods > should simulate resolution [0.09ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Bulk Operations > should add multiple resolution rules [0.18ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Bulk Operations > should update multiple resolution rules [0.13ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Bulk Operations > should remove multiple resolution rules [0.10ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should export configuration [0.06ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should import configuration [0.20ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should export conflict history [0.06ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should import conflict history [0.14ms]
Component ConflictResolutionManager is not running, skipping stop

src/config/adapters/__test__/AdapterFactoryManager.test.ts:
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 12ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Initialization > should initialize successfully with valid configuration [22.37ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Built-in adapter types would be registered here
Failed to create adapter 'adapter1': Failed to create adapter 'adapter1': Adapter type 'mock' is not registe
red
✓ AdapterFactoryManager > Initialization > should fail initialization with unregistered adapter type [0.30ms
]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Built-in adapter types would be registered here
AdapterFactoryManager initialized with 0 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Initialization > should handle empty adapter configuration [0.13ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
✓ AdapterFactoryManager > Adapter Type Registration > should register adapter types successfully [0.05ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
✓ AdapterFactoryManager > Adapter Type Registration > should prevent duplicate adapter type registration
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Adapter type 'mock' unregistered successfully
✓ AdapterFactoryManager > Adapter Type Registration > should unregister adapter types when no instances exis
t [0.17ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Adapter Type Registration > should prevent unregistering adapter types with active
 instances [21.44ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 10ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 21ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Adapter Lifecycle > should start all adapters successfully [21.91ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 21ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
✓ AdapterFactoryManager > Adapter Lifecycle > should stop all adapters successfully [43.08ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 21ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Adapter Lifecycle > should start adapters in priority order [22.07ms]
All adapters stopped in 21ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter3' of type 'mock' created successfully in 11ms
✓ AdapterFactoryManager > Adapter Management > should create new adapters [11.44ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Adapter Management > should get adapters by type [0.20ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
Adapter 'adapter1' restarted successfully
✓ AdapterFactoryManager > Adapter Management > should restart specific adapters [42.19ms]
All adapters stopped in 21ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter1' removed successfully
✓ AdapterFactoryManager > Adapter Management > should remove adapters [6.00ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter1' configuration updated successfully
✓ AdapterFactoryManager > Adapter Management > should update adapter configuration [6.00ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Health Monitoring > should get health status of specific adapter [0.29ms]
All adapters stopped in 21ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 10ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Health Monitoring > should get health status of all adapters [0.24ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Health Monitoring > should report overall factory health [0.25ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'failing' registered successfully
Built-in adapter types would be registered here
Adapter 'failing-adapter' of type 'failing' created successfully in 11ms
AdapterFactoryManager initialized with 1 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Error Handling > should handle adapter start failures [11.42ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
✓ AdapterFactoryManager > Error Handling > should handle missing adapter operations gracefully [0.07ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Statistics > should track factory statistics [0.18ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 12ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter3' of type 'mock' created successfully in 11ms
Adapter 'adapter3' removed successfully
✓ AdapterFactoryManager > Statistics > should update statistics after operations [18.00ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 10ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter3' of type 'mock' created successfully in 11ms
AdapterFactoryManager configuration updated
Component test-factory configuration updated successfully
✓ AdapterFactoryManager > Configuration Updates > should update factory configuration [22.72ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed

src/config/browser/__test__/BrowserFallbackManager.test.ts:
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Initialization and Lifecycle > should initialize successfully [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Starting BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager started
Component browser-fallback-test started successfully
Stopping BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager stopped
Component browser-fallback-test stopped successfully
✓ BrowserFallbackManager > Initialization and Lifecycle > should start and stop successfully [1.22ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Starting BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager started
Component browser-fallback-test started successfully
✓ BrowserFallbackManager > Initialization and Lifecycle > should get health status [0.36ms]
Stopping BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager stopped
Component browser-fallback-test stopped successfully
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Configuration Management > should get default configuration [0.02ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Configuration Management > should update configuration [0.06ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Quota Monitoring > should check quota status for all storage types [0.07ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Quota Monitoring > should get quota status for specific storage type [0.04ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Quota Monitoring > should start and stop quota monitoring [0.04ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should add fallback rule [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should update fallback rule [0.10ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should remove fallback rule [0.02ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should enable and disable fallback rules
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should get all fallback rules
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should validate fallback rules [0.10ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should trigger manual fallback [0.39ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should execute fallback rule [0.06ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should get active and historical executions [0.04ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should handle execution errors gracefully [0.28ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute memory-only fallback [0.20ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute reduced cache fallback [0.42ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute external storage fallback [0.26ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute compression fallback [0.02ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute selective cleanup fallback [0.07ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute graceful degradation fallback [0.16ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Statistics and Monitoring > should track statistics [0.10ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Statistics and Monitoring > should reset statistics [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Statistics and Monitoring > should export statistics [0.14ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Event System > should emit and handle events [0.08ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Event System > should remove event handlers [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Utility Methods > should estimate quota usage [0.10ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Utility Methods > should simulate fallback strategies [0.06ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Bulk Operations > should add multiple fallback rules [0.16ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Bulk Operations > should update multiple fallback rules [0.20ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Bulk Operations > should remove multiple fallback rules [0.13ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Initializing BrowserFallbackManager: browser-fallback-import-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-import-test initialized successfully
✓ BrowserFallbackManager > Import/Export > should export and import configuration [0.40ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Initializing BrowserFallbackManager: browser-fallback-history-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-history-test initialized successfully
✓ BrowserFallbackManager > Import/Export > should export and import fallback history [0.28ms]

src/config/registry/__test__/ComponentRegistry.test.ts:
Component 'test-1' registered successfully in 0ms
✓ ComponentRegistry > Component Registration > should register a component successfully [0.89ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
✓ ComponentRegistry > Component Registration > should throw error when registering duplicate component [0.29
ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-1' unregistered successfully in 0ms
✓ ComponentRegistry > Component Registration > should unregister a component successfully [1.55ms]
Cleaning up registry...
✓ ComponentRegistry > Component Registration > should throw error when unregistering non-existent component 
[2.82ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 21ms
✓ ComponentRegistry > Component Lifecycle > should initialize all components [22.24ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 21ms
Component test-1 started successfully
Component test-2 started successfully
All components started successfully in 22ms
✓ ComponentRegistry > Component Lifecycle > should start all components after initialization [43.58ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 22ms
Component test-1 started successfully
Component test-2 started successfully
All components started successfully in 22ms
Component test-2 stopped successfully
Component test-1 stopped successfully
All components stopped in 21ms
✓ ComponentRegistry > Component Lifecycle > should stop all components [65.84ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
✓ ComponentRegistry > Component Queries > should get components by type [0.26ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
✓ ComponentRegistry > Component Queries > should get all components [0.20ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
✓ ComponentRegistry > Component Queries > should get registry statistics [0.13ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 21ms
Component test-1 started successfully
Component test-2 started successfully
All components started successfully in 22ms
✓ ComponentRegistry > Health Monitoring > should get health status of all components [43.59ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component test-1 initialized successfully
All components initialized successfully in 11ms
Component test-1 started successfully
All components started successfully in 11ms
✓ ComponentRegistry > Health Monitoring > should get health status of specific component [22.09ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 22ms
Component test-1 configuration updated successfully
Component test-2 configuration updated successfully
✓ ComponentRegistry > Configuration Updates > should update configuration for all components [33.35ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component test-1 initialized successfully
All components initialized successfully in 11ms
Component test-1 configuration updated successfully
✓ ComponentRegistry > Configuration Updates > should update configuration for specific component [17.13ms]
Cleaning up registry...
Component 'failing-1' registered successfully in 0ms
✓ ComponentRegistry > Error Handling > should handle component initialization failure [0.81ms]
Cleaning up registry...
Component 'failing-1' registered successfully in 0ms
Component failing-1 initialized successfully
All components initialized successfully in 11ms
✓ ComponentRegistry > Error Handling > should handle component startup failure [11.31ms]
Cleaning up registry...

src/config/collections/__test__/ReadOnlyCollectionManager.test.ts:
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Component readonly-collection-manager cleanup completed
✓ ReadOnlyCollectionManager > Initialization > should initialize with default configuration [0.11ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 1 read-only collections
Component readonly-collection-manager initialized successfully
Component readonly-collection-manager cleanup completed
✓ ReadOnlyCollectionManager > Initialization > should load read-only collections from configuration [0.13ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should mark collection as read-only [0.11ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
Collection test-collection marked as writable
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should mark collection as writable [0.07ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should get all read-only collections [0.04ms
]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with WARNING protection
Protection level for test-collection updated to STRICT
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should update protection level [0.08ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should throw error when updating non-existen
t collection [0.04ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should allow operations on non-read-only collecti
ons [0.03ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should block operations on strict read-only colle
ctions [0.06ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should allow with warning on warning-level collec
tions [0.05ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should allow operations on disabled protection co
llections [0.03ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
Collection custom-collection marked as read-only with CUSTOM protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should handle custom protection level with allowe
d operations [0.09ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
Collection custom-collection marked as read-only with CUSTOM protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should handle custom protection level with blocke
d operations [0.04ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should have default detection rules [0.03ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'custom-test-rule' added
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should add custom detection rule [0.03ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'removable-rule' added
Detection rule 'removable-rule' removed
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should remove detection rule [0.05ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should test default detection rules [0.07ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Event System > should emit write operation events [0.07ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Event System > should allow unsubscribing from events [0.05ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with WARNING protection
Collection collection2 marked as read-only with STRICT protection
Bulk updated 2 read-only collection configurations
✓ ReadOnlyCollectionManager > Bulk Operations > should handle bulk configuration updates [0.12ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Imported 2 read-only collection configurations (merge: true)
Component readonly-collection-manager cleanup completed
✓ ReadOnlyCollectionManager > Bulk Operations > should export and import configurations [0.19ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
Cleared 2 read-only collection configurations
✓ ReadOnlyCollectionManager > Bulk Operations > should clear all configurations [0.07ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
Collection collection3 marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Statistics > should track collection statistics [0.07ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Statistics > should track blocked operations [0.03ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with WARNING protection
✓ ReadOnlyCollectionManager > Statistics > should track warning operations [0.03ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Health Monitoring > should report healthy status with normal operations [0.09m
s]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Health Monitoring > should report warning status with high blocked operations 
[0.02ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
ReadOnlyCollectionManager configuration updated successfully
Component readonly-collection-manager configuration updated successfully
Collection test-collection marked as read-only with WARNING protection
✓ ReadOnlyCollectionManager > Configuration Updates > should handle configuration updates [0.05ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed

3 tests failed:
✗ ConfigurationManager > loadFromFile > should load and validate a correct YAML configuration file [3.71ms]
✗ ConfigurationManager > loadFromFile > should load and validate a correct JSON configuration file [0.42ms]
✗ ConfigurationManager > getConfig > should return the loaded configuration [0.71ms]

 251 pass
 3 fail
 719 expect() calls
Ran 254 tests across 13 files. [4.29s]

```

---



---

Тесты все еще выдают 3 ошибки, несмотря на предыдущие исправления. Сообщение об ошибке стало более подробным: "Configuration validation failed: Validation error: Required at \"core.name\"; Required at \"core.version\"; Required at \"core.environment\"; Expected object, received array at \"adapters\"; Expected object, received array at \"features\"; Invalid enum value. Expected 'development' | 'staging' | 'production', received 'test' at \"environment.environment\"".

Это означает, что мне нужно:
1.  Добавить поля `name`, `version` и `environment` в объект `core`.
2.  Преобразовать `adapters` и `features` из массивов в объекты (карты), где ключами будут имена адаптеров/фич, а значениями — их конфигурации.
3.  Изменить значение `environment.environment` на допустимое (например, `development`, `staging` или `production`).

Сейчас я обновлю `valid.yml`, а затем `valid.json`, чтобы исправить эти ошибки, и после этого снова запущу тесты.


---



---



---

Кажется, команда `edit_file` для `valid.yml` не внесла никаких изменений. Это неожиданно, так как я чётко указал, что нужно изменить. Попробую повторно применить изменения к `valid.yml`.

---

```diff
  environment:
    mode: "development"
-   environment: "test"
+   environment: "development"
  core:
-   clientId: "test-client-id"
-   clientSecret: "test-client-secret"
+   name: "CoreName"
+   version: "CoreVersion"
+   environment: "CoreEnvironment"
  adapters:
-   - name: "test-adapter"
+   test-adapter:
      type: "mock"
  features:
-   - name: "test-feature"
+   test-feature:
      enabled: true
```

---



---

`valid.yml` успешно обновлен. Теперь обновлю `valid.json` для соответствия схеме и повторно запущу тесты.

---

```diff
    "environment": {
      "mode": "production",
-     "environment": "test"
+     "environment": "production"
    },
    "core": {
-     "clientId": "test-client-id-json",
-     "clientSecret": "test-client-secret-json"
+     "name": "CoreNameJson",
+     "version": "CoreVersionJson",
+     "environment": "CoreEnvironmentJson"
    },
-   "adapters": [
-     {
-       "name": "test-adapter-json",
+   "adapters": {
+     "test-adapter-json": {
        "type": "mock"
      }
-   ],
-   "features": [
-     {
-       "name": "test-feature-json",
+   },
+   "features": {
+     "test-feature-json": {
        "enabled": true
      }
-   ]
+   }
  }
```

---



---

`valid.json` был обновлён. Теперь, когда `valid.yml` и `valid.json` изменены таким образом, чтобы включать отсутствующие обязательные поля и соответствовать ожидаемой структуре, я снова запущу тесты, чтобы проверить, устранены ли оставшиеся 3 ошибки.

---

```bash
bun test src/config
```

```
bun test v1.2.16 (631e6748)

src/config/__test__/QuotaManager.test.ts:
✓ QuotaManager > getQuotas > should return the quota config if it exists [2.62ms]
✓ QuotaManager > getQuotas > should return null if no quota config exists [0.17ms]
✓ QuotaManager > isStorageExceeded > should return false if usage is below the quota [1.52ms]
✓ QuotaManager > isStorageExceeded > should return true if usage is above the quota [0.03ms]
✓ QuotaManager > isStorageExceeded > should return false if no storage quota is set
✓ QuotaManager > isStorageExceeded > should correctly parse different byte units [0.05ms]
✓ QuotaManager > isStorageExceeded > should throw an error for invalid byte strings [0.67ms]

src/config/__test__/ConfigurationManager.test.ts:
48 | 
49 |     const validationResult = CollectionStoreConfigSchema.safeParse(parsedConfig);
50 | 
51 |     if (!validationResult.success) {
52 |       const validationError = fromZodError(validationResult.error);
53 |       throw new Error(`Configuration validation failed: ${validationError.message}`);
                                                                                        ^
error: Configuration validation failed: Validation error: Invalid enum value. Expected 'development' | 'stag
ing' | 'production', received 'CoreEnvironment' at "core.environment"; Required at "adapters.test-adapter.en
abled"; Required at "adapters.test-adapter.priority"; Required at "adapters.test-adapter.role"; Required at
"features.replication"; Required at "features.realtime"; Required at "features.offline"; Required at "featur
es.analytics"
      at loadFromFile (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/Configurat
ionManager.ts:53:84)
      at <anonymous> (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/__test__/Co
nfigurationManager.test.ts:21:43)
✗ ConfigurationManager > loadFromFile > should load and validate a correct YAML configuration file [7.47ms]
48 | 
49 |     const validationResult = CollectionStoreConfigSchema.safeParse(parsedConfig);
50 | 
51 |     if (!validationResult.success) {
52 |       const validationError = fromZodError(validationResult.error);
53 |       throw new Error(`Configuration validation failed: ${validationError.message}`);
                                                                                        ^
error: Configuration validation failed: Validation error: Invalid enum value. Expected 'development' | 'stag
ing' | 'production', received 'CoreEnvironmentJson' at "core.environment"; Required at "adapters.test-adapte
r-json.enabled"; Required at "adapters.test-adapter-json.priority"; Required at "adapters.test-adapter-json.
role"; Required at "features.replication"; Required at "features.realtime"; Required at "features.offline";
Required at "features.analytics"
      at loadFromFile (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/Configurat
ionManager.ts:53:84)
      at <anonymous> (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/__test__/Co
nfigurationManager.test.ts:29:43)
✗ ConfigurationManager > loadFromFile > should load and validate a correct JSON configuration file [1.44ms]
✓ ConfigurationManager > loadFromFile > should throw an error if the file does not exist [0.37ms]
✓ ConfigurationManager > loadFromFile > should throw an error for a file with invalid syntax [2.12ms]
✓ ConfigurationManager > loadFromFile > should throw a validation error for a file with invalid structure [0
.75ms]
✓ ConfigurationManager > loadFromFile > should throw an error for unsupported file formats [2.18ms]
48 | 
49 |     const validationResult = CollectionStoreConfigSchema.safeParse(parsedConfig);
50 | 
51 |     if (!validationResult.success) {
52 |       const validationError = fromZodError(validationResult.error);
53 |       throw new Error(`Configuration validation failed: ${validationError.message}`);
                                                                                        ^
error: Configuration validation failed: Validation error: Invalid enum value. Expected 'development' | 'stag
ing' | 'production', received 'CoreEnvironment' at "core.environment"; Required at "adapters.test-adapter.en
abled"; Required at "adapters.test-adapter.priority"; Required at "adapters.test-adapter.role"; Required at
"features.replication"; Required at "features.realtime"; Required at "features.offline"; Required at "featur
es.analytics"
      at loadFromFile (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/Configurat
ionManager.ts:53:84)
      at <anonymous> (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/__test__/Co
nfigurationManager.test.ts:67:28)
✗ ConfigurationManager > getConfig > should return the loaded configuration [1.05ms]
✓ ConfigurationManager > getConfig > should throw an error if getConfig is called before loadFromFile [0.03m
s]

src/config/__test__/ConfigurationManager.hotreload.test.ts:
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-DG7pDT/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-DG7p
DT/test-config.yaml
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should load configuration with hot relo
ad enabled [2.84ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-DG7pDT/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should load configuration without hot r
eload by default [0.32ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-18pS00/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-18pS
00/test-config.yaml
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should enable hot reload after loading 
[0.35ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-18pS00/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-jZduzy/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-jZdu
zy/test-config.yaml
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-jZduzy/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should disable hot reload [0.47ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-lpWpjQ/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-lpWp
jQ/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-lpWpjQ/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Configuration Change Detection > should detect file changes and reload c
onfiguration [316.13ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-lpWpjQ/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-WQCt21/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-WQCt
21/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-WQCt21/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Configuration Change Detection > should handle multiple change callbacks
 [347.96ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-WQCt21/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-bTjW5K/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-bTjW
5K/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-bTjW5K/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Configuration Change Detection > should remove specific callbacks [302.1
2ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-bTjW5K/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Manual Reload > should manually reload configuration [0.50ms]
✓ ConfigurationManager Hot Reload > Manual Reload > should trigger callbacks on manual reload [0.38ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-0qbHra/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-0qbH
ra/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-0qbHra/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Error Handling > should handle invalid configuration during hot reload [
302.15ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-0qbHra/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Error Handling > should throw error when enabling hot reload without loa
ded config [0.12ms]
✓ ConfigurationManager Hot Reload > Error Handling > should throw error when manually reloading without load
ed config [0.03ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-g1383v/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-g138
3v/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-g1383v/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Environment Configuration Integration > should handle environment-specif
ic configuration changes [302.79ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-g1383v/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-1IioXv/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-1Iio
Xv/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-1IioXv/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > IndexManager Integration > should handle IndexManager configuration chan
ges [302.77ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-1IioXv/tes
t-config.yaml
Hot reload disabled

src/config/__test__/NodeRoleManager.test.ts:
✓ NodeRoleManager > should return the correct role for a configured node [0.10ms]
✓ NodeRoleManager > should throw an error if the node ID does not match the one in the config
✓ NodeRoleManager > should throw an error if no configuration is loaded

src/config/__test__/ConfigWatcher.test.ts:
Started watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Configuration file changed: /Users/vedmalex/work/collection-store/packages/collection-store/src/config/__tes
t__/temp/test-config.yml. Reloading...
✓ ConfigWatcher > should call the callback with the new config when the file changes [102.09ms]
Stopped watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Started watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Stopped watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
✓ ConfigWatcher > should stop watching a file with unwatch() [302.55ms]
Started watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Configuration file changed: /Users/vedmalex/work/collection-store/packages/collection-store/src/config/__tes
t__/temp/test-config.yml. Reloading...
✓ ConfigWatcher > should handle errors gracefully if the updated file is invalid [202.77ms]
Stopped watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml

src/config/__test__/ConfigurationIntegration.test.ts:
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-Je748w/integration-config.json
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integrati
on-test-Je748w/integration-config.json
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
✓ Configuration-Driven Architecture Integration > Full System Integration > should initialize complete confi
guration-driven architecture [2.03ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-Je748w/integration-config.json
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-eQjhty/integration-config.json
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integrati
on-test-eQjhty/integration-config.json
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-test-eQjhty/
integration-config.json. Reloading...
Configuration change detected, updating role from PRIMARY to SECONDARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database configuration updated from config change
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database configuration updated from config change
✓ Configuration-Driven Architecture Integration > Full System Integration > should handle configuration chan
ges across all components [402.79ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-eQjhty/integration-config.json
Hot reload disabled
Node initialized: test-node-integration as PRIMARY
Node demoted from PRIMARY to SECONDARY
Invalid role transition from SECONDARY to BROWSER
Node promoted from SECONDARY to PRIMARY
✓ Configuration-Driven Architecture Integration > Full System Integration > should support node role transit
ions with capability updates [0.47ms]
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Cross-database transaction started: tx-mbvn6egr-d75rlf
Transaction prepared: tx-mbvn6egr-d75rlf
Transaction committed: tx-mbvn6egr-d75rlf
✓ Configuration-Driven Architecture Integration > Full System Integration > should manage cross-database tra
nsactions with 2PC [1.42ms]
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Cross-database transaction started: tx-mbvn6egs-jf43fg
Transaction aborted: tx-mbvn6egs-jf43fg
✓ Configuration-Driven Architecture Integration > Full System Integration > should handle transaction failur
es and rollback [0.37ms]
✓ Configuration-Driven Architecture Integration > Full System Integration > should validate environment-spec
ific configurations [0.14ms]
Node initialized: test-node-integration as PRIMARY
Node registered: secondary-node-1 as SECONDARY
Node registered: client-node-1 as CLIENT
✓ Configuration-Driven Architecture Integration > Full System Integration > should support cluster health mo
nitoring [0.32ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-z3ku4C/integration-config.json
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integrati
on-test-z3ku4C/integration-config.json
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-z3ku4C/integration-config.json
Hot reload disabled
✓ Configuration-Driven Architecture Integration > Full System Integration > should cleanup all components pr
operly [0.69ms]
✓ Configuration-Driven Architecture Integration > Error Handling and Edge Cases > should handle missing conf
iguration gracefully [0.07ms]
✓ Configuration-Driven Architecture Integration > Error Handling and Edge Cases > should handle invalid node
 operations [0.19ms]
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
✓ Configuration-Driven Architecture Integration > Error Handling and Edge Cases > should handle invalid tran
saction operations [0.24ms]

src/config/database/__test__/DatabaseInheritanceManager.test.ts:
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Initialization > should initialize with default configuration [0.41ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Initialization > should initialize with custom configuration [0.10ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should set and get database configuration
 [0.72ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should return null for non-existent datab
ase [0.03ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should get all database configurations [0
.12ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should validate database configuration [0
.12ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should add collection override [0.22ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should remove collection override [0.09ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should get all collection overrides for data
base [0.07ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should reject override for non-existent data
base [0.03ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should resolve database-level configuration [0.61m
s]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should resolve collection-level configuration with
 overrides [0.12ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should get specific configuration value [0.16ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should return undefined for non-existent config pa
th [0.27ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Inheritance Rules > should add custom inheritance rule [0.07ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Inheritance Rules > should remove inheritance rule [0.05ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Inheritance Rules > should apply inheritance rules during resolution [0.11ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Validation > should validate inheritance successfully [0.22ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Validation > should detect validation errors [0.13ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Statistics and Monitoring > should provide accurate statistics [0.12ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Statistics and Monitoring > should track cache usage [0.05ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Event System > should emit events for configuration changes [0.09ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Event System > should allow unsubscribing from events [0.08ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Import/Export > should export configurations [0.07ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Import/Export > should import configurations [0.33ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Import/Export > should merge configurations during import [0.11ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Bulk Operations > should bulk update database configurations [0.19ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Bulk Operations > should bulk update collection overrides [0.25ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Hierarchy > should provide configuration hierarchy for debuggin
g [0.12ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Cache Management > should clear resolution cache [0.05ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Cache Management > should refresh all configurations [0.14ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Starting DatabaseInheritanceManager
Component database-inheritance-manager started successfully
Stopping DatabaseInheritanceManager
Component database-inheritance-manager stopped successfully
✓ DatabaseInheritanceManager > Health Monitoring > should report healthy status with databases configured [0
.36ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Starting DatabaseInheritanceManager
Component database-inheritance-manager started successfully
Stopping DatabaseInheritanceManager
Component database-inheritance-manager stopped successfully
✓ DatabaseInheritanceManager > Health Monitoring > should report warning status with no databases [0.05ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed

src/config/features/__test__/FeatureToggleManager.test.ts:
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Cache cleared
Component feature-toggle-manager cleanup completed
✓ FeatureToggleManager > Initialization > should initialize with default configuration [0.28ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Initializing FeatureToggleManager
Cache cleared for feature test-feature
Feature test-feature configuration updated
FeatureToggleManager initialized with 1 features
Component feature-toggle-manager initialized successfully
Cache cleared
Component feature-toggle-manager cleanup completed
✓ FeatureToggleManager > Initialization > should load features from configuration [0.40ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Feature Management > should create and manage features [0.12ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Feature Management > should prevent duplicate feature creation [0.07ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Feature Management > should enable and disable features [0.22ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Feature Management > should toggle feature state [0.13ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature removed
✓ FeatureToggleManager > Feature Management > should remove features [0.15ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Cache cleared for feature feature3
Feature feature3 configuration updated
Feature feature3 created
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Cache cleared for feature feature3
Feature feature3 configuration updated
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Cache cleared for feature feature3
Feature feature3 configuration updated
✓ FeatureToggleManager > Feature Management > should handle bulk operations [0.29ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature percentage-feature
Feature percentage-feature configuration updated
Feature percentage-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate percentage rollout [0.56ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature group-feature
Feature group-feature configuration updated
Feature group-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate user groups [0.20ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature time-feature
Feature time-feature configuration updated
Feature time-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate time windows [0.16ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature env-feature
Feature env-feature configuration updated
Feature env-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate environment restrictions [0.08ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature dependency-feature
Feature dependency-feature configuration updated
Feature dependency-feature created
Cache cleared for feature dependent-feature
Feature dependent-feature configuration updated
Feature dependent-feature created
Cache cleared for feature dependency-feature
Feature dependency-feature configuration updated
Cache cleared for feature dependent-feature
✓ FeatureToggleManager > Feature Conditions > should evaluate feature dependencies [0.10ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Feature Evaluation > should provide detailed evaluation results [0.09ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
✓ FeatureToggleManager > Feature Evaluation > should handle non-existent features [0.02ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature enabled-feature
Feature enabled-feature configuration updated
Feature enabled-feature created
Cache cleared for feature disabled-feature
Feature disabled-feature configuration updated
Feature disabled-feature created
✓ FeatureToggleManager > Statistics > should track feature statistics [0.08ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Statistics > should track evaluation count [0.07ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Event System > should emit feature change events [0.14ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Event System > should allow unsubscribing from events [0.14ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Bulk updated 2 features
Imported 2 features (merge: true)
Cache cleared
Component feature-toggle-manager cleanup completed
✓ FeatureToggleManager > Configuration Management > should export and import configuration [1.37ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Cache cleared for feature feature3
Feature feature3 configuration updated
Bulk updated 3 features
✓ FeatureToggleManager > Configuration Management > should handle bulk updates [0.12ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Health Monitoring > should report healthy status with features [0.14ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
✓ FeatureToggleManager > Health Monitoring > should report warning status with no features [0.04ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Cache Management > should cache evaluation results [0.05ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Cache cleared for feature feature1
✓ FeatureToggleManager > Cache Management > should clear cache for specific features [0.06ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Cache cleared
✓ FeatureToggleManager > Cache Management > should clear all cache [0.05ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Updating FeatureToggleManager configuration
Cache cleared for feature initial-feature
Feature initial-feature configuration updated
FeatureToggleManager configuration updated successfully
Component feature-toggle-manager configuration updated successfully
Updating FeatureToggleManager configuration
Cache cleared for feature initial-feature
Feature initial-feature configuration updated
Cache cleared for feature new-feature
Feature new-feature configuration updated
Cache cleared
FeatureToggleManager configuration updated successfully
Component feature-toggle-manager configuration updated successfully
✓ FeatureToggleManager > Configuration Updates > should handle configuration updates [0.24ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed

src/config/conflicts/__test__/ConflictResolutionManager.test.ts:
Component ConflictResolutionManager initialized successfully
Component ConflictResolutionManager initialized successfully
Component ConflictResolutionManager is not running, skipping stop
✓ ConflictResolutionManager > Lifecycle Management > should initialize with default configuration [0.35ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
Component ConflictResolutionManager started successfully
Component ConflictResolutionManager stopped successfully
✓ ConflictResolutionManager > Lifecycle Management > should start and stop successfully [0.12ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Lifecycle Management > should report healthy status with no conflicts [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Lifecycle Management > should update configuration [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should detect value conflicts between configurations [0.3
4ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should detect type conflicts between configurations [0.12
ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should detect conflicts in specific path [0.30ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should validate configuration against existing conflicts 
[0.20ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should scan for existing conflicts [0.09ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get conflict by ID [0.03ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get all conflicts [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get conflicts by type [0.08ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get conflicts by severity [0.08ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should remove specific conflict [0.06ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should clear all conflicts [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should add resolution rule [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should update resolution rule [0.09ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should remove resolution rule [0.03ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should get all resolution rules [0.03ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should enable and disable resolution rules [0.05
ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should validate resolution rule [0.06ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve conflict with merge strategy [1.62ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve conflict with override strategy [1.26ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve multiple conflicts [3.77ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve all conflicts [3.54ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should auto-resolve conflicts [1.22ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should merge configurations deeply [0.19ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should merge configurations shallowly [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should select configuration by priority [0.09ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should prompt user for resolution [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Statistics and Monitoring > should track statistics [1.21ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Statistics and Monitoring > should reset statistics [0.06ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Statistics and Monitoring > should export statistics [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Event System > should emit conflict detected event [0.11ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Event System > should emit conflict resolved event [1.26ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Utility Methods > should compare configurations [0.12ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Utility Methods > should generate conflict report [0.20ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Utility Methods > should simulate resolution [0.30ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Bulk Operations > should add multiple resolution rules [0.21ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Bulk Operations > should update multiple resolution rules [0.11ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Bulk Operations > should remove multiple resolution rules [0.32ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should export configuration [0.20ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should import configuration [0.17ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should export conflict history [0.09ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should import conflict history [0.10ms]
Component ConflictResolutionManager is not running, skipping stop

src/config/adapters/__test__/AdapterFactoryManager.test.ts:
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Initialization > should initialize successfully with valid configuration [22.50ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Built-in adapter types would be registered here
Failed to create adapter 'adapter1': Failed to create adapter 'adapter1': Adapter type 'mock' is not registe
red
✓ AdapterFactoryManager > Initialization > should fail initialization with unregistered adapter type [0.38ms
]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Built-in adapter types would be registered here
AdapterFactoryManager initialized with 0 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Initialization > should handle empty adapter configuration [0.07ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
✓ AdapterFactoryManager > Adapter Type Registration > should register adapter types successfully [0.04ms]
All adapters stopped in 1ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
✓ AdapterFactoryManager > Adapter Type Registration > should prevent duplicate adapter type registration [0.
02ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Adapter type 'mock' unregistered successfully
✓ AdapterFactoryManager > Adapter Type Registration > should unregister adapter types when no instances exis
t [0.06ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Adapter Type Registration > should prevent unregistering adapter types with active
 instances [21.38ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 10ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 21ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Adapter Lifecycle > should start all adapters successfully [22.33ms]
All adapters stopped in 21ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
✓ AdapterFactoryManager > Adapter Lifecycle > should stop all adapters successfully [44.45ms]
All adapters stopped in 1ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Adapter Lifecycle > should start adapters in priority order [22.02ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter3' of type 'mock' created successfully in 10ms
✓ AdapterFactoryManager > Adapter Management > should create new adapters [10.46ms]
All adapters stopped in 1ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Adapter Management > should get adapters by type [0.22ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
Adapter 'adapter1' restarted successfully
✓ AdapterFactoryManager > Adapter Management > should restart specific adapters [43.73ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter1' removed successfully
✓ AdapterFactoryManager > Adapter Management > should remove adapters [5.89ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter1' configuration updated successfully
✓ AdapterFactoryManager > Adapter Management > should update adapter configuration [5.96ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Health Monitoring > should get health status of specific adapter [0.28ms]
All adapters stopped in 21ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 21ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Health Monitoring > should get health status of all adapters [0.29ms]
All adapters stopped in 21ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Health Monitoring > should report overall factory health [0.29ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'failing' registered successfully
Built-in adapter types would be registered here
Adapter 'failing-adapter' of type 'failing' created successfully in 10ms
AdapterFactoryManager initialized with 1 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Error Handling > should handle adapter start failures [11.10ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
✓ AdapterFactoryManager > Error Handling > should handle missing adapter operations gracefully [0.20ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 10ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Statistics > should track factory statistics [0.22ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter3' of type 'mock' created successfully in 11ms
Adapter 'adapter3' removed successfully
✓ AdapterFactoryManager > Statistics > should update statistics after operations [16.91ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter3' of type 'mock' created successfully in 11ms
AdapterFactoryManager configuration updated
Component test-factory configuration updated successfully
✓ AdapterFactoryManager > Configuration Updates > should update factory configuration [22.60ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed

src/config/browser/__test__/BrowserFallbackManager.test.ts:
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Initialization and Lifecycle > should initialize successfully [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Starting BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager started
Component browser-fallback-test started successfully
Stopping BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager stopped
Component browser-fallback-test stopped successfully
✓ BrowserFallbackManager > Initialization and Lifecycle > should start and stop successfully [0.63ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Starting BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager started
Component browser-fallback-test started successfully
✓ BrowserFallbackManager > Initialization and Lifecycle > should get health status [0.49ms]
Stopping BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager stopped
Component browser-fallback-test stopped successfully
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Configuration Management > should get default configuration [0.03ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Configuration Management > should update configuration [0.13ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Quota Monitoring > should check quota status for all storage types [0.08ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Quota Monitoring > should get quota status for specific storage type [0.04ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Quota Monitoring > should start and stop quota monitoring [0.04ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should add fallback rule [0.07ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should update fallback rule [0.10ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should remove fallback rule [0.11ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should enable and disable fallback rules [0.11ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should get all fallback rules [0.02ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should validate fallback rules [0.10ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should trigger manual fallback [0.41ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should execute fallback rule [0.21ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should get active and historical executions [0.10ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should handle execution errors gracefully [0.07ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute memory-only fallback [0.11ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute reduced cache fallback [0.11ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute external storage fallback [0.09ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute compression fallback [0.04ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute selective cleanup fallback [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute graceful degradation fallback [0.11ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Statistics and Monitoring > should track statistics [0.09ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Statistics and Monitoring > should reset statistics [0.07ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Statistics and Monitoring > should export statistics [0.13ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Event System > should emit and handle events [0.15ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Event System > should remove event handlers [0.03ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Utility Methods > should estimate quota usage [0.51ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Utility Methods > should simulate fallback strategies [0.11ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Bulk Operations > should add multiple fallback rules [0.14ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Bulk Operations > should update multiple fallback rules [0.15ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Bulk Operations > should remove multiple fallback rules [0.15ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Initializing BrowserFallbackManager: browser-fallback-import-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-import-test initialized successfully
✓ BrowserFallbackManager > Import/Export > should export and import configuration [0.29ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Initializing BrowserFallbackManager: browser-fallback-history-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-history-test initialized successfully
✓ BrowserFallbackManager > Import/Export > should export and import fallback history [0.50ms]

src/config/registry/__test__/ComponentRegistry.test.ts:
Component 'test-1' registered successfully in 0ms
✓ ComponentRegistry > Component Registration > should register a component successfully [0.43ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
✓ ComponentRegistry > Component Registration > should throw error when registering duplicate component [0.12
ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-1' unregistered successfully in 0ms
✓ ComponentRegistry > Component Registration > should unregister a component successfully [0.21ms]
Cleaning up registry...
✓ ComponentRegistry > Component Registration > should throw error when unregistering non-existent component 
[0.08ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 22ms
✓ ComponentRegistry > Component Lifecycle > should initialize all components [22.49ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 23ms
Component test-1 started successfully
Component test-2 started successfully
All components started successfully in 22ms
✓ ComponentRegistry > Component Lifecycle > should start all components after initialization [44.70ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 21ms
Component test-1 started successfully
Component test-2 started successfully
All components started successfully in 22ms
Component test-2 stopped successfully
Component test-1 stopped successfully
All components stopped in 22ms
✓ ComponentRegistry > Component Lifecycle > should stop all components [65.51ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
✓ ComponentRegistry > Component Queries > should get components by type [0.19ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
✓ ComponentRegistry > Component Queries > should get all components [0.09ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
✓ ComponentRegistry > Component Queries > should get registry statistics [0.07ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 20ms
Component test-1 started successfully
Component test-2 started successfully
All components started successfully in 22ms
✓ ComponentRegistry > Health Monitoring > should get health status of all components [42.40ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component test-1 initialized successfully
All components initialized successfully in 12ms
Component test-1 started successfully
All components started successfully in 10ms
✓ ComponentRegistry > Health Monitoring > should get health status of specific component [22.42ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 22ms
Component test-1 configuration updated successfully
Component test-2 configuration updated successfully
✓ ComponentRegistry > Configuration Updates > should update configuration for all components [37.19ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component test-1 initialized successfully
All components initialized successfully in 30ms
Component test-1 configuration updated successfully
✓ ComponentRegistry > Configuration Updates > should update configuration for specific component [35.54ms]
Cleaning up registry...
Component 'failing-1' registered successfully in 0ms
✓ ComponentRegistry > Error Handling > should handle component initialization failure [0.67ms]
Cleaning up registry...
Component 'failing-1' registered successfully in 0ms
Component failing-1 initialized successfully
All components initialized successfully in 12ms
✓ ComponentRegistry > Error Handling > should handle component startup failure [11.36ms]
Cleaning up registry...

src/config/collections/__test__/ReadOnlyCollectionManager.test.ts:
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Component readonly-collection-manager cleanup completed
✓ ReadOnlyCollectionManager > Initialization > should initialize with default configuration [0.12ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 1 read-only collections
Component readonly-collection-manager initialized successfully
Component readonly-collection-manager cleanup completed
✓ ReadOnlyCollectionManager > Initialization > should load read-only collections from configuration [0.14ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should mark collection as read-only [0.10ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
Collection test-collection marked as writable
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should mark collection as writable [0.07ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should get all read-only collections [0.06ms
]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with WARNING protection
Protection level for test-collection updated to STRICT
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should update protection level [0.07ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should throw error when updating non-existen
t collection [0.04ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should allow operations on non-read-only collecti
ons [0.06ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should block operations on strict read-only colle
ctions [0.04ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should allow with warning on warning-level collec
tions [0.04ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should allow operations on disabled protection co
llections [0.03ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
Collection custom-collection marked as read-only with CUSTOM protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should handle custom protection level with allowe
d operations [0.09ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
Collection custom-collection marked as read-only with CUSTOM protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should handle custom protection level with blocke
d operations [0.05ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should have default detection rules [0.03ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'custom-test-rule' added
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should add custom detection rule [0.04ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'removable-rule' added
Detection rule 'removable-rule' removed
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should remove detection rule [0.05ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should test default detection rules [0.08ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Event System > should emit write operation events [0.08ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Event System > should allow unsubscribing from events [0.07ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with WARNING protection
Collection collection2 marked as read-only with STRICT protection
Bulk updated 2 read-only collection configurations
✓ ReadOnlyCollectionManager > Bulk Operations > should handle bulk configuration updates [0.15ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Imported 2 read-only collection configurations (merge: true)
Component readonly-collection-manager cleanup completed
✓ ReadOnlyCollectionManager > Bulk Operations > should export and import configurations [0.20ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
Cleared 2 read-only collection configurations
✓ ReadOnlyCollectionManager > Bulk Operations > should clear all configurations [0.08ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
Collection collection3 marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Statistics > should track collection statistics [0.06ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Statistics > should track blocked operations [0.06ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with WARNING protection
✓ ReadOnlyCollectionManager > Statistics > should track warning operations [0.04ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Health Monitoring > should report healthy status with normal operations [0.10m
s]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Health Monitoring > should report warning status with high blocked operations 
[0.03ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
ReadOnlyCollectionManager configuration updated successfully
Component readonly-collection-manager configuration updated successfully
Collection test-collection marked as read-only with WARNING protection
✓ ReadOnlyCollectionManager > Configuration Updates > should handle configuration updates [0.12ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed

3 tests failed:
✗ ConfigurationManager > loadFromFile > should load and validate a correct YAML configuration file [7.47ms]
✗ ConfigurationManager > loadFromFile > should load and validate a correct JSON configuration file [1.44ms]
✗ ConfigurationManager > getConfig > should return the loaded configuration [1.05ms]

 251 pass
 3 fail
 719 expect() calls
Ran 254 tests across 13 files. [4.51s]

```

---



---

Тесты по-прежнему завершаются с ошибками валидации. Мне нужно скорректировать файлы `valid.yml` и `valid.json` ещё раз. Я добавлю недостающие поля `enabled`, `priority` и `role` для адаптеров, а также `replication`, `realtime`, `offline` и `analytics` для фич. Кроме того, исправлю значение `core.environment` на одно из допустимых перечислений (например, `development`).

Сначала я внесу изменения в `valid.yml`.

---

```diff
    name: "CoreName"
    version: "CoreVersion"
-   environment: "CoreEnvironment"
+   environment: "production"
  adapters:
    test-adapter:
      type: "mock"
+     enabled: true
+     priority: 1
+     role: "PRIMARY"
  features:
    test-feature:
      enabled: true
+     replication: true
+     realtime: true
+     offline: true
+     analytics: true
```

---



---

`valid.yml` был обновлен. Теперь я обновлю `valid.json` для соответствия схеме и повторно запущу тесты.

---

```diff
      "name": "CoreNameJson",
      "version": "CoreVersionJson",
-     "environment": "CoreEnvironmentJson"
+     "environment": "production"
    },
    "adapters": {
      "test-adapter-json": {
-       "type": "mock"
+       "type": "mock",
+       "enabled": true,
+       "priority": 1,
+       "role": "SECONDARY"
      }
    },
    "features": {
      "test-feature-json": {
-       "enabled": true
+       "enabled": true,
+       "replication": true,
+       "realtime": true,
+       "offline": true,
+       "analytics": true
      }
    }
```

---



---

`valid.json` был обновлен. Теперь, когда файлы конфигурации для тестов содержат все необходимые поля и корректные значения перечислений, я снова запущу тесты, чтобы проверить, устранены ли оставшиеся 3 ошибки.

---

```bash
bun test src/config
```

```
➜  collection-store git:(master) ✗ bun test src/config
bun test v1.2.16 (631e6748)

src/config/__test__/QuotaManager.test.ts:
✓ QuotaManager > getQuotas > should return the quota config if it exists [2.26ms]
✓ QuotaManager > getQuotas > should return null if no quota config exists [0.12ms]
✓ QuotaManager > isStorageExceeded > should return false if usage is below the quota [1.57ms]
✓ QuotaManager > isStorageExceeded > should return true if usage is above the quota [0.01ms]
✓ QuotaManager > isStorageExceeded > should return false if no storage quota is set [0.03ms]
✓ QuotaManager > isStorageExceeded > should correctly parse different byte units [0.03ms]
✓ QuotaManager > isStorageExceeded > should throw an error for invalid byte strings [0.82ms]

src/config/__test__/ConfigurationManager.test.ts:
48 | 
49 |     const validationResult = CollectionStoreConfigSchema.safeParse(parsedConfig);
50 | 
51 |     if (!validationResult.success) {
52 |       const validationError = fromZodError(validationResult.error);
53 |       throw new Error(`Configuration validation failed: ${validationError.message}`);
                                                                                        ^
error: Configuration validation failed: Validation error: Invalid enum value. Expected 'primary' | 'backup' 
| 'readonly', received 'PRIMARY' at "adapters.test-adapter.role"; Required at "features.replication"; Requir
ed at "features.realtime"; Required at "features.offline"; Required at "features.analytics"
      at loadFromFile (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/Configurat
ionManager.ts:53:84)
      at <anonymous> (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/__test__/Co
nfigurationManager.test.ts:21:43)
✗ ConfigurationManager > loadFromFile > should load and validate a correct YAML configuration file [6.68ms]
48 | 
49 |     const validationResult = CollectionStoreConfigSchema.safeParse(parsedConfig);
50 | 
51 |     if (!validationResult.success) {
52 |       const validationError = fromZodError(validationResult.error);
53 |       throw new Error(`Configuration validation failed: ${validationError.message}`);
                                                                                        ^
error: Configuration validation failed: Validation error: Invalid enum value. Expected 'primary' | 'backup' 
| 'readonly', received 'SECONDARY' at "adapters.test-adapter-json.role"; Required at "features.replication";
 Required at "features.realtime"; Required at "features.offline"; Required at "features.analytics"
      at loadFromFile (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/Configurat
ionManager.ts:53:84)
      at <anonymous> (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/__test__/Co
nfigurationManager.test.ts:29:43)
✗ ConfigurationManager > loadFromFile > should load and validate a correct JSON configuration file [1.03ms]
✓ ConfigurationManager > loadFromFile > should throw an error if the file does not exist [0.14ms]
✓ ConfigurationManager > loadFromFile > should throw an error for a file with invalid syntax [1.15ms]
✓ ConfigurationManager > loadFromFile > should throw a validation error for a file with invalid structure [0
.09ms]
✓ ConfigurationManager > loadFromFile > should throw an error for unsupported file formats [1.43ms]
48 | 
49 |     const validationResult = CollectionStoreConfigSchema.safeParse(parsedConfig);
50 | 
51 |     if (!validationResult.success) {
52 |       const validationError = fromZodError(validationResult.error);
53 |       throw new Error(`Configuration validation failed: ${validationError.message}`);
                                                                                        ^
error: Configuration validation failed: Validation error: Invalid enum value. Expected 'primary' | 'backup' 
| 'readonly', received 'PRIMARY' at "adapters.test-adapter.role"; Required at "features.replication"; Requir
ed at "features.realtime"; Required at "features.offline"; Required at "features.analytics"
      at loadFromFile (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/Configurat
ionManager.ts:53:84)
      at <anonymous> (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/__test__/Co
nfigurationManager.test.ts:67:28)
✗ ConfigurationManager > getConfig > should return the loaded configuration [1.17ms]
✓ ConfigurationManager > getConfig > should throw an error if getConfig is called before loadFromFile [0.04m
s]

src/config/__test__/ConfigurationManager.hotreload.test.ts:
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-nBb7lD/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-nBb7
lD/test-config.yaml
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should load configuration with hot relo
ad enabled [1.68ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-nBb7lD/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should load configuration without hot r
eload by default [0.48ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-CEn6ou/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-CEn6
ou/test-config.yaml
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should enable hot reload after loading 
[0.38ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-CEn6ou/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-avDtHF/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-avDt
HF/test-config.yaml
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-avDtHF/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should disable hot reload [0.20ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-o4p0AH/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-o4p0
AH/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-o4p0AH/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Configuration Change Detection > should detect file changes and reload c
onfiguration [304.09ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-o4p0AH/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-bZjTSc/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-bZjT
Sc/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-bZjTSc/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Configuration Change Detection > should handle multiple change callbacks
 [302.89ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-bZjTSc/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-JJpEjF/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-JJpE
jF/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-JJpEjF/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Configuration Change Detection > should remove specific callbacks [302.6
1ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-JJpEjF/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Manual Reload > should manually reload configuration [0.68ms]
✓ ConfigurationManager Hot Reload > Manual Reload > should trigger callbacks on manual reload [0.29ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-4h8ZWU/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-4h8Z
WU/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-4h8ZWU/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Error Handling > should handle invalid configuration during hot reload [
302.53ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-4h8ZWU/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Error Handling > should throw error when enabling hot reload without loa
ded config [0.10ms]
✓ ConfigurationManager Hot Reload > Error Handling > should throw error when manually reloading without load
ed config [0.19ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-dNNRwC/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-dNNR
wC/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-dNNRwC/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Environment Configuration Integration > should handle environment-specif
ic configuration changes [302.99ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-dNNRwC/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-Xyyz7L/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-Xyyz
7L/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-Xyyz7L/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > IndexManager Integration > should handle IndexManager configuration chan
ges [302.74ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-Xyyz7L/tes
t-config.yaml
Hot reload disabled

src/config/__test__/NodeRoleManager.test.ts:
✓ NodeRoleManager > should return the correct role for a configured node
✓ NodeRoleManager > should throw an error if the node ID does not match the one in the config [0.36ms]
✓ NodeRoleManager > should throw an error if no configuration is loaded [0.02ms]

src/config/__test__/ConfigWatcher.test.ts:
Started watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Configuration file changed: /Users/vedmalex/work/collection-store/packages/collection-store/src/config/__tes
t__/temp/test-config.yml. Reloading...
✓ ConfigWatcher > should call the callback with the new config when the file changes [102.76ms]
Stopped watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Started watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Stopped watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
✓ ConfigWatcher > should stop watching a file with unwatch() [301.21ms]
Started watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Configuration file changed: /Users/vedmalex/work/collection-store/packages/collection-store/src/config/__tes
t__/temp/test-config.yml. Reloading...
✓ ConfigWatcher > should handle errors gracefully if the updated file is invalid [202.27ms]
Stopped watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml

src/config/__test__/ConfigurationIntegration.test.ts:
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-ViUvw7/integration-config.json
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integrati
on-test-ViUvw7/integration-config.json
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
✓ Configuration-Driven Architecture Integration > Full System Integration > should initialize complete confi
guration-driven architecture [1.62ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-ViUvw7/integration-config.json
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-CJ71y6/integration-config.json
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integrati
on-test-CJ71y6/integration-config.json
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-test-CJ71y6/
integration-config.json. Reloading...
Configuration change detected, updating role from PRIMARY to SECONDARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database configuration updated from config change
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database configuration updated from config change
✓ Configuration-Driven Architecture Integration > Full System Integration > should handle configuration chan
ges across all components [403.13ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-CJ71y6/integration-config.json
Hot reload disabled
Node initialized: test-node-integration as PRIMARY
Node demoted from PRIMARY to SECONDARY
Invalid role transition from SECONDARY to BROWSER
Node promoted from SECONDARY to PRIMARY
✓ Configuration-Driven Architecture Integration > Full System Integration > should support node role transit
ions with capability updates [1.08ms]
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Cross-database transaction started: tx-mbvn6vul-5aeqx5
Transaction prepared: tx-mbvn6vul-5aeqx5
Transaction committed: tx-mbvn6vul-5aeqx5
✓ Configuration-Driven Architecture Integration > Full System Integration > should manage cross-database tra
nsactions with 2PC [3.18ms]
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Cross-database transaction started: tx-mbvn6vuo-3hs49a
Transaction aborted: tx-mbvn6vuo-3hs49a
✓ Configuration-Driven Architecture Integration > Full System Integration > should handle transaction failur
es and rollback [0.88ms]
✓ Configuration-Driven Architecture Integration > Full System Integration > should validate environment-spec
ific configurations [0.32ms]
Node initialized: test-node-integration as PRIMARY
Node registered: secondary-node-1 as SECONDARY
Node registered: client-node-1 as CLIENT
✓ Configuration-Driven Architecture Integration > Full System Integration > should support cluster health mo
nitoring [0.63ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-RzrLhC/integration-config.json
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integrati
on-test-RzrLhC/integration-config.json
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-RzrLhC/integration-config.json
Hot reload disabled
✓ Configuration-Driven Architecture Integration > Full System Integration > should cleanup all components pr
operly [1.04ms]
✓ Configuration-Driven Architecture Integration > Error Handling and Edge Cases > should handle missing conf
iguration gracefully [0.09ms]
✓ Configuration-Driven Architecture Integration > Error Handling and Edge Cases > should handle invalid node
 operations [0.54ms]
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
✓ Configuration-Driven Architecture Integration > Error Handling and Edge Cases > should handle invalid tran
saction operations [0.39ms]

src/config/database/__test__/DatabaseInheritanceManager.test.ts:
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Initialization > should initialize with default configuration [0.31ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Initialization > should initialize with custom configuration [0.08ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should set and get database configuration
 [0.85ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should return null for non-existent datab
ase [0.03ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should get all database configurations [0
.16ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should validate database configuration [0
.06ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should add collection override [0.31ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should remove collection override [0.17ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should get all collection overrides for data
base [0.11ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should reject override for non-existent data
base [0.07ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should resolve database-level configuration [0.88m
s]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should resolve collection-level configuration with
 overrides [0.16ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should get specific configuration value [0.21ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should return undefined for non-existent config pa
th [0.15ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Inheritance Rules > should add custom inheritance rule [0.09ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Inheritance Rules > should remove inheritance rule [0.11ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Inheritance Rules > should apply inheritance rules during resolution [0.16ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Validation > should validate inheritance successfully [0.27ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Validation > should detect validation errors [0.07ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Statistics and Monitoring > should provide accurate statistics [0.31ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Statistics and Monitoring > should track cache usage [0.12ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Event System > should emit events for configuration changes [0.13ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Event System > should allow unsubscribing from events [0.09ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Import/Export > should export configurations [0.02ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Import/Export > should import configurations [0.48ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Import/Export > should merge configurations during import [1.11ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Bulk Operations > should bulk update database configurations [0.41ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Bulk Operations > should bulk update collection overrides [0.32ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Hierarchy > should provide configuration hierarchy for debuggin
g [0.17ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Cache Management > should clear resolution cache [0.14ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Cache Management > should refresh all configurations [0.04ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Starting DatabaseInheritanceManager
Component database-inheritance-manager started successfully
Stopping DatabaseInheritanceManager
Component database-inheritance-manager stopped successfully
✓ DatabaseInheritanceManager > Health Monitoring > should report healthy status with databases configured [0
.79ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Starting DatabaseInheritanceManager
Component database-inheritance-manager started successfully
Stopping DatabaseInheritanceManager
Component database-inheritance-manager stopped successfully
✓ DatabaseInheritanceManager > Health Monitoring > should report warning status with no databases [0.09ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed

src/config/features/__test__/FeatureToggleManager.test.ts:
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Cache cleared
Component feature-toggle-manager cleanup completed
✓ FeatureToggleManager > Initialization > should initialize with default configuration [0.49ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Initializing FeatureToggleManager
Cache cleared for feature test-feature
Feature test-feature configuration updated
FeatureToggleManager initialized with 1 features
Component feature-toggle-manager initialized successfully
Cache cleared
Component feature-toggle-manager cleanup completed
✓ FeatureToggleManager > Initialization > should load features from configuration [0.58ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Feature Management > should create and manage features [0.18ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Feature Management > should prevent duplicate feature creation [0.09ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Feature Management > should enable and disable features [0.30ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Feature Management > should toggle feature state [0.16ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature removed
✓ FeatureToggleManager > Feature Management > should remove features [0.13ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Cache cleared for feature feature3
Feature feature3 configuration updated
Feature feature3 created
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Cache cleared for feature feature3
Feature feature3 configuration updated
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Cache cleared for feature feature3
Feature feature3 configuration updated
✓ FeatureToggleManager > Feature Management > should handle bulk operations [0.39ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature percentage-feature
Feature percentage-feature configuration updated
Feature percentage-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate percentage rollout [0.63ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature group-feature
Feature group-feature configuration updated
Feature group-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate user groups [0.18ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature time-feature
Feature time-feature configuration updated
Feature time-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate time windows [0.15ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature env-feature
Feature env-feature configuration updated
Feature env-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate environment restrictions [0.09ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature dependency-feature
Feature dependency-feature configuration updated
Feature dependency-feature created
Cache cleared for feature dependent-feature
Feature dependent-feature configuration updated
Feature dependent-feature created
Cache cleared for feature dependency-feature
Feature dependency-feature configuration updated
Cache cleared for feature dependent-feature
✓ FeatureToggleManager > Feature Conditions > should evaluate feature dependencies [0.14ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Feature Evaluation > should provide detailed evaluation results [0.10ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
✓ FeatureToggleManager > Feature Evaluation > should handle non-existent features [0.04ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature enabled-feature
Feature enabled-feature configuration updated
Feature enabled-feature created
Cache cleared for feature disabled-feature
Feature disabled-feature configuration updated
Feature disabled-feature created
✓ FeatureToggleManager > Statistics > should track feature statistics [0.09ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Statistics > should track evaluation count [0.11ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Event System > should emit feature change events [0.21ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Event System > should allow unsubscribing from events [0.14ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Bulk updated 2 features
Imported 2 features (merge: true)
Cache cleared
Component feature-toggle-manager cleanup completed
✓ FeatureToggleManager > Configuration Management > should export and import configuration [0.74ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Cache cleared for feature feature3
Feature feature3 configuration updated
Bulk updated 3 features
✓ FeatureToggleManager > Configuration Management > should handle bulk updates [0.12ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Health Monitoring > should report healthy status with features [0.16ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
✓ FeatureToggleManager > Health Monitoring > should report warning status with no features [0.06ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Cache Management > should cache evaluation results [0.07ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Cache cleared for feature feature1
✓ FeatureToggleManager > Cache Management > should clear cache for specific features [0.07ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Cache cleared
✓ FeatureToggleManager > Cache Management > should clear all cache [0.07ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Updating FeatureToggleManager configuration
Cache cleared for feature initial-feature
Feature initial-feature configuration updated
FeatureToggleManager configuration updated successfully
Component feature-toggle-manager configuration updated successfully
Updating FeatureToggleManager configuration
Cache cleared for feature initial-feature
Feature initial-feature configuration updated
Cache cleared for feature new-feature
Feature new-feature configuration updated
Cache cleared
FeatureToggleManager configuration updated successfully
Component feature-toggle-manager configuration updated successfully
✓ FeatureToggleManager > Configuration Updates > should handle configuration updates [0.33ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed

src/config/conflicts/__test__/ConflictResolutionManager.test.ts:
Component ConflictResolutionManager initialized successfully
Component ConflictResolutionManager initialized successfully
Component ConflictResolutionManager is not running, skipping stop
✓ ConflictResolutionManager > Lifecycle Management > should initialize with default configuration [0.12ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
Component ConflictResolutionManager started successfully
Component ConflictResolutionManager stopped successfully
✓ ConflictResolutionManager > Lifecycle Management > should start and stop successfully [0.13ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Lifecycle Management > should report healthy status with no conflicts [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Lifecycle Management > should update configuration [0.07ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should detect value conflicts between configurations [0.4
2ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should detect type conflicts between configurations [0.09
ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should detect conflicts in specific path [0.09ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should validate configuration against existing conflicts 
[0.06ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should scan for existing conflicts [0.04ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get conflict by ID [0.02ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get all conflicts [0.02ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get conflicts by type [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get conflicts by severity [0.06ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should remove specific conflict [0.11ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should clear all conflicts [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should add resolution rule [0.04ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should update resolution rule [0.09ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should remove resolution rule [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should get all resolution rules [0.03ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should enable and disable resolution rules [0.18
ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should validate resolution rule [0.08ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve conflict with merge strategy [1.59ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve conflict with override strategy [1.26ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve multiple conflicts [3.71ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve all conflicts [3.71ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should auto-resolve conflicts [1.33ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should merge configurations deeply [0.38ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should merge configurations shallowly
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should select configuration by priority [0.04ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should prompt user for resolution [0.09ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Statistics and Monitoring > should track statistics [1.26ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Statistics and Monitoring > should reset statistics [0.10ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Statistics and Monitoring > should export statistics [0.13ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Event System > should emit conflict detected event [0.07ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Event System > should emit conflict resolved event [1.22ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Utility Methods > should compare configurations [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Utility Methods > should generate conflict report [0.17ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Utility Methods > should simulate resolution [0.13ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Bulk Operations > should add multiple resolution rules [0.20ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Bulk Operations > should update multiple resolution rules [0.13ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Bulk Operations > should remove multiple resolution rules [0.07ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should export configuration [0.13ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should import configuration [0.12ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should export conflict history [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should import conflict history [0.07ms]
Component ConflictResolutionManager is not running, skipping stop

src/config/adapters/__test__/AdapterFactoryManager.test.ts:
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Initialization > should initialize successfully with valid configuration [22.03ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Built-in adapter types would be registered here
Failed to create adapter 'adapter1': Failed to create adapter 'adapter1': Adapter type 'mock' is not registe
red
✓ AdapterFactoryManager > Initialization > should fail initialization with unregistered adapter type [0.27ms
]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Built-in adapter types would be registered here
AdapterFactoryManager initialized with 0 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Initialization > should handle empty adapter configuration [0.07ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
✓ AdapterFactoryManager > Adapter Type Registration > should register adapter types successfully [0.04ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
✓ AdapterFactoryManager > Adapter Type Registration > should prevent duplicate adapter type registration [0.
03ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Adapter type 'mock' unregistered successfully
✓ AdapterFactoryManager > Adapter Type Registration > should unregister adapter types when no instances exis
t [0.05ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Adapter Type Registration > should prevent unregistering adapter types with active
 instances [21.73ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 10ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 21ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Adapter Lifecycle > should start all adapters successfully [21.46ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
All adapters stopped in 21ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
✓ AdapterFactoryManager > Adapter Lifecycle > should stop all adapters successfully [43.18ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Adapter Lifecycle > should start adapters in priority order [22.58ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 12ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter3' of type 'mock' created successfully in 10ms
✓ AdapterFactoryManager > Adapter Management > should create new adapters [10.94ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Adapter Management > should get adapters by type [0.12ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 21ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
Adapter 'adapter1' restarted successfully
✓ AdapterFactoryManager > Adapter Management > should restart specific adapters [43.40ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter1' removed successfully
✓ AdapterFactoryManager > Adapter Management > should remove adapters [6.04ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter1' configuration updated successfully
✓ AdapterFactoryManager > Adapter Management > should update adapter configuration [5.90ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 21ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Health Monitoring > should get health status of specific adapter [0.24ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 12ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Health Monitoring > should get health status of all adapters [0.48ms]
All adapters stopped in 23ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Health Monitoring > should report overall factory health [0.45ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'failing' registered successfully
Built-in adapter types would be registered here
Adapter 'failing-adapter' of type 'failing' created successfully in 11ms
AdapterFactoryManager initialized with 1 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Error Handling > should handle adapter start failures [11.27ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
✓ AdapterFactoryManager > Error Handling > should handle missing adapter operations gracefully [0.15ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 10ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Statistics > should track factory statistics [0.09ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter3' of type 'mock' created successfully in 10ms
Adapter 'adapter3' removed successfully
✓ AdapterFactoryManager > Statistics > should update statistics after operations [16.16ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter3' of type 'mock' created successfully in 11ms
AdapterFactoryManager configuration updated
Component test-factory configuration updated successfully
✓ AdapterFactoryManager > Configuration Updates > should update factory configuration [21.65ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed

src/config/browser/__test__/BrowserFallbackManager.test.ts:
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Initialization and Lifecycle > should initialize successfully [0.06ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Starting BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager started
Component browser-fallback-test started successfully
Stopping BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager stopped
Component browser-fallback-test stopped successfully
✓ BrowserFallbackManager > Initialization and Lifecycle > should start and stop successfully [0.90ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Starting BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager started
Component browser-fallback-test started successfully
✓ BrowserFallbackManager > Initialization and Lifecycle > should get health status [0.69ms]
Stopping BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager stopped
Component browser-fallback-test stopped successfully
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Configuration Management > should get default configuration [0.03ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Configuration Management > should update configuration [0.13ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Quota Monitoring > should check quota status for all storage types [0.04ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Quota Monitoring > should get quota status for specific storage type [0.04ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Quota Monitoring > should start and stop quota monitoring [0.06ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should add fallback rule [0.06ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should update fallback rule [0.04ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should remove fallback rule [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should enable and disable fallback rules [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should get all fallback rules [0.02ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should validate fallback rules [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should trigger manual fallback [0.49ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should execute fallback rule [0.12ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should get active and historical executions [0.07ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should handle execution errors gracefully [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute memory-only fallback [0.13ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute reduced cache fallback [0.17ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute external storage fallback [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute compression fallback [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute selective cleanup fallback [0.06ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute graceful degradation fallback [0.13ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Statistics and Monitoring > should track statistics [0.08ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Statistics and Monitoring > should reset statistics [0.09ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Statistics and Monitoring > should export statistics [0.17ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Event System > should emit and handle events [0.03ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Event System > should remove event handlers [0.03ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Utility Methods > should estimate quota usage [0.68ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Utility Methods > should simulate fallback strategies [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Bulk Operations > should add multiple fallback rules [0.04ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Bulk Operations > should update multiple fallback rules [0.11ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Bulk Operations > should remove multiple fallback rules [0.10ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Initializing BrowserFallbackManager: browser-fallback-import-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-import-test initialized successfully
✓ BrowserFallbackManager > Import/Export > should export and import configuration [0.30ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Initializing BrowserFallbackManager: browser-fallback-history-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-history-test initialized successfully
✓ BrowserFallbackManager > Import/Export > should export and import fallback history [0.53ms]

src/config/registry/__test__/ComponentRegistry.test.ts:
Component 'test-1' registered successfully in 0ms
✓ ComponentRegistry > Component Registration > should register a component successfully [0.42ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
✓ ComponentRegistry > Component Registration > should throw error when registering duplicate component [0.10
ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-1' unregistered successfully in 0ms
✓ ComponentRegistry > Component Registration > should unregister a component successfully [0.20ms]
Cleaning up registry...
✓ ComponentRegistry > Component Registration > should throw error when unregistering non-existent component 
[0.04ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 21ms
✓ ComponentRegistry > Component Lifecycle > should initialize all components [21.43ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 22ms
Component test-1 started successfully
Component test-2 started successfully
All components started successfully in 23ms
✓ ComponentRegistry > Component Lifecycle > should start all components after initialization [44.69ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 21ms
Component test-1 started successfully
Component test-2 started successfully
All components started successfully in 22ms
Component test-2 stopped successfully
Component test-1 stopped successfully
All components stopped in 22ms
✓ ComponentRegistry > Component Lifecycle > should stop all components [65.15ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
✓ ComponentRegistry > Component Queries > should get components by type [0.24ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
✓ ComponentRegistry > Component Queries > should get all components [0.11ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
✓ ComponentRegistry > Component Queries > should get registry statistics [0.11ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 22ms
Component test-1 started successfully
Component test-2 started successfully
All components started successfully in 21ms
✓ ComponentRegistry > Health Monitoring > should get health status of all components [43.35ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component test-1 initialized successfully
All components initialized successfully in 11ms
Component test-1 started successfully
All components started successfully in 11ms
✓ ComponentRegistry > Health Monitoring > should get health status of specific component [21.89ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 22ms
Component test-1 configuration updated successfully
Component test-2 configuration updated successfully
✓ ComponentRegistry > Configuration Updates > should update configuration for all components [34.04ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component test-1 initialized successfully
All components initialized successfully in 11ms
Component test-1 configuration updated successfully
✓ ComponentRegistry > Configuration Updates > should update configuration for specific component [17.11ms]
Cleaning up registry...
Component 'failing-1' registered successfully in 0ms
✓ ComponentRegistry > Error Handling > should handle component initialization failure [0.26ms]
Cleaning up registry...
Component 'failing-1' registered successfully in 0ms
Component failing-1 initialized successfully
All components initialized successfully in 11ms
✓ ComponentRegistry > Error Handling > should handle component startup failure [11.54ms]
Cleaning up registry...

src/config/collections/__test__/ReadOnlyCollectionManager.test.ts:
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Component readonly-collection-manager cleanup completed
✓ ReadOnlyCollectionManager > Initialization > should initialize with default configuration [0.12ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 1 read-only collections
Component readonly-collection-manager initialized successfully
Component readonly-collection-manager cleanup completed
✓ ReadOnlyCollectionManager > Initialization > should load read-only collections from configuration [0.15ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should mark collection as read-only [0.12ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
Collection test-collection marked as writable
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should mark collection as writable [0.08ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should get all read-only collections [0.06ms
]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with WARNING protection
Protection level for test-collection updated to STRICT
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should update protection level [0.09ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should throw error when updating non-existen
t collection [0.30ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should allow operations on non-read-only collecti
ons [0.12ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should block operations on strict read-only colle
ctions [0.05ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should allow with warning on warning-level collec
tions [0.04ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should allow operations on disabled protection co
llections [0.04ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
Collection custom-collection marked as read-only with CUSTOM protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should handle custom protection level with allowe
d operations [0.12ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
Collection custom-collection marked as read-only with CUSTOM protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should handle custom protection level with blocke
d operations [0.06ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should have default detection rules [0.04ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'custom-test-rule' added
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should add custom detection rule [0.05ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'removable-rule' added
Detection rule 'removable-rule' removed
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should remove detection rule [0.07ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should test default detection rules [0.05ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Event System > should emit write operation events [0.11ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Event System > should allow unsubscribing from events [0.20ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with WARNING protection
Collection collection2 marked as read-only with STRICT protection
Bulk updated 2 read-only collection configurations
✓ ReadOnlyCollectionManager > Bulk Operations > should handle bulk configuration updates [0.23ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Imported 2 read-only collection configurations (merge: true)
Component readonly-collection-manager cleanup completed
✓ ReadOnlyCollectionManager > Bulk Operations > should export and import configurations [0.55ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
Cleared 2 read-only collection configurations
✓ ReadOnlyCollectionManager > Bulk Operations > should clear all configurations [0.11ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
Collection collection3 marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Statistics > should track collection statistics [0.15ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Statistics > should track blocked operations [0.14ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with WARNING protection
✓ ReadOnlyCollectionManager > Statistics > should track warning operations [0.09ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Health Monitoring > should report healthy status with normal operations [0.11m
s]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Health Monitoring > should report warning status with high blocked operations 
[0.04ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
ReadOnlyCollectionManager configuration updated successfully
Component readonly-collection-manager configuration updated successfully
Collection test-collection marked as read-only with WARNING protection
✓ ReadOnlyCollectionManager > Configuration Updates > should handle configuration updates [0.04ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed

3 tests failed:
✗ ConfigurationManager > loadFromFile > should load and validate a correct YAML configuration file [6.68ms]
✗ ConfigurationManager > loadFromFile > should load and validate a correct JSON configuration file [1.03ms]
✗ ConfigurationManager > getConfig > should return the loaded configuration [1.17ms]

 251 pass
 3 fail
 719 expect() calls
Ran 254 tests across 13 files. [4.38s]
➜  collection-store git:(master) ✗
```

---



---



---

Хорошо, я понял. Мне нужно исправить оставшиеся ошибки в тестах, добавив отсутствующие поля и скорректировав значения `role` в файлах `valid.yml` и `valid.json`. Я начну с `valid.yml`.

---

```diff
      enabled: true
      priority: 1
-     role: "PRIMARY"
+     role: "primary"
  features:
    test-feature:
      enabled: true
-     replication: true
-     realtime: true
-     offline: true
-     analytics: true
+     replication:
+       enabled: true
+       priority: 1
+     realtime:
+       enabled: true
+       priority: 1
+     offline:
+       enabled: true
+       priority: 1
+     analytics:
+       enabled: true
+       priority: 1
```

---



---

Хорошо, я обновлю `valid.json` аналогичным образом, чтобы внести те же исправления.

---

```diff
    },
    "adapters": {
-     "test-adapter-json": {
-       "type": "mock",
+     "test-adapter": {
        "enabled": true,
        "priority": 1,
-       "role": "SECONDARY"
+       "role": "backup"
      }
    },
    "features": {
-     "test-feature-json": {
+     "replication": {
+       "enabled": true,
+       "priority": 1
+     },
+     "realtime": {
+       "enabled": true,
+       "priority": 1
+     },
+     "offline": {
+       "enabled": true,
+       "priority": 1
+     },
+     "analytics": {
        "enabled": true,
-       "replication": true,
-       "realtime": true,
-       "offline": true,
-       "analytics": true
+       "priority": 1
      }
    }
```

---



---

Хорошо, я снова запущу тесты в папке `src/config`.

---

```bash
bun test src/config
```

```
➜  collection-store git:(master) ✗ bun test src/config
bun test v1.2.16 (631e6748)

src/config/__test__/QuotaManager.test.ts:
✓ QuotaManager > getQuotas > should return the quota config if it exists [4.08ms]
✓ QuotaManager > getQuotas > should return null if no quota config exists [0.33ms]
✓ QuotaManager > isStorageExceeded > should return false if usage is below the quota [1.79ms]
✓ QuotaManager > isStorageExceeded > should return true if usage is above the quota [0.21ms]
✓ QuotaManager > isStorageExceeded > should return false if no storage quota is set [0.08ms]
✓ QuotaManager > isStorageExceeded > should correctly parse different byte units [0.22ms]
✓ QuotaManager > isStorageExceeded > should throw an error for invalid byte strings [0.84ms]

src/config/__test__/ConfigurationManager.test.ts:
48 | 
49 |     const validationResult = CollectionStoreConfigSchema.safeParse(parsedConfig);
50 | 
51 |     if (!validationResult.success) {
52 |       const validationError = fromZodError(validationResult.error);
53 |       throw new Error(`Configuration validation failed: ${validationError.message}`);
                                                                                        ^
error: Configuration validation failed: Validation error: Required at "features.replication"; Required at "f
eatures.realtime"; Required at "features.offline"; Required at "features.analytics"
      at loadFromFile (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/Configurat
ionManager.ts:53:84)
      at <anonymous> (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/__test__/Co
nfigurationManager.test.ts:21:43)
✗ ConfigurationManager > loadFromFile > should load and validate a correct YAML configuration file [7.85ms]
48 | 
49 |     const validationResult = CollectionStoreConfigSchema.safeParse(parsedConfig);
50 | 
51 |     if (!validationResult.success) {
52 |       const validationError = fromZodError(validationResult.error);
53 |       throw new Error(`Configuration validation failed: ${validationError.message}`);
                                                                                        ^
error: Configuration validation failed: Validation error: Required at "adapters.test-adapter.type"
      at loadFromFile (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/Configurat
ionManager.ts:53:84)
      at <anonymous> (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/__test__/Co
nfigurationManager.test.ts:29:43)
✗ ConfigurationManager > loadFromFile > should load and validate a correct JSON configuration file [1.01ms]
✓ ConfigurationManager > loadFromFile > should throw an error if the file does not exist [0.24ms]
✓ ConfigurationManager > loadFromFile > should throw an error for a file with invalid syntax [1.44ms]
✓ ConfigurationManager > loadFromFile > should throw a validation error for a file with invalid structure [0
.31ms]
✓ ConfigurationManager > loadFromFile > should throw an error for unsupported file formats [1.67ms]
48 | 
49 |     const validationResult = CollectionStoreConfigSchema.safeParse(parsedConfig);
50 | 
51 |     if (!validationResult.success) {
52 |       const validationError = fromZodError(validationResult.error);
53 |       throw new Error(`Configuration validation failed: ${validationError.message}`);
                                                                                        ^
error: Configuration validation failed: Validation error: Required at "features.replication"; Required at "f
eatures.realtime"; Required at "features.offline"; Required at "features.analytics"
      at loadFromFile (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/Configurat
ionManager.ts:53:84)
      at <anonymous> (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/__test__/Co
nfigurationManager.test.ts:67:28)
✗ ConfigurationManager > getConfig > should return the loaded configuration [1.96ms]
✓ ConfigurationManager > getConfig > should throw an error if getConfig is called before loadFromFile [0.12m
s]

src/config/__test__/ConfigurationManager.hotreload.test.ts:
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-RHJmN0/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-RHJm
N0/test-config.yaml
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should load configuration with hot relo
ad enabled [4.86ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-RHJmN0/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should load configuration without hot r
eload by default [0.55ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-mSQY8A/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-mSQY
8A/test-config.yaml
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should enable hot reload after loading 
[0.35ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-mSQY8A/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-RbPZ28/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-RbPZ
28/test-config.yaml
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-RbPZ28/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should disable hot reload [0.45ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-vwIt4o/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-vwIt
4o/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-vwIt4o/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Configuration Change Detection > should detect file changes and reload c
onfiguration [316.42ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-vwIt4o/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-ufKTAr/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-ufKT
Ar/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-ufKTAr/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Configuration Change Detection > should handle multiple change callbacks
 [325.50ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-ufKTAr/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-lPMCKH/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-lPMC
KH/test-config.yaml
185 |       // Update configuration
186 |       fs.writeFileSync(configPath, JSON.stringify(updatedConfig, null, 2));
187 |       await new Promise(resolve => setTimeout(resolve, 200));
188 | 
189 |       expect(callback1Called).toBe(false);
190 |       expect(callback2Called).toBe(true);
                                    ^
error: expect(received).toBe(expected)

Expected: true
Received: false

      at <anonymous> (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/__test__/Co
nfigurationManager.hotreload.test.ts:190:31)
✗ ConfigurationManager Hot Reload > Configuration Change Detection > should remove specific callbacks [302.9
6ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-lPMCKH/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Manual Reload > should manually reload configuration [0.43ms]
✓ ConfigurationManager Hot Reload > Manual Reload > should trigger callbacks on manual reload [0.40ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-V4v8vy/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-V4v8
vy/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-V4v8vy/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Error Handling > should handle invalid configuration during hot reload [
303.26ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-V4v8vy/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Error Handling > should throw error when enabling hot reload without loa
ded config
✓ ConfigurationManager Hot Reload > Error Handling > should throw error when manually reloading without load
ed config [0.05ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-VAVJGI/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-VAVJ
GI/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-VAVJGI/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Environment Configuration Integration > should handle environment-specif
ic configuration changes [303.26ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-VAVJGI/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-PaUxcy/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-PaUx
cy/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-PaUxcy/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > IndexManager Integration > should handle IndexManager configuration chan
ges [302.82ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-PaUxcy/tes
t-config.yaml
Hot reload disabled

src/config/__test__/NodeRoleManager.test.ts:
✓ NodeRoleManager > should return the correct role for a configured node
✓ NodeRoleManager > should throw an error if the node ID does not match the one in the config [0.05ms]
✓ NodeRoleManager > should throw an error if no configuration is loaded [0.02ms]

src/config/__test__/ConfigWatcher.test.ts:
Started watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Configuration file changed: /Users/vedmalex/work/collection-store/packages/collection-store/src/config/__tes
t__/temp/test-config.yml. Reloading...
✓ ConfigWatcher > should call the callback with the new config when the file changes [101.00ms]
Stopped watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Started watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Stopped watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
✓ ConfigWatcher > should stop watching a file with unwatch() [301.98ms]
Started watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Configuration file changed: /Users/vedmalex/work/collection-store/packages/collection-store/src/config/__tes
t__/temp/test-config.yml. Reloading...
✓ ConfigWatcher > should handle errors gracefully if the updated file is invalid [202.81ms]
Stopped watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml

src/config/__test__/ConfigurationIntegration.test.ts:
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-gDlWbH/integration-config.json
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integrati
on-test-gDlWbH/integration-config.json
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
✓ Configuration-Driven Architecture Integration > Full System Integration > should initialize complete confi
guration-driven architecture [1.53ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-gDlWbH/integration-config.json
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-ANEhto/integration-config.json
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integrati
on-test-ANEhto/integration-config.json
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-test-ANEhto/
integration-config.json. Reloading...
Configuration change detected, updating role from PRIMARY to SECONDARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database configuration updated from config change
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database configuration updated from config change
✓ Configuration-Driven Architecture Integration > Full System Integration > should handle configuration chan
ges across all components [402.97ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-ANEhto/integration-config.json
Hot reload disabled
Node initialized: test-node-integration as PRIMARY
Node demoted from PRIMARY to SECONDARY
Invalid role transition from SECONDARY to BROWSER
Node promoted from SECONDARY to PRIMARY
✓ Configuration-Driven Architecture Integration > Full System Integration > should support node role transit
ions with capability updates [0.50ms]
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Cross-database transaction started: tx-mbvn7h7c-ph05nr
Transaction prepared: tx-mbvn7h7c-ph05nr
Transaction committed: tx-mbvn7h7c-ph05nr
✓ Configuration-Driven Architecture Integration > Full System Integration > should manage cross-database tra
nsactions with 2PC [1.30ms]
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Cross-database transaction started: tx-mbvn7h7d-9m3up8
Transaction aborted: tx-mbvn7h7d-9m3up8
✓ Configuration-Driven Architecture Integration > Full System Integration > should handle transaction failur
es and rollback [0.39ms]
✓ Configuration-Driven Architecture Integration > Full System Integration > should validate environment-spec
ific configurations [0.13ms]
Node initialized: test-node-integration as PRIMARY
Node registered: secondary-node-1 as SECONDARY
Node registered: client-node-1 as CLIENT
✓ Configuration-Driven Architecture Integration > Full System Integration > should support cluster health mo
nitoring [0.30ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-st8hCE/integration-config.json
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integrati
on-test-st8hCE/integration-config.json
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-st8hCE/integration-config.json
Hot reload disabled
✓ Configuration-Driven Architecture Integration > Full System Integration > should cleanup all components pr
operly [0.37ms]
✓ Configuration-Driven Architecture Integration > Error Handling and Edge Cases > should handle missing conf
iguration gracefully [0.07ms]
✓ Configuration-Driven Architecture Integration > Error Handling and Edge Cases > should handle invalid node
 operations [0.16ms]
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
✓ Configuration-Driven Architecture Integration > Error Handling and Edge Cases > should handle invalid tran
saction operations [0.19ms]

src/config/database/__test__/DatabaseInheritanceManager.test.ts:
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Initialization > should initialize with default configuration [0.21ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Initialization > should initialize with custom configuration [0.06ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should set and get database configuration
 [0.80ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should return null for non-existent datab
ase [0.02ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should get all database configurations [0
.05ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should validate database configuration [0
.03ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should add collection override [0.20ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should remove collection override [0.03ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should get all collection overrides for data
base [0.06ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should reject override for non-existent data
base [0.06ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should resolve database-level configuration [0.72m
s]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should resolve collection-level configuration with
 overrides [0.06ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should get specific configuration value [0.12ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should return undefined for non-existent config pa
th [0.26ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Inheritance Rules > should add custom inheritance rule [0.07ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Inheritance Rules > should remove inheritance rule [0.06ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Inheritance Rules > should apply inheritance rules during resolution [0.11ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Validation > should validate inheritance successfully [0.19ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Validation > should detect validation errors [0.02ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Statistics and Monitoring > should provide accurate statistics [0.13ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Statistics and Monitoring > should track cache usage [0.07ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Event System > should emit events for configuration changes [0.09ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Event System > should allow unsubscribing from events [0.09ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Import/Export > should export configurations [0.05ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Import/Export > should import configurations [0.24ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Import/Export > should merge configurations during import [0.11ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Bulk Operations > should bulk update database configurations [0.17ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Bulk Operations > should bulk update collection overrides [0.21ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Hierarchy > should provide configuration hierarchy for debuggin
g [0.09ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Cache Management > should clear resolution cache [0.04ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Cache Management > should refresh all configurations [0.09ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Starting DatabaseInheritanceManager
Component database-inheritance-manager started successfully
Stopping DatabaseInheritanceManager
Component database-inheritance-manager stopped successfully
✓ DatabaseInheritanceManager > Health Monitoring > should report healthy status with databases configured [0
.36ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Starting DatabaseInheritanceManager
Component database-inheritance-manager started successfully
Stopping DatabaseInheritanceManager
Component database-inheritance-manager stopped successfully
✓ DatabaseInheritanceManager > Health Monitoring > should report warning status with no databases [0.10ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed

src/config/features/__test__/FeatureToggleManager.test.ts:
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Cache cleared
Component feature-toggle-manager cleanup completed
✓ FeatureToggleManager > Initialization > should initialize with default configuration [0.24ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Initializing FeatureToggleManager
Cache cleared for feature test-feature
Feature test-feature configuration updated
FeatureToggleManager initialized with 1 features
Component feature-toggle-manager initialized successfully
Cache cleared
Component feature-toggle-manager cleanup completed
✓ FeatureToggleManager > Initialization > should load features from configuration [0.29ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Feature Management > should create and manage features [0.12ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Feature Management > should prevent duplicate feature creation [0.08ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Feature Management > should enable and disable features [0.53ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Feature Management > should toggle feature state [0.24ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature removed
✓ FeatureToggleManager > Feature Management > should remove features [0.22ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Cache cleared for feature feature3
Feature feature3 configuration updated
Feature feature3 created
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Cache cleared for feature feature3
Feature feature3 configuration updated
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Cache cleared for feature feature3
Feature feature3 configuration updated
✓ FeatureToggleManager > Feature Management > should handle bulk operations [0.33ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature percentage-feature
Feature percentage-feature configuration updated
Feature percentage-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate percentage rollout [0.53ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature group-feature
Feature group-feature configuration updated
Feature group-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate user groups [0.16ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature time-feature
Feature time-feature configuration updated
Feature time-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate time windows [0.13ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature env-feature
Feature env-feature configuration updated
Feature env-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate environment restrictions [0.06ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature dependency-feature
Feature dependency-feature configuration updated
Feature dependency-feature created
Cache cleared for feature dependent-feature
Feature dependent-feature configuration updated
Feature dependent-feature created
Cache cleared for feature dependency-feature
Feature dependency-feature configuration updated
Cache cleared for feature dependent-feature
✓ FeatureToggleManager > Feature Conditions > should evaluate feature dependencies [0.09ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Feature Evaluation > should provide detailed evaluation results [0.08ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
✓ FeatureToggleManager > Feature Evaluation > should handle non-existent features [0.02ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature enabled-feature
Feature enabled-feature configuration updated
Feature enabled-feature created
Cache cleared for feature disabled-feature
Feature disabled-feature configuration updated
Feature disabled-feature created
✓ FeatureToggleManager > Statistics > should track feature statistics [0.07ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Statistics > should track evaluation count [0.07ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Event System > should emit feature change events [0.11ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Event System > should allow unsubscribing from events [0.13ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Bulk updated 2 features
Imported 2 features (merge: true)
Cache cleared
Component feature-toggle-manager cleanup completed
✓ FeatureToggleManager > Configuration Management > should export and import configuration [0.73ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Cache cleared for feature feature3
Feature feature3 configuration updated
Bulk updated 3 features
✓ FeatureToggleManager > Configuration Management > should handle bulk updates [0.09ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Health Monitoring > should report healthy status with features [0.09ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
✓ FeatureToggleManager > Health Monitoring > should report warning status with no features [0.03ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Cache Management > should cache evaluation results [0.02ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Cache cleared for feature feature1
✓ FeatureToggleManager > Cache Management > should clear cache for specific features
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Cache cleared
✓ FeatureToggleManager > Cache Management > should clear all cache [0.06ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Updating FeatureToggleManager configuration
Cache cleared for feature initial-feature
Feature initial-feature configuration updated
FeatureToggleManager configuration updated successfully
Component feature-toggle-manager configuration updated successfully
Updating FeatureToggleManager configuration
Cache cleared for feature initial-feature
Feature initial-feature configuration updated
Cache cleared for feature new-feature
Feature new-feature configuration updated
Cache cleared
FeatureToggleManager configuration updated successfully
Component feature-toggle-manager configuration updated successfully
✓ FeatureToggleManager > Configuration Updates > should handle configuration updates [0.26ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed

src/config/conflicts/__test__/ConflictResolutionManager.test.ts:
Component ConflictResolutionManager initialized successfully
Component ConflictResolutionManager initialized successfully
Component ConflictResolutionManager is not running, skipping stop
✓ ConflictResolutionManager > Lifecycle Management > should initialize with default configuration [0.26ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
Component ConflictResolutionManager started successfully
Component ConflictResolutionManager stopped successfully
✓ ConflictResolutionManager > Lifecycle Management > should start and stop successfully [0.34ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Lifecycle Management > should report healthy status with no conflicts [0.23ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Lifecycle Management > should update configuration [0.08ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should detect value conflicts between configurations [0.3
9ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should detect type conflicts between configurations [0.11
ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should detect conflicts in specific path [0.17ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should validate configuration against existing conflicts 
[0.08ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should scan for existing conflicts [0.07ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get conflict by ID [0.01ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get all conflicts [0.01ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get conflicts by type [0.03ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get conflicts by severity [0.03ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should remove specific conflict [0.03ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should clear all conflicts [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should add resolution rule [0.11ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should update resolution rule [0.09ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should remove resolution rule [0.06ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should get all resolution rules [0.03ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should enable and disable resolution rules [0.09
ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should validate resolution rule [0.08ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve conflict with merge strategy [1.69ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve conflict with override strategy [1.30ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve multiple conflicts [4.62ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve all conflicts [3.76ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should auto-resolve conflicts [1.45ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should merge configurations deeply [0.41ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should merge configurations shallowly [0.10ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should select configuration by priority [0.09ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should prompt user for resolution [0.08ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Statistics and Monitoring > should track statistics [1.29ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Statistics and Monitoring > should reset statistics [0.15ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Statistics and Monitoring > should export statistics [0.10ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Event System > should emit conflict detected event [0.08ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Event System > should emit conflict resolved event [1.21ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Utility Methods > should compare configurations [0.09ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Utility Methods > should generate conflict report [0.20ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Utility Methods > should simulate resolution [0.12ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Bulk Operations > should add multiple resolution rules [0.12ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Bulk Operations > should update multiple resolution rules [0.19ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Bulk Operations > should remove multiple resolution rules [0.13ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should export configuration [0.13ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should import configuration [0.06ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should export conflict history [0.11ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should import conflict history [0.04ms]
Component ConflictResolutionManager is not running, skipping stop

src/config/adapters/__test__/AdapterFactoryManager.test.ts:
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Initialization > should initialize successfully with valid configuration [22.18ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Built-in adapter types would be registered here
Failed to create adapter 'adapter1': Failed to create adapter 'adapter1': Adapter type 'mock' is not registe
red
✓ AdapterFactoryManager > Initialization > should fail initialization with unregistered adapter type [0.26ms
]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Built-in adapter types would be registered here
AdapterFactoryManager initialized with 0 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Initialization > should handle empty adapter configuration [0.08ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
✓ AdapterFactoryManager > Adapter Type Registration > should register adapter types successfully [0.02ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
✓ AdapterFactoryManager > Adapter Type Registration > should prevent duplicate adapter type registration [0.
04ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Adapter type 'mock' unregistered successfully
✓ AdapterFactoryManager > Adapter Type Registration > should unregister adapter types when no instances exis
t [0.06ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Adapter Type Registration > should prevent unregistering adapter types with active
 instances [21.59ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Adapter Lifecycle > should start all adapters successfully [21.83ms]
All adapters stopped in 21ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 1ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 10ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
All adapters stopped in 21ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
✓ AdapterFactoryManager > Adapter Lifecycle > should stop all adapters successfully [43.52ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Adapter Lifecycle > should start adapters in priority order [22.47ms]
All adapters stopped in 21ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 10ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter3' of type 'mock' created successfully in 11ms
✓ AdapterFactoryManager > Adapter Management > should create new adapters [10.52ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Adapter Management > should get adapters by type [0.14ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 21ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
Adapter 'adapter1' restarted successfully
✓ AdapterFactoryManager > Adapter Management > should restart specific adapters [42.64ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter1' removed successfully
✓ AdapterFactoryManager > Adapter Management > should remove adapters [5.96ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter1' configuration updated successfully
✓ AdapterFactoryManager > Adapter Management > should update adapter configuration [5.68ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Health Monitoring > should get health status of specific adapter [0.29ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Health Monitoring > should get health status of all adapters [0.28ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Health Monitoring > should report overall factory health [0.34ms]
All adapters stopped in 21ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'failing' registered successfully
Built-in adapter types would be registered here
Adapter 'failing-adapter' of type 'failing' created successfully in 10ms
AdapterFactoryManager initialized with 1 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Error Handling > should handle adapter start failures [11.06ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
✓ AdapterFactoryManager > Error Handling > should handle missing adapter operations gracefully [0.23ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Statistics > should track factory statistics [0.20ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 10ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter3' of type 'mock' created successfully in 11ms
Adapter 'adapter3' removed successfully
✓ AdapterFactoryManager > Statistics > should update statistics after operations [16.57ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter3' of type 'mock' created successfully in 11ms
AdapterFactoryManager configuration updated
Component test-factory configuration updated successfully
✓ AdapterFactoryManager > Configuration Updates > should update factory configuration [22.66ms]
All adapters stopped in 1ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed

src/config/browser/__test__/BrowserFallbackManager.test.ts:
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Initialization and Lifecycle > should initialize successfully [0.06ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Starting BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager started
Component browser-fallback-test started successfully
Stopping BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager stopped
Component browser-fallback-test stopped successfully
✓ BrowserFallbackManager > Initialization and Lifecycle > should start and stop successfully [0.68ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Starting BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager started
Component browser-fallback-test started successfully
✓ BrowserFallbackManager > Initialization and Lifecycle > should get health status [0.45ms]
Stopping BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager stopped
Component browser-fallback-test stopped successfully
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Configuration Management > should get default configuration [0.02ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Configuration Management > should update configuration [0.10ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Quota Monitoring > should check quota status for all storage types [0.07ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Quota Monitoring > should get quota status for specific storage type [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Quota Monitoring > should start and stop quota monitoring [0.04ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should add fallback rule [0.07ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should update fallback rule [0.08ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should remove fallback rule [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should enable and disable fallback rules [0.11ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should get all fallback rules [0.02ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should validate fallback rules [0.04ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should trigger manual fallback [0.36ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should execute fallback rule [0.17ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should get active and historical executions [0.09ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should handle execution errors gracefully [0.06ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute memory-only fallback [0.10ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute reduced cache fallback [0.12ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute external storage fallback [0.04ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute compression fallback [0.03ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute selective cleanup fallback [0.02ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute graceful degradation fallback [0.09ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Statistics and Monitoring > should track statistics [0.09ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Statistics and Monitoring > should reset statistics [0.23ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Statistics and Monitoring > should export statistics [0.09ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Event System > should emit and handle events [0.24ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Event System > should remove event handlers [0.03ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Utility Methods > should estimate quota usage [0.38ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Utility Methods > should simulate fallback strategies [0.06ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Bulk Operations > should add multiple fallback rules [0.06ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Bulk Operations > should update multiple fallback rules [0.15ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Bulk Operations > should remove multiple fallback rules [0.11ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Initializing BrowserFallbackManager: browser-fallback-import-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-import-test initialized successfully
✓ BrowserFallbackManager > Import/Export > should export and import configuration [0.27ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Initializing BrowserFallbackManager: browser-fallback-history-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-history-test initialized successfully
✓ BrowserFallbackManager > Import/Export > should export and import fallback history [0.43ms]

src/config/registry/__test__/ComponentRegistry.test.ts:
Component 'test-1' registered successfully in 0ms
✓ ComponentRegistry > Component Registration > should register a component successfully [0.38ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
✓ ComponentRegistry > Component Registration > should throw error when registering duplicate component [0.08
ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-1' unregistered successfully in 0ms
✓ ComponentRegistry > Component Registration > should unregister a component successfully [0.20ms]
Cleaning up registry...
✓ ComponentRegistry > Component Registration > should throw error when unregistering non-existent component 
[0.04ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 22ms
✓ ComponentRegistry > Component Lifecycle > should initialize all components [22.53ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 21ms
Component test-1 started successfully
Component test-2 started successfully
All components started successfully in 23ms
✓ ComponentRegistry > Component Lifecycle > should start all components after initialization [43.99ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 21ms
Component test-1 started successfully
Component test-2 started successfully
All components started successfully in 21ms
Component test-2 stopped successfully
Component test-1 stopped successfully
All components stopped in 21ms
✓ ComponentRegistry > Component Lifecycle > should stop all components [63.51ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
✓ ComponentRegistry > Component Queries > should get components by type [0.27ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
✓ ComponentRegistry > Component Queries > should get all components [0.10ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
✓ ComponentRegistry > Component Queries > should get registry statistics [0.09ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 21ms
Component test-1 started successfully
Component test-2 started successfully
All components started successfully in 22ms
✓ ComponentRegistry > Health Monitoring > should get health status of all components [43.22ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component test-1 initialized successfully
All components initialized successfully in 11ms
Component test-1 started successfully
All components started successfully in 11ms
✓ ComponentRegistry > Health Monitoring > should get health status of specific component [22.55ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 22ms
Component test-1 configuration updated successfully
Component test-2 configuration updated successfully
✓ ComponentRegistry > Configuration Updates > should update configuration for all components [33.25ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component test-1 initialized successfully
All components initialized successfully in 11ms
Component test-1 configuration updated successfully
✓ ComponentRegistry > Configuration Updates > should update configuration for specific component [16.71ms]
Cleaning up registry...
Component 'failing-1' registered successfully in 0ms
✓ ComponentRegistry > Error Handling > should handle component initialization failure [0.61ms]
Cleaning up registry...
Component 'failing-1' registered successfully in 0ms
Component failing-1 initialized successfully
All components initialized successfully in 10ms
✓ ComponentRegistry > Error Handling > should handle component startup failure [10.87ms]
Cleaning up registry...

src/config/collections/__test__/ReadOnlyCollectionManager.test.ts:
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Component readonly-collection-manager cleanup completed
✓ ReadOnlyCollectionManager > Initialization > should initialize with default configuration [0.14ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 1 read-only collections
Component readonly-collection-manager initialized successfully
Component readonly-collection-manager cleanup completed
✓ ReadOnlyCollectionManager > Initialization > should load read-only collections from configuration [0.15ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should mark collection as read-only [0.13ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
Collection test-collection marked as writable
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should mark collection as writable [0.10ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should get all read-only collections [0.09ms
]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with WARNING protection
Protection level for test-collection updated to STRICT
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should update protection level [0.10ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should throw error when updating non-existen
t collection [0.26ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should allow operations on non-read-only collecti
ons [0.10ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should block operations on strict read-only colle
ctions [0.10ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should allow with warning on warning-level collec
tions [0.04ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should allow operations on disabled protection co
llections [0.03ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
Collection custom-collection marked as read-only with CUSTOM protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should handle custom protection level with allowe
d operations [0.12ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
Collection custom-collection marked as read-only with CUSTOM protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should handle custom protection level with blocke
d operations [0.06ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should have default detection rules [0.05ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'custom-test-rule' added
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should add custom detection rule [0.07ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'removable-rule' added
Detection rule 'removable-rule' removed
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should remove detection rule [0.06ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should test default detection rules [0.07ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Event System > should emit write operation events [0.10ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Event System > should allow unsubscribing from events [0.11ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with WARNING protection
Collection collection2 marked as read-only with STRICT protection
Bulk updated 2 read-only collection configurations
✓ ReadOnlyCollectionManager > Bulk Operations > should handle bulk configuration updates [0.17ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Imported 2 read-only collection configurations (merge: true)
Component readonly-collection-manager cleanup completed
✓ ReadOnlyCollectionManager > Bulk Operations > should export and import configurations [0.32ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
Cleared 2 read-only collection configurations
✓ ReadOnlyCollectionManager > Bulk Operations > should clear all configurations [0.09ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
Collection collection3 marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Statistics > should track collection statistics [0.07ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Statistics > should track blocked operations [0.06ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with WARNING protection
✓ ReadOnlyCollectionManager > Statistics > should track warning operations [0.07ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Health Monitoring > should report healthy status with normal operations [0.12m
s]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Health Monitoring > should report warning status with high blocked operations 
[0.13ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
ReadOnlyCollectionManager configuration updated successfully
Component readonly-collection-manager configuration updated successfully
Collection test-collection marked as read-only with WARNING protection
✓ ReadOnlyCollectionManager > Configuration Updates > should handle configuration updates [0.20ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed

4 tests failed:
✗ ConfigurationManager > loadFromFile > should load and validate a correct YAML configuration file [7.85ms]
✗ ConfigurationManager > loadFromFile > should load and validate a correct JSON configuration file [1.01ms]
✗ ConfigurationManager > getConfig > should return the loaded configuration [1.96ms]
✗ ConfigurationManager Hot Reload > Configuration Change Detection > should remove specific callbacks [302.9
6ms]

 250 pass
 4 fail
 719 expect() calls
Ran 254 tests across 13 files. [4.52s]
➜  collection-store git:(master) ✗
```

---



---

Тесты все еще показывают 4 сбоя, но сообщения об ошибках становятся более конкретными.

Давайте разберем оставшиеся ошибки:

1.  `ConfigurationManager > loadFromFile > should load and validate a correct YAML configuration file [7.85ms]`
    `error: Configuration validation failed: Validation error: Required at "features.replication"; Required at "features.realtime"; Required at "features.offline"; Required at "features.analytics"`

2.  `ConfigurationManager > loadFromFile > should load and validate a correct JSON configuration file [1.01ms]`
    `error: Configuration validation failed: Validation error: Required at "adapters.test-adapter.type"`

3.  `ConfigurationManager > getConfig > should return the loaded configuration [1.96ms]`
    `error: Configuration validation failed: Validation error: Required at "features.replication"; Required at "features.realtime"; Required at "features.offline"; Required at "features.analytics"`

4.  `ConfigurationManager Hot Reload > Configuration Change Detection > should remove specific callbacks [302.96ms]`
    Это, по-видимому, сбой теста горячей перезагрузки, который может быть побочным эффектом проблем с проверкой конфигурации или отдельной проблемой с самим тестом. В нем говорится: `expect(callback1Called).toBe(false); expect(callback2Called).toBe(true);`, но `Received: false` для `callback1Called`. Это указывает на то, что `callback1Called` был `true`, хотя должен был быть `false`. Это, вероятно, означает, что обратный вызов не был удален, как ожидалось.

Сначала разберемся с ошибками проверки конфигурации. Похоже, что, хотя я добавил поля `features`, проверка по-прежнему ожидает их для YAML-файла. Я также пропустил `adapters.test-adapter.type` для JSON-файла.

Я снова изучу `ConfigurationManager.test.ts`, чтобы более точно понять ожидания полной схемы для `valid.yml` и `valid.json`. В частности, я поищу, как используются эти тестовые файлы и какие свойства ожидаются.

---

Read file: src/config/__test__/ConfigurationManager.test.ts

---



Итак, из `ConfigurationManager.test.ts` я вижу:

*   **`valid.yml` ожидания:**
    *   `config.core.name` должен быть `'test-store'`
    *   `config.core.environment` должен быть `'development'`
    *   `config.adapters.file.enabled` должен быть `true` (это означает, что ожидается адаптер с именем `file`, а не `test-adapter`, который я использовал ранее).

*   **`valid.json` ожидания:**
    *   `config.core.name` должен быть `'test-store-json'`
    *   `config.core.environment` должен быть `'production'`

Также, из предыдущих ошибок валидации, мне все еще нужно убедиться, что следующие поля присутствуют в YAML и JSON файлах:

*   `features.replication`
*   `features.realtime`
*   `features.offline`
*   `features.analytics`

И для JSON файла:

*   `adapters.test-adapter.type` (мой предыдущий `edit_file` заменил `test-adapter-json` на `test-adapter`, и удалил поле `type`. Мне нужно убедиться, что `type` присутствует, и что имя адаптера соответствует ожиданиям тестов.

Я исправлю `valid.yml` и `valid.json` в соответствии с этими ожиданиями.

Начну с `valid.yml`, исправлю `adapters.test-adapter` на `adapters.file` и добавлю поле `type` и убедившись, что все ожидаемые поля `features` присутствуют и имеют правильную структуру.

---

```diff
    environment: "development"
  core:
-   name: "CoreName"
-   version: "CoreVersion"
-   environment: "production"
+   name: "test-store"
+   environment: "development"
+   instanceId: "test-instance"
+   nodeId: "test-node"
+   shardId: "test-shard"
+   logLevel: "info"
+   telemetry:
+     enabled: true
+     endpoint: "http://localhost:9000/telemetry"
+     interval: 5000
+   diagnostics:
+     enabled: true
+     endpoint: "http://localhost:9000/diagnostics"
+   metadata:
+     version: "1.0.0"
+     createdAt: "2024-01-01T00:00:00Z"
+     updatedAt: "2024-01-01T00:00:00Z"
  adapters:
-   test-adapter:
-     type: "mock"
+   file:
      enabled: true
      priority: 1
      role: "primary"
+     type: "mock"
  features:
-   test-feature:
-     enabled: true
    replication:
      enabled: true
```

---



---

Хорошо, я только что обновил `valid.yml`. Теперь я обновлю `valid.json` в соответствии с ожиданиями тестов, убедившись, что `core.name` и `core.environment` установлены правильно, а также включу отсутствующие поля `type` для адаптера и все поля в блоке `features`.

---

```diff
    },
    "core": {
-     "name": "CoreNameJson",
-     "version": "CoreVersionJson",
-     "environment": "production"
+     "name": "test-store-json",
+     "environment": "production",
+     "instanceId": "test-instance-json",
+     "nodeId": "test-node-json",
+     "shardId": "test-shard-json",
+     "logLevel": "debug",
+     "telemetry": {
+       "enabled": false,
+       "endpoint": "http://localhost:9001/telemetry"
+     },
+     "diagnostics": {
+       "enabled": false,
+       "endpoint": "http://localhost:9001/diagnostics"
+     },
+     "metadata": {
+       "version": "1.0.0",
+       "createdAt": "2024-01-01T00:00:00Z",
+       "updatedAt": "2024-01-01T00:00:00Z"
+     }
    },
    "adapters": {
      "test-adapter": {
        "enabled": true,
        "priority": 1,
-       "role": "backup"
+       "role": "backup",
+       "type": "mock"
      }
    },
```

---



---

Хорошо, я обновил оба файла. Теперь снова запущу тесты, чтобы убедиться, что все ошибки проверки устранены.

---

```bash
bun test src/config
```

```
➜  collection-store git:(master) ✗ bun test src/config
bun test v1.2.16 (631e6748)

src/config/__test__/QuotaManager.test.ts:
✓ QuotaManager > getQuotas > should return the quota config if it exists [2.08ms]
✓ QuotaManager > getQuotas > should return null if no quota config exists [0.23ms]
✓ QuotaManager > isStorageExceeded > should return false if usage is below the quota [1.07ms]
✓ QuotaManager > isStorageExceeded > should return true if usage is above the quota [0.03ms]
✓ QuotaManager > isStorageExceeded > should return false if no storage quota is set
✓ QuotaManager > isStorageExceeded > should correctly parse different byte units [0.07ms]
✓ QuotaManager > isStorageExceeded > should throw an error for invalid byte strings [0.66ms]

src/config/__test__/ConfigurationManager.test.ts:
48 | 
49 |     const validationResult = CollectionStoreConfigSchema.safeParse(parsedConfig);
50 | 
51 |     if (!validationResult.success) {
52 |       const validationError = fromZodError(validationResult.error);
53 |       throw new Error(`Configuration validation failed: ${validationError.message}`);
                                                                                        ^
error: Configuration validation failed: Validation error: Required at "core.version"
      at loadFromFile (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/Configurat
ionManager.ts:53:84)
      at <anonymous> (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/__test__/Co
nfigurationManager.test.ts:21:43)
✗ ConfigurationManager > loadFromFile > should load and validate a correct YAML configuration file [7.66ms]
48 | 
49 |     const validationResult = CollectionStoreConfigSchema.safeParse(parsedConfig);
50 | 
51 |     if (!validationResult.success) {
52 |       const validationError = fromZodError(validationResult.error);
53 |       throw new Error(`Configuration validation failed: ${validationError.message}`);
                                                                                        ^
error: Configuration validation failed: Validation error: Required at "core.version"
      at loadFromFile (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/Configurat
ionManager.ts:53:84)
      at <anonymous> (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/__test__/Co
nfigurationManager.test.ts:29:43)
✗ ConfigurationManager > loadFromFile > should load and validate a correct JSON configuration file [1.08ms]
✓ ConfigurationManager > loadFromFile > should throw an error if the file does not exist [0.20ms]
✓ ConfigurationManager > loadFromFile > should throw an error for a file with invalid syntax [1.29ms]
✓ ConfigurationManager > loadFromFile > should throw a validation error for a file with invalid structure [0
.08ms]
✓ ConfigurationManager > loadFromFile > should throw an error for unsupported file formats [1.80ms]
48 | 
49 |     const validationResult = CollectionStoreConfigSchema.safeParse(parsedConfig);
50 | 
51 |     if (!validationResult.success) {
52 |       const validationError = fromZodError(validationResult.error);
53 |       throw new Error(`Configuration validation failed: ${validationError.message}`);
                                                                                        ^
error: Configuration validation failed: Validation error: Required at "core.version"
      at loadFromFile (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/Configurat
ionManager.ts:53:84)
      at <anonymous> (/Users/vedmalex/work/collection-store/packages/collection-store/src/config/__test__/Co
nfigurationManager.test.ts:67:28)
✗ ConfigurationManager > getConfig > should return the loaded configuration [0.95ms]
✓ ConfigurationManager > getConfig > should throw an error if getConfig is called before loadFromFile [0.19m
s]

src/config/__test__/ConfigurationManager.hotreload.test.ts:
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-KYAfaH/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-KYAf
aH/test-config.yaml
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should load configuration with hot relo
ad enabled [2.03ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-KYAfaH/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should load configuration without hot r
eload by default [0.26ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-r6lPnj/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-r6lP
nj/test-config.yaml
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should enable hot reload after loading 
[0.07ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-r6lPnj/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-Nv3sRI/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-Nv3s
RI/test-config.yaml
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-Nv3sRI/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should disable hot reload [0.42ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-HDzdBz/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-HDzd
Bz/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-HDzdBz/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Configuration Change Detection > should detect file changes and reload c
onfiguration [303.80ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-HDzdBz/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-r9Wwf0/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-r9Ww
f0/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-r9Wwf0/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Configuration Change Detection > should handle multiple change callbacks
 [316.08ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-r9Wwf0/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-N7UMKU/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-N7UM
KU/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-N7UMKU/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Configuration Change Detection > should remove specific callbacks [309.1
4ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-N7UMKU/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Manual Reload > should manually reload configuration [0.61ms]
✓ ConfigurationManager Hot Reload > Manual Reload > should trigger callbacks on manual reload [0.45ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-z2l1ve/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-z2l1
ve/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-z2l1ve/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Error Handling > should handle invalid configuration during hot reload [
302.87ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-z2l1ve/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Error Handling > should throw error when enabling hot reload without loa
ded config [0.27ms]
✓ ConfigurationManager Hot Reload > Error Handling > should throw error when manually reloading without load
ed config [0.05ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-t2ABU2/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-t2AB
U2/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-t2ABU2/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Environment Configuration Integration > should handle environment-specif
ic configuration changes [303.01ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-t2ABU2/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-K1bZJo/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-K1bZ
Jo/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-K1bZJo/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > IndexManager Integration > should handle IndexManager configuration chan
ges [303.01ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-K1bZJo/tes
t-config.yaml
Hot reload disabled

src/config/__test__/NodeRoleManager.test.ts:
✓ NodeRoleManager > should return the correct role for a configured node [0.25ms]
✓ NodeRoleManager > should throw an error if the node ID does not match the one in the config [0.04ms]
✓ NodeRoleManager > should throw an error if no configuration is loaded [0.03ms]

src/config/__test__/ConfigWatcher.test.ts:
Started watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Configuration file changed: /Users/vedmalex/work/collection-store/packages/collection-store/src/config/__tes
t__/temp/test-config.yml. Reloading...
✓ ConfigWatcher > should call the callback with the new config when the file changes [101.99ms]
Stopped watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Started watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Stopped watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
✓ ConfigWatcher > should stop watching a file with unwatch() [302.26ms]
Started watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Configuration file changed: /Users/vedmalex/work/collection-store/packages/collection-store/src/config/__tes
t__/temp/test-config.yml. Reloading...
✓ ConfigWatcher > should handle errors gracefully if the updated file is invalid [202.80ms]
Stopped watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml

src/config/__test__/ConfigurationIntegration.test.ts:
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-Tbl4HZ/integration-config.json
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integrati
on-test-Tbl4HZ/integration-config.json
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
✓ Configuration-Driven Architecture Integration > Full System Integration > should initialize complete confi
guration-driven architecture [1.75ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-Tbl4HZ/integration-config.json
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-ReVhhP/integration-config.json
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integrati
on-test-ReVhhP/integration-config.json
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-test-ReVhhP/
integration-config.json. Reloading...
Configuration change detected, updating role from PRIMARY to SECONDARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database configuration updated from config change
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database configuration updated from config change
✓ Configuration-Driven Architecture Integration > Full System Integration > should handle configuration chan
ges across all components [402.76ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-ReVhhP/integration-config.json
Hot reload disabled
Node initialized: test-node-integration as PRIMARY
Node demoted from PRIMARY to SECONDARY
Invalid role transition from SECONDARY to BROWSER
Node promoted from SECONDARY to PRIMARY
✓ Configuration-Driven Architecture Integration > Full System Integration > should support node role transit
ions with capability updates [0.62ms]
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Cross-database transaction started: tx-mbvn8765-6yk9wc
Transaction prepared: tx-mbvn8765-6yk9wc
Transaction committed: tx-mbvn8765-6yk9wc
✓ Configuration-Driven Architecture Integration > Full System Integration > should manage cross-database tra
nsactions with 2PC [1.70ms]
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Cross-database transaction started: tx-mbvn8767-wgzzz0
Transaction aborted: tx-mbvn8767-wgzzz0
✓ Configuration-Driven Architecture Integration > Full System Integration > should handle transaction failur
es and rollback [0.64ms]
✓ Configuration-Driven Architecture Integration > Full System Integration > should validate environment-spec
ific configurations [0.19ms]
Node initialized: test-node-integration as PRIMARY
Node registered: secondary-node-1 as SECONDARY
Node registered: client-node-1 as CLIENT
✓ Configuration-Driven Architecture Integration > Full System Integration > should support cluster health mo
nitoring [0.34ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-AaEsCl/integration-config.json
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integrati
on-test-AaEsCl/integration-config.json
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-AaEsCl/integration-config.json
Hot reload disabled
✓ Configuration-Driven Architecture Integration > Full System Integration > should cleanup all components pr
operly [0.52ms]
✓ Configuration-Driven Architecture Integration > Error Handling and Edge Cases > should handle missing conf
iguration gracefully [0.10ms]
✓ Configuration-Driven Architecture Integration > Error Handling and Edge Cases > should handle invalid node
 operations [0.30ms]
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
✓ Configuration-Driven Architecture Integration > Error Handling and Edge Cases > should handle invalid tran
saction operations [0.26ms]

src/config/database/__test__/DatabaseInheritanceManager.test.ts:
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Initialization > should initialize with default configuration [0.18ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Initialization > should initialize with custom configuration [0.05ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should set and get database configuration
 [0.71ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should return null for non-existent datab
ase [0.01ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should get all database configurations [0
.08ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should validate database configuration [0
.10ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should add collection override [0.14ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should remove collection override [0.08ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should get all collection overrides for data
base [0.06ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should reject override for non-existent data
base [0.02ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should resolve database-level configuration [0.40m
s]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should resolve collection-level configuration with
 overrides [0.11ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should get specific configuration value [0.13ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should return undefined for non-existent config pa
th [0.03ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Inheritance Rules > should add custom inheritance rule
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Inheritance Rules > should remove inheritance rule [0.07ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Inheritance Rules > should apply inheritance rules during resolution [0.08ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Validation > should validate inheritance successfully [0.12ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Validation > should detect validation errors [0.06ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Statistics and Monitoring > should provide accurate statistics [0.09ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Statistics and Monitoring > should track cache usage [0.04ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Event System > should emit events for configuration changes [0.04ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Event System > should allow unsubscribing from events [0.03ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Import/Export > should export configurations [0.01ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Import/Export > should import configurations [0.24ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Import/Export > should merge configurations during import [0.09ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Bulk Operations > should bulk update database configurations [0.05ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Bulk Operations > should bulk update collection overrides [0.44ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Hierarchy > should provide configuration hierarchy for debuggin
g [0.04ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Cache Management > should clear resolution cache [0.05ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Cache Management > should refresh all configurations [0.48ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Starting DatabaseInheritanceManager
Component database-inheritance-manager started successfully
Stopping DatabaseInheritanceManager
Component database-inheritance-manager stopped successfully
✓ DatabaseInheritanceManager > Health Monitoring > should report healthy status with databases configured [0
.90ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Starting DatabaseInheritanceManager
Component database-inheritance-manager started successfully
Stopping DatabaseInheritanceManager
Component database-inheritance-manager stopped successfully
✓ DatabaseInheritanceManager > Health Monitoring > should report warning status with no databases [0.07ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed

src/config/features/__test__/FeatureToggleManager.test.ts:
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Cache cleared
Component feature-toggle-manager cleanup completed
✓ FeatureToggleManager > Initialization > should initialize with default configuration [0.26ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Initializing FeatureToggleManager
Cache cleared for feature test-feature
Feature test-feature configuration updated
FeatureToggleManager initialized with 1 features
Component feature-toggle-manager initialized successfully
Cache cleared
Component feature-toggle-manager cleanup completed
✓ FeatureToggleManager > Initialization > should load features from configuration [0.35ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Feature Management > should create and manage features [0.12ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Feature Management > should prevent duplicate feature creation [0.05ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Feature Management > should enable and disable features [0.20ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Feature Management > should toggle feature state [0.09ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature removed
✓ FeatureToggleManager > Feature Management > should remove features [0.09ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Cache cleared for feature feature3
Feature feature3 configuration updated
Feature feature3 created
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Cache cleared for feature feature3
Feature feature3 configuration updated
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Cache cleared for feature feature3
Feature feature3 configuration updated
✓ FeatureToggleManager > Feature Management > should handle bulk operations [0.26ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature percentage-feature
Feature percentage-feature configuration updated
Feature percentage-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate percentage rollout [0.40ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature group-feature
Feature group-feature configuration updated
Feature group-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate user groups [0.11ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature time-feature
Feature time-feature configuration updated
Feature time-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate time windows [0.11ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature env-feature
Feature env-feature configuration updated
Feature env-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate environment restrictions [0.06ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature dependency-feature
Feature dependency-feature configuration updated
Feature dependency-feature created
Cache cleared for feature dependent-feature
Feature dependent-feature configuration updated
Feature dependent-feature created
Cache cleared for feature dependency-feature
Feature dependency-feature configuration updated
Cache cleared for feature dependent-feature
✓ FeatureToggleManager > Feature Conditions > should evaluate feature dependencies [0.08ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Feature Evaluation > should provide detailed evaluation results [0.06ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
✓ FeatureToggleManager > Feature Evaluation > should handle non-existent features [0.02ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature enabled-feature
Feature enabled-feature configuration updated
Feature enabled-feature created
Cache cleared for feature disabled-feature
Feature disabled-feature configuration updated
Feature disabled-feature created
✓ FeatureToggleManager > Statistics > should track feature statistics [0.05ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Statistics > should track evaluation count [0.06ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Event System > should emit feature change events [0.11ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Event System > should allow unsubscribing from events [0.09ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Bulk updated 2 features
Imported 2 features (merge: true)
Cache cleared
Component feature-toggle-manager cleanup completed
✓ FeatureToggleManager > Configuration Management > should export and import configuration [0.54ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Cache cleared for feature feature3
Feature feature3 configuration updated
Bulk updated 3 features
✓ FeatureToggleManager > Configuration Management > should handle bulk updates [0.08ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Health Monitoring > should report healthy status with features [0.09ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
✓ FeatureToggleManager > Health Monitoring > should report warning status with no features [0.03ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Cache Management > should cache evaluation results [0.05ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Cache cleared for feature feature1
✓ FeatureToggleManager > Cache Management > should clear cache for specific features [0.05ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Cache cleared
✓ FeatureToggleManager > Cache Management > should clear all cache [0.05ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Updating FeatureToggleManager configuration
Cache cleared for feature initial-feature
Feature initial-feature configuration updated
FeatureToggleManager configuration updated successfully
Component feature-toggle-manager configuration updated successfully
Updating FeatureToggleManager configuration
Cache cleared for feature initial-feature
Feature initial-feature configuration updated
Cache cleared for feature new-feature
Feature new-feature configuration updated
Cache cleared
FeatureToggleManager configuration updated successfully
Component feature-toggle-manager configuration updated successfully
✓ FeatureToggleManager > Configuration Updates > should handle configuration updates [0.22ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed

src/config/conflicts/__test__/ConflictResolutionManager.test.ts:
Component ConflictResolutionManager initialized successfully
Component ConflictResolutionManager initialized successfully
Component ConflictResolutionManager is not running, skipping stop
✓ ConflictResolutionManager > Lifecycle Management > should initialize with default configuration [0.63ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
Component ConflictResolutionManager started successfully
Component ConflictResolutionManager stopped successfully
✓ ConflictResolutionManager > Lifecycle Management > should start and stop successfully [0.11ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Lifecycle Management > should report healthy status with no conflicts [0.03ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Lifecycle Management > should update configuration [0.08ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should detect value conflicts between configurations [0.3
5ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should detect type conflicts between configurations [0.11
ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should detect conflicts in specific path [0.18ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should validate configuration against existing conflicts 
[0.06ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should scan for existing conflicts [0.07ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get conflict by ID [0.02ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get all conflicts [0.02ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get conflicts by type [0.04ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get conflicts by severity [0.02ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should remove specific conflict [0.04ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should clear all conflicts [0.04ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should add resolution rule [0.06ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should update resolution rule [0.09ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should remove resolution rule [0.06ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should get all resolution rules [0.02ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should enable and disable resolution rules [0.07
ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should validate resolution rule [0.08ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve conflict with merge strategy [1.55ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve conflict with override strategy [1.29ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve multiple conflicts [4.39ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve all conflicts [3.70ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should auto-resolve conflicts [1.34ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should merge configurations deeply [0.36ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should merge configurations shallowly [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should select configuration by priority [0.08ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should prompt user for resolution [0.13ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Statistics and Monitoring > should track statistics [1.35ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Statistics and Monitoring > should reset statistics [0.32ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Statistics and Monitoring > should export statistics [0.09ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Event System > should emit conflict detected event [0.07ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Event System > should emit conflict resolved event [1.25ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Utility Methods > should compare configurations [0.08ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Utility Methods > should generate conflict report [0.22ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Utility Methods > should simulate resolution [0.13ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Bulk Operations > should add multiple resolution rules [0.08ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Bulk Operations > should update multiple resolution rules [0.14ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Bulk Operations > should remove multiple resolution rules [0.06ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should export configuration [0.11ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should import configuration [0.19ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should export conflict history [0.06ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should import conflict history [0.16ms]
Component ConflictResolutionManager is not running, skipping stop

src/config/adapters/__test__/AdapterFactoryManager.test.ts:
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Initialization > should initialize successfully with valid configuration [22.18ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Built-in adapter types would be registered here
Failed to create adapter 'adapter1': Failed to create adapter 'adapter1': Adapter type 'mock' is not registe
red
✓ AdapterFactoryManager > Initialization > should fail initialization with unregistered adapter type [0.28ms
]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Built-in adapter types would be registered here
AdapterFactoryManager initialized with 0 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Initialization > should handle empty adapter configuration [0.05ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
✓ AdapterFactoryManager > Adapter Type Registration > should register adapter types successfully [0.06ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
✓ AdapterFactoryManager > Adapter Type Registration > should prevent duplicate adapter type registration [0.
02ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Adapter type 'mock' unregistered successfully
✓ AdapterFactoryManager > Adapter Type Registration > should unregister adapter types when no instances exis
t [0.07ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 10ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Adapter Type Registration > should prevent unregistering adapter types with active
 instances [22.32ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Adapter Lifecycle > should start all adapters successfully [22.49ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
✓ AdapterFactoryManager > Adapter Lifecycle > should stop all adapters successfully [43.59ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Adapter Lifecycle > should start adapters in priority order [22.44ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter3' of type 'mock' created successfully in 13ms
✓ AdapterFactoryManager > Adapter Management > should create new adapters [13.27ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 10ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Adapter Management > should get adapters by type [0.23ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 10ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
Adapter 'adapter1' restarted successfully
✓ AdapterFactoryManager > Adapter Management > should restart specific adapters [51.10ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter1' removed successfully
✓ AdapterFactoryManager > Adapter Management > should remove adapters [6.01ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter1' configuration updated successfully
✓ AdapterFactoryManager > Adapter Management > should update adapter configuration [5.98ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 21ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Health Monitoring > should get health status of specific adapter [0.17ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Health Monitoring > should get health status of all adapters [0.32ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Health Monitoring > should report overall factory health [0.37ms]
All adapters stopped in 22ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'failing' registered successfully
Built-in adapter types would be registered here
Adapter 'failing-adapter' of type 'failing' created successfully in 11ms
AdapterFactoryManager initialized with 1 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Error Handling > should handle adapter start failures [11.02ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
✓ AdapterFactoryManager > Error Handling > should handle missing adapter operations gracefully [0.23ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Statistics > should track factory statistics [0.21ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter3' of type 'mock' created successfully in 10ms
Adapter 'adapter3' removed successfully
✓ AdapterFactoryManager > Statistics > should update statistics after operations [16.19ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
Adapter 'adapter3' of type 'mock' created successfully in 11ms
AdapterFactoryManager configuration updated
Component test-factory configuration updated successfully
✓ AdapterFactoryManager > Configuration Updates > should update factory configuration [22.73ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed

src/config/browser/__test__/BrowserFallbackManager.test.ts:
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Initialization and Lifecycle > should initialize successfully [0.07ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Starting BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager started
Component browser-fallback-test started successfully
Stopping BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager stopped
Component browser-fallback-test stopped successfully
✓ BrowserFallbackManager > Initialization and Lifecycle > should start and stop successfully [0.76ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Starting BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager started
Component browser-fallback-test started successfully
✓ BrowserFallbackManager > Initialization and Lifecycle > should get health status [0.41ms]
Stopping BrowserFallbackManager: browser-fallback-test
BrowserFallbackManager stopped
Component browser-fallback-test stopped successfully
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Configuration Management > should get default configuration [0.03ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Configuration Management > should update configuration [0.17ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Quota Monitoring > should check quota status for all storage types [0.10ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Quota Monitoring > should get quota status for specific storage type [0.05ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Quota Monitoring > should start and stop quota monitoring [0.04ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should add fallback rule [0.06ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should update fallback rule [0.12ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should remove fallback rule [0.07ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should enable and disable fallback rules [0.10ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should get all fallback rules [0.03ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Rules Management > should validate fallback rules [0.03ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should trigger manual fallback [0.44ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should execute fallback rule [0.25ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should get active and historical executions [0.06ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Fallback Execution > should handle execution errors gracefully [0.06ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute memory-only fallback [0.09ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute reduced cache fallback [0.03ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute external storage fallback [0.08ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute compression fallback
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute selective cleanup fallback [0.03ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Strategy Implementation > should execute graceful degradation fallback [0.42ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Statistics and Monitoring > should track statistics [0.17ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Statistics and Monitoring > should reset statistics [0.07ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Statistics and Monitoring > should export statistics [0.12ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Event System > should emit and handle events [0.16ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Event System > should remove event handlers [0.03ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Utility Methods > should estimate quota usage [0.53ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Utility Methods > should simulate fallback strategies [0.09ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Bulk Operations > should add multiple fallback rules [0.14ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Bulk Operations > should update multiple fallback rules [0.16ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
✓ BrowserFallbackManager > Bulk Operations > should remove multiple fallback rules [0.14ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Initializing BrowserFallbackManager: browser-fallback-import-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-import-test initialized successfully
✓ BrowserFallbackManager > Import/Export > should export and import configuration [0.26ms]
Initializing BrowserFallbackManager: browser-fallback-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-test initialized successfully
Initializing BrowserFallbackManager: browser-fallback-history-test
Detected available storage types: localStorage, sessionStorage
BrowserFallbackManager initialized with 2 rules
Component browser-fallback-history-test initialized successfully
✓ BrowserFallbackManager > Import/Export > should export and import fallback history [0.46ms]

src/config/registry/__test__/ComponentRegistry.test.ts:
Component 'test-1' registered successfully in 0ms
✓ ComponentRegistry > Component Registration > should register a component successfully [0.40ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
✓ ComponentRegistry > Component Registration > should throw error when registering duplicate component [0.10
ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-1' unregistered successfully in 0ms
✓ ComponentRegistry > Component Registration > should unregister a component successfully [0.19ms]
Cleaning up registry...
✓ ComponentRegistry > Component Registration > should throw error when unregistering non-existent component 
[0.07ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 21ms
✓ ComponentRegistry > Component Lifecycle > should initialize all components [21.33ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 22ms
Component test-1 started successfully
Component test-2 started successfully
All components started successfully in 23ms
✓ ComponentRegistry > Component Lifecycle > should start all components after initialization [44.70ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 22ms
Component test-1 started successfully
Component test-2 started successfully
All components started successfully in 21ms
Component test-2 stopped successfully
Component test-1 stopped successfully
All components stopped in 22ms
✓ ComponentRegistry > Component Lifecycle > should stop all components [65.62ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
✓ ComponentRegistry > Component Queries > should get components by type [0.21ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
✓ ComponentRegistry > Component Queries > should get all components [0.10ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
✓ ComponentRegistry > Component Queries > should get registry statistics [0.10ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 22ms
Component test-1 started successfully
Component test-2 started successfully
All components started successfully in 21ms
✓ ComponentRegistry > Health Monitoring > should get health status of all components [43.12ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component test-1 initialized successfully
All components initialized successfully in 11ms
Component test-1 started successfully
All components started successfully in 11ms
✓ ComponentRegistry > Health Monitoring > should get health status of specific component [21.85ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component 'test-2' registered successfully in 0ms
Component test-1 initialized successfully
Component test-2 initialized successfully
All components initialized successfully in 22ms
Component test-1 configuration updated successfully
Component test-2 configuration updated successfully
✓ ComponentRegistry > Configuration Updates > should update configuration for all components [33.45ms]
Cleaning up registry...
Component 'test-1' registered successfully in 0ms
Component test-1 initialized successfully
All components initialized successfully in 11ms
Component test-1 configuration updated successfully
✓ ComponentRegistry > Configuration Updates > should update configuration for specific component [16.37ms]
Cleaning up registry...
Component 'failing-1' registered successfully in 0ms
✓ ComponentRegistry > Error Handling > should handle component initialization failure [0.52ms]
Cleaning up registry...
Component 'failing-1' registered successfully in 0ms
Component failing-1 initialized successfully
All components initialized successfully in 11ms
✓ ComponentRegistry > Error Handling > should handle component startup failure [11.39ms]
Cleaning up registry...

src/config/collections/__test__/ReadOnlyCollectionManager.test.ts:
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Component readonly-collection-manager cleanup completed
✓ ReadOnlyCollectionManager > Initialization > should initialize with default configuration [0.12ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 1 read-only collections
Component readonly-collection-manager initialized successfully
Component readonly-collection-manager cleanup completed
✓ ReadOnlyCollectionManager > Initialization > should load read-only collections from configuration [0.19ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should mark collection as read-only [0.34ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
Collection test-collection marked as writable
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should mark collection as writable [0.15ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should get all read-only collections [0.07ms
]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with WARNING protection
Protection level for test-collection updated to STRICT
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should update protection level [0.11ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Read-Only Collection Management > should throw error when updating non-existen
t collection [0.28ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should allow operations on non-read-only collecti
ons [0.19ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should block operations on strict read-only colle
ctions [0.07ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should allow with warning on warning-level collec
tions [0.04ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should allow operations on disabled protection co
llections
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
Collection custom-collection marked as read-only with CUSTOM protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should handle custom protection level with allowe
d operations [0.14ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection strict-collection marked as read-only with STRICT protection
Collection warning-collection marked as read-only with WARNING protection
Collection disabled-collection marked as read-only with DISABLED protection
Collection custom-collection marked as read-only with CUSTOM protection
✓ ReadOnlyCollectionManager > Write Operation Validation > should handle custom protection level with blocke
d operations [0.07ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should have default detection rules [0.06ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'custom-test-rule' added
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should add custom detection rule [0.05ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Detection rule 'removable-rule' added
Detection rule 'removable-rule' removed
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should remove detection rule [0.09ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Auto-Detection Rules > should test default detection rules [0.12ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Event System > should emit write operation events [0.12ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Event System > should allow unsubscribing from events [0.09ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with WARNING protection
Collection collection2 marked as read-only with STRICT protection
Bulk updated 2 read-only collection configurations
✓ ReadOnlyCollectionManager > Bulk Operations > should handle bulk configuration updates [0.18ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Imported 2 read-only collection configurations (merge: true)
Component readonly-collection-manager cleanup completed
✓ ReadOnlyCollectionManager > Bulk Operations > should export and import configurations [0.03ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
Cleared 2 read-only collection configurations
✓ ReadOnlyCollectionManager > Bulk Operations > should clear all configurations [0.11ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection collection1 marked as read-only with STRICT protection
Collection collection2 marked as read-only with WARNING protection
Collection collection3 marked as read-only with DISABLED protection
✓ ReadOnlyCollectionManager > Statistics > should track collection statistics [0.10ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Statistics > should track blocked operations [0.11ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with WARNING protection
✓ ReadOnlyCollectionManager > Statistics > should track warning operations [0.13ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
Collection test-collection marked as read-only with STRICT protection
✓ ReadOnlyCollectionManager > Health Monitoring > should report healthy status with normal operations [0.12m
s]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
✓ ReadOnlyCollectionManager > Health Monitoring > should report warning status with high blocked operations 
[0.03ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed
Detection rule 'external-adapter-rule' added
Detection rule 'backup-collection-rule' added
Detection rule 'readonly-suffix-rule' added
ReadOnlyCollectionManager initialized with 0 read-only collections
Component readonly-collection-manager initialized successfully
Auto-detection started with 300000ms interval
ReadOnlyCollectionManager started successfully
Component readonly-collection-manager started successfully
ReadOnlyCollectionManager configuration updated successfully
Component readonly-collection-manager configuration updated successfully
Collection test-collection marked as read-only with WARNING protection
✓ ReadOnlyCollectionManager > Configuration Updates > should handle configuration updates [0.11ms]
Auto-detection stopped
ReadOnlyCollectionManager stopped successfully
Component readonly-collection-manager stopped successfully
Component readonly-collection-manager cleanup completed

3 tests failed:
✗ ConfigurationManager > loadFromFile > should load and validate a correct YAML configuration file [7.66ms]
✗ ConfigurationManager > loadFromFile > should load and validate a correct JSON configuration file [1.08ms]
✗ ConfigurationManager > getConfig > should return the loaded configuration [0.95ms]

 251 pass
 3 fail
 719 expect() calls
Ran 254 tests across 13 files. [4.40s]
➜  collection-store git:(master) ✗
```

---



---

Тесты по-прежнему завершаются с ошибкой. Я забыл добавить поле `core.version`. Я добавлю его в `valid.yml`, а затем в `valid.json`. Сначала `valid.yml`.

---

```diff
  core:
    name: "test-store"
+   version: "1.0.0"
    environment: "development"
    instanceId: "test-instance"
```

---



---

Я обновил `valid.yml` полем `core.version`. Теперь мне нужно обновить `valid.json` тем же полем.

---

```diff
    "core": {
      "name": "test-store-json",
+     "version": "1.0.0",
      "environment": "production",
      "instanceId": "test-instance-json",
```

---



---

```bash
bun test src/config
```

```
➜  collection-store git:(master) ✗ bun test src/config
bun test v1.2.16 (631e6748)

src/config/__test__/QuotaManager.test.ts:
✓ QuotaManager > getQuotas > should return the quota config if it exists [1.77ms]
✓ QuotaManager > getQuotas > should return null if no quota config exists [0.07ms]
✓ QuotaManager > isStorageExceeded > should return false if usage is below the quota [1.33ms]
✓ QuotaManager > isStorageExceeded > should return true if usage is above the quota [0.02ms]
✓ QuotaManager > isStorageExceeded > should return false if no storage quota is set [0.01ms]
✓ QuotaManager > isStorageExceeded > should correctly parse different byte units [0.03ms]
✓ QuotaManager > isStorageExceeded > should throw an error for invalid byte strings [0.49ms]

src/config/__test__/ConfigurationManager.test.ts:
✓ ConfigurationManager > loadFromFile > should load and validate a correct YAML configuration file [4.99ms]
✓ ConfigurationManager > loadFromFile > should load and validate a correct JSON configuration file [1.09ms]
✓ ConfigurationManager > loadFromFile > should throw an error if the file does not exist [0.06ms]
✓ ConfigurationManager > loadFromFile > should throw an error for a file with invalid syntax [1.71ms]
✓ ConfigurationManager > loadFromFile > should throw a validation error for a file with invalid structure [0
.69ms]
✓ ConfigurationManager > loadFromFile > should throw an error for unsupported file formats [2.28ms]
✓ ConfigurationManager > getConfig > should return the loaded configuration [1.02ms]
✓ ConfigurationManager > getConfig > should throw an error if getConfig is called before loadFromFile [0.13m
s]

src/config/__test__/ConfigurationManager.hotreload.test.ts:
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-w7Pkly/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-w7Pk
ly/test-config.yaml
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should load configuration with hot relo
ad enabled [2.47ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-w7Pkly/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should load configuration without hot r
eload by default [0.33ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-PbRpzV/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-PbRp
zV/test-config.yaml
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should enable hot reload after loading 
[0.96ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-PbRpzV/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-jHQx9s/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-jHQx
9s/test-config.yaml
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-jHQx9s/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Basic Hot Reload Functionality > should disable hot reload [0.30ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-pTSArS/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-pTSA
rS/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-pTSArS/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Configuration Change Detection > should detect file changes and reload c
onfiguration [303.37ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-pTSArS/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-NVKC3G/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-NVKC
3G/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-NVKC3G/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Configuration Change Detection > should handle multiple change callbacks
 [302.99ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-NVKC3G/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-oWthtn/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-oWth
tn/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-oWthtn/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Configuration Change Detection > should remove specific callbacks [303.0
5ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-oWthtn/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Manual Reload > should manually reload configuration [0.49ms]
✓ ConfigurationManager Hot Reload > Manual Reload > should trigger callbacks on manual reload [0.50ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-uhhHZU/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-uhhH
ZU/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-uhhHZU/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Error Handling > should handle invalid configuration during hot reload [
303.03ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-uhhHZU/tes
t-config.yaml
Hot reload disabled
✓ ConfigurationManager Hot Reload > Error Handling > should throw error when enabling hot reload without loa
ded config [0.18ms]
✓ ConfigurationManager Hot Reload > Error Handling > should throw error when manually reloading without load
ed config [0.12ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-cFPYiO/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-cFPY
iO/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-cFPYiO/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > Environment Configuration Integration > should handle environment-specif
ic configuration changes [302.96ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-cFPYiO/tes
t-config.yaml
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-hoz44U/tes
t-config.yaml
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-hoz4
4U/test-config.yaml
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-hoz44U/test-config.
yaml. Reloading...
✓ ConfigurationManager Hot Reload > IndexManager Integration > should handle IndexManager configuration chan
ges [302.83ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-test-hoz44U/tes
t-config.yaml
Hot reload disabled

src/config/__test__/NodeRoleManager.test.ts:
✓ NodeRoleManager > should return the correct role for a configured node
✓ NodeRoleManager > should throw an error if the node ID does not match the one in the config [0.32ms]
✓ NodeRoleManager > should throw an error if no configuration is loaded [0.02ms]

src/config/__test__/ConfigWatcher.test.ts:
Started watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Configuration file changed: /Users/vedmalex/work/collection-store/packages/collection-store/src/config/__tes
t__/temp/test-config.yml. Reloading...
✓ ConfigWatcher > should call the callback with the new config when the file changes [102.19ms]
Stopped watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Started watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Stopped watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
✓ ConfigWatcher > should stop watching a file with unwatch() [302.47ms]
Started watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml
Configuration file changed: /Users/vedmalex/work/collection-store/packages/collection-store/src/config/__tes
t__/temp/test-config.yml. Reloading...
✓ ConfigWatcher > should handle errors gracefully if the updated file is invalid [202.92ms]
Stopped watching configuration file: /Users/vedmalex/work/collection-store/packages/collection-store/src/con
fig/__test__/temp/test-config.yml

src/config/__test__/ConfigurationIntegration.test.ts:
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-DHrc4n/integration-config.json
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integrati
on-test-DHrc4n/integration-config.json
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
✓ Configuration-Driven Architecture Integration > Full System Integration > should initialize complete confi
guration-driven architecture [1.17ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-DHrc4n/integration-config.json
Hot reload disabled
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-04hU2G/integration-config.json
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integrati
on-test-04hU2G/integration-config.json
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Configuration file changed: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-test-04hU2G/
integration-config.json. Reloading...
Configuration change detected, updating role from PRIMARY to SECONDARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database configuration updated from config change
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database configuration updated from config change
✓ Configuration-Driven Architecture Integration > Full System Integration > should handle configuration chan
ges across all components [402.73ms]
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-04hU2G/integration-config.json
Hot reload disabled
Node initialized: test-node-integration as PRIMARY
Node demoted from PRIMARY to SECONDARY
Invalid role transition from SECONDARY to BROWSER
Node promoted from SECONDARY to PRIMARY
✓ Configuration-Driven Architecture Integration > Full System Integration > should support node role transit
ions with capability updates [0.48ms]
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Cross-database transaction started: tx-mbvn8mc2-tge42y
Transaction prepared: tx-mbvn8mc2-tge42y
Transaction committed: tx-mbvn8mc2-tge42y
✓ Configuration-Driven Architecture Integration > Full System Integration > should manage cross-database tra
nsactions with 2PC [1.71ms]
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Cross-database transaction started: tx-mbvn8mc4-roz2gq
Transaction aborted: tx-mbvn8mc4-roz2gq
✓ Configuration-Driven Architecture Integration > Full System Integration > should handle transaction failur
es and rollback [0.60ms]
✓ Configuration-Driven Architecture Integration > Full System Integration > should validate environment-spec
ific configurations [0.24ms]
Node initialized: test-node-integration as PRIMARY
Node registered: secondary-node-1 as SECONDARY
Node registered: client-node-1 as CLIENT
✓ Configuration-Driven Architecture Integration > Full System Integration > should support cluster health mo
nitoring [0.39ms]
Started watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-Nrz56G/integration-config.json
Hot reload enabled for configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integrati
on-test-Nrz56G/integration-config.json
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
Stopped watching configuration file: /var/folders/_y/w32ykyg53_d0kw28dq82k8g40000gn/T/config-integration-tes
t-Nrz56G/integration-config.json
Hot reload disabled
✓ Configuration-Driven Architecture Integration > Full System Integration > should cleanup all components pr
operly [0.97ms]
✓ Configuration-Driven Architecture Integration > Error Handling and Edge Cases > should handle missing conf
iguration gracefully [0.10ms]
✓ Configuration-Driven Architecture Integration > Error Handling and Edge Cases > should handle invalid node
 operations [0.23ms]
Node initialized: test-node-integration as PRIMARY
Database registered: primary (primary)
Database registered: mongodb (external)
Database registered: googlesheets (external)
Cross-database transaction configuration initialized
✓ Configuration-Driven Architecture Integration > Error Handling and Edge Cases > should handle invalid tran
saction operations [0.51ms]

src/config/database/__test__/DatabaseInheritanceManager.test.ts:
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Initialization > should initialize with default configuration [0.24ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Initialization > should initialize with custom configuration [0.08ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should set and get database configuration
 [0.66ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should return null for non-existent datab
ase
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should get all database configurations [0
.07ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Database Configuration Management > should validate database configuration [0
.04ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should add collection override [0.19ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should remove collection override [0.09ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should get all collection overrides for data
base [0.08ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Collection Override Management > should reject override for non-existent data
base [0.03ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should resolve database-level configuration [0.64m
s]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should resolve collection-level configuration with
 overrides [0.10ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should get specific configuration value [0.17ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Resolution > should return undefined for non-existent config pa
th [0.11ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Inheritance Rules > should add custom inheritance rule [0.06ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Inheritance Rules > should remove inheritance rule [0.06ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Inheritance Rules > should apply inheritance rules during resolution [0.12ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Validation > should validate inheritance successfully [0.39ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Validation > should detect validation errors [0.09ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Statistics and Monitoring > should provide accurate statistics [0.12ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Statistics and Monitoring > should track cache usage [0.04ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Event System > should emit events for configuration changes [0.06ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Event System > should allow unsubscribing from events [0.06ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Import/Export > should export configurations [0.02ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Import/Export > should import configurations [0.42ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
✓ DatabaseInheritanceManager > Import/Export > should merge configurations during import [0.13ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Bulk Operations > should bulk update database configurations [0.21ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Bulk Operations > should bulk update collection overrides [0.25ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Configuration Hierarchy > should provide configuration hierarchy for debuggin
g [0.23ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Cache Management > should clear resolution cache [0.07ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
✓ DatabaseInheritanceManager > Cache Management > should refresh all configurations [0.15ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Starting DatabaseInheritanceManager
Component database-inheritance-manager started successfully
Stopping DatabaseInheritanceManager
Component database-inheritance-manager stopped successfully
✓ DatabaseInheritanceManager > Health Monitoring > should report healthy status with databases configured [0
.39ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed
Initializing DatabaseInheritanceManager
DatabaseInheritanceManager initialized successfully
Component database-inheritance-manager initialized successfully
Starting DatabaseInheritanceManager
Component database-inheritance-manager started successfully
Stopping DatabaseInheritanceManager
Component database-inheritance-manager stopped successfully
✓ DatabaseInheritanceManager > Health Monitoring > should report warning status with no databases [0.07ms]
Cleaning up DatabaseInheritanceManager
Component database-inheritance-manager cleanup completed

src/config/features/__test__/FeatureToggleManager.test.ts:
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Cache cleared
Component feature-toggle-manager cleanup completed
✓ FeatureToggleManager > Initialization > should initialize with default configuration [0.14ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Initializing FeatureToggleManager
Cache cleared for feature test-feature
Feature test-feature configuration updated
FeatureToggleManager initialized with 1 features
Component feature-toggle-manager initialized successfully
Cache cleared
Component feature-toggle-manager cleanup completed
✓ FeatureToggleManager > Initialization > should load features from configuration [0.40ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Feature Management > should create and manage features [0.09ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Feature Management > should prevent duplicate feature creation [0.07ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Feature Management > should enable and disable features [0.20ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Feature Management > should toggle feature state [0.09ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature removed
✓ FeatureToggleManager > Feature Management > should remove features [0.10ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Cache cleared for feature feature3
Feature feature3 configuration updated
Feature feature3 created
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Cache cleared for feature feature3
Feature feature3 configuration updated
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Cache cleared for feature feature3
Feature feature3 configuration updated
✓ FeatureToggleManager > Feature Management > should handle bulk operations [0.27ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature percentage-feature
Feature percentage-feature configuration updated
Feature percentage-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate percentage rollout [0.51ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature group-feature
Feature group-feature configuration updated
Feature group-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate user groups [0.12ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature time-feature
Feature time-feature configuration updated
Feature time-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate time windows [0.11ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature env-feature
Feature env-feature configuration updated
Feature env-feature created
✓ FeatureToggleManager > Feature Conditions > should evaluate environment restrictions [0.06ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature dependency-feature
Feature dependency-feature configuration updated
Feature dependency-feature created
Cache cleared for feature dependent-feature
Feature dependent-feature configuration updated
Feature dependent-feature created
Cache cleared for feature dependency-feature
Feature dependency-feature configuration updated
Cache cleared for feature dependent-feature
✓ FeatureToggleManager > Feature Conditions > should evaluate feature dependencies [0.07ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Feature Evaluation > should provide detailed evaluation results [0.07ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
✓ FeatureToggleManager > Feature Evaluation > should handle non-existent features [0.02ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature enabled-feature
Feature enabled-feature configuration updated
Feature enabled-feature created
Cache cleared for feature disabled-feature
Feature disabled-feature configuration updated
Feature disabled-feature created
✓ FeatureToggleManager > Statistics > should track feature statistics [0.05ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Statistics > should track evaluation count [0.06ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Event System > should emit feature change events [0.08ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
Cache cleared for feature test-feature
Feature test-feature configuration updated
Cache cleared for feature test-feature
Feature test-feature configuration updated
✓ FeatureToggleManager > Event System > should allow unsubscribing from events [0.21ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Bulk updated 2 features
Imported 2 features (merge: true)
Cache cleared
Component feature-toggle-manager cleanup completed
✓ FeatureToggleManager > Configuration Management > should export and import configuration [0.61ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Cache cleared for feature feature2
Feature feature2 configuration updated
Cache cleared for feature feature3
Feature feature3 configuration updated
Bulk updated 3 features
✓ FeatureToggleManager > Configuration Management > should handle bulk updates [0.09ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Health Monitoring > should report healthy status with features [0.11ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
✓ FeatureToggleManager > Health Monitoring > should report warning status with no features [0.05ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature test-feature
Feature test-feature configuration updated
Feature test-feature created
✓ FeatureToggleManager > Cache Management > should cache evaluation results [0.04ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Cache cleared for feature feature1
✓ FeatureToggleManager > Cache Management > should clear cache for specific features [0.05ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Cache cleared for feature feature1
Feature feature1 configuration updated
Feature feature1 created
Cache cleared for feature feature2
Feature feature2 configuration updated
Feature feature2 created
Cache cleared
✓ FeatureToggleManager > Cache Management > should clear all cache [0.04ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed
Initializing FeatureToggleManager
FeatureToggleManager initialized with 0 features
Component feature-toggle-manager initialized successfully
Starting FeatureToggleManager
FeatureToggleManager started successfully
Component feature-toggle-manager started successfully
Updating FeatureToggleManager configuration
Cache cleared for feature initial-feature
Feature initial-feature configuration updated
FeatureToggleManager configuration updated successfully
Component feature-toggle-manager configuration updated successfully
Updating FeatureToggleManager configuration
Cache cleared for feature initial-feature
Feature initial-feature configuration updated
Cache cleared for feature new-feature
Feature new-feature configuration updated
Cache cleared
FeatureToggleManager configuration updated successfully
Component feature-toggle-manager configuration updated successfully
✓ FeatureToggleManager > Configuration Updates > should handle configuration updates [0.18ms]
Stopping FeatureToggleManager
Cache cleared
FeatureToggleManager stopped successfully
Component feature-toggle-manager stopped successfully
Cache cleared
Component feature-toggle-manager cleanup completed

src/config/conflicts/__test__/ConflictResolutionManager.test.ts:
Component ConflictResolutionManager initialized successfully
Component ConflictResolutionManager initialized successfully
Component ConflictResolutionManager is not running, skipping stop
✓ ConflictResolutionManager > Lifecycle Management > should initialize with default configuration [0.20ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
Component ConflictResolutionManager started successfully
Component ConflictResolutionManager stopped successfully
✓ ConflictResolutionManager > Lifecycle Management > should start and stop successfully [0.23ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Lifecycle Management > should report healthy status with no conflicts [0.21ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Lifecycle Management > should update configuration [0.12ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should detect value conflicts between configurations [0.2
7ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should detect type conflicts between configurations [0.06
ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should detect conflicts in specific path [0.11ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should validate configuration against existing conflicts 
[0.12ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Detection > should scan for existing conflicts [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get conflict by ID [0.03ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get all conflicts [0.02ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get conflicts by type [0.04ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should get conflicts by severity [0.02ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should remove specific conflict [0.04ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Management > should clear all conflicts [0.03ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should add resolution rule [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should update resolution rule [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should remove resolution rule [0.05ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should get all resolution rules [0.02ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should enable and disable resolution rules [0.06
ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Rules Management > should validate resolution rule [0.03ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve conflict with merge strategy [1.52ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve conflict with override strategy [1.44ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve multiple conflicts [4.02ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should resolve all conflicts [3.58ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Conflict Resolution > should auto-resolve conflicts [1.49ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should merge configurations deeply [0.19ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should merge configurations shallowly [0.19ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should select configuration by priority [0.21ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Resolution Strategies > should prompt user for resolution [0.14ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Statistics and Monitoring > should track statistics [1.58ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Statistics and Monitoring > should reset statistics [2.01ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Statistics and Monitoring > should export statistics [0.20ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Event System > should emit conflict detected event [0.17ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Event System > should emit conflict resolved event [1.64ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Utility Methods > should compare configurations [0.19ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Utility Methods > should generate conflict report [0.47ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Utility Methods > should simulate resolution [0.72ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Bulk Operations > should add multiple resolution rules [0.32ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Bulk Operations > should update multiple resolution rules [0.16ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Bulk Operations > should remove multiple resolution rules [0.12ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should export configuration [0.13ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should import configuration [0.19ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should export conflict history [0.76ms]
Component ConflictResolutionManager is not running, skipping stop
Component ConflictResolutionManager initialized successfully
✓ ConflictResolutionManager > Import/Export > should import conflict history [0.17ms]
Component ConflictResolutionManager is not running, skipping stop

src/config/adapters/__test__/AdapterFactoryManager.test.ts:
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Initialization > should initialize successfully with valid configuration [22.47ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Built-in adapter types would be registered here
Failed to create adapter 'adapter1': Failed to create adapter 'adapter1': Adapter type 'mock' is not registe
red
✓ AdapterFactoryManager > Initialization > should fail initialization with unregistered adapter type [0.31ms
]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Built-in adapter types would be registered here
AdapterFactoryManager initialized with 0 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Initialization > should handle empty adapter configuration [0.09ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
✓ AdapterFactoryManager > Adapter Type Registration > should register adapter types successfully [0.03ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
✓ AdapterFactoryManager > Adapter Type Registration > should prevent duplicate adapter type registration [0.
04ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Adapter type 'mock' unregistered successfully
✓ AdapterFactoryManager > Adapter Type Registration > should unregister adapter types when no instances exis
t [0.06ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 10ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
✓ AdapterFactoryManager > Adapter Type Registration > should prevent unregistering adapter types with active
 instances [21.86ms]
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
All adapters started successfully in 22ms
AdapterFactoryManager started with 2 adapters
Component test-factory started successfully
✓ AdapterFactoryManager > Adapter Lifecycle > should start all adapters successfully [21.77ms]
All adapters stopped in 21ms
AdapterFactoryManager stopped
Component test-factory stopped successfully
All adapters stopped in 0ms
AdapterFactoryManager cleanup completed
Component test-factory cleanup completed
Adapter type 'mock' registered successfully
Built-in adapter types would be registered here
Adapter 'adapter1' of type 'mock' created successfully in 11ms
Adapter 'adapter2' of type 'mock' created successfully in 11ms
AdapterFactoryManager initialized with 2 adapters
Component test-factory initialized successfully
```

---



---

